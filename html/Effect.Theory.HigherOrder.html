<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Effect.Theory.HigherOrder</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Symbol">#-}</a> 

<a id="31" class="Keyword">open</a> <a id="36" class="Keyword">import</a> <a id="43" href="Core.Functor.html" class="Module">Core.Functor</a>
<a id="56" class="Keyword">open</a> <a id="61" class="Keyword">import</a> <a id="68" href="Core.Functor.Monad.html" class="Module">Core.Functor.Monad</a>

<a id="88" class="Keyword">open</a> <a id="93" class="Keyword">import</a> <a id="100" href="Core.Ternary.html" class="Module">Core.Ternary</a>
<a id="113" class="Keyword">open</a> <a id="118" class="Keyword">import</a> <a id="125" href="Core.Logic.html" class="Module">Core.Logic</a>
<a id="136" class="Keyword">open</a> <a id="141" class="Keyword">import</a> <a id="148" href="Core.Signature.html" class="Module">Core.Signature</a>
<a id="163" class="Keyword">open</a> <a id="168" class="Keyword">import</a> <a id="175" href="Core.Extensionality.html" class="Module">Core.Extensionality</a>
<a id="195" class="Keyword">open</a> <a id="200" class="Keyword">import</a> <a id="207" href="Core.MonotonePredicate.html" class="Module">Core.MonotonePredicate</a> 

<a id="232" class="Keyword">open</a> <a id="237" class="Keyword">import</a> <a id="244" href="Effect.Base.html" class="Module">Effect.Base</a>
<a id="256" class="Keyword">open</a> <a id="261" class="Keyword">import</a> <a id="268" href="Effect.Theory.FirstOrder.html" class="Module">Effect.Theory.FirstOrder</a>
<a id="293" class="Keyword">open</a> <a id="298" class="Keyword">import</a> <a id="305" href="Effect.Elaborate.html" class="Module">Effect.Elaborate</a>

<a id="323" class="Keyword">open</a> <a id="328" class="Keyword">import</a> <a id="335" href="Effect.Syntax.Free.html" class="Module">Effect.Syntax.Free</a>
<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Effect.Syntax.Hefty.html" class="Module">Effect.Syntax.Hefty</a>

<a id="387" class="Keyword">open</a> <a id="392" class="Keyword">import</a> <a id="399" href="Effect.Relation.Binary.FirstOrderInclusion.html" class="Module">Effect.Relation.Binary.FirstOrderInclusion</a>
<a id="442" class="Keyword">open</a> <a id="447" class="Keyword">import</a> <a id="454" href="Effect.Relation.Binary.HigherOrderInclusion.html" class="Module">Effect.Relation.Binary.HigherOrderInclusion</a>
<a id="498" class="Keyword">open</a> <a id="503" class="Keyword">import</a> <a id="510" href="Effect.Relation.Ternary.FirstOrderSeparation.html" class="Module">Effect.Relation.Ternary.FirstOrderSeparation</a>
<a id="555" class="Keyword">open</a> <a id="560" class="Keyword">import</a> <a id="567" href="Effect.Relation.Ternary.HigherOrderSeparation.html" class="Module">Effect.Relation.Ternary.HigherOrderSeparation</a>

<a id="614" class="Keyword">open</a> <a id="619" class="Keyword">import</a> <a id="626" href="Data.List.html" class="Module">Data.List</a> <a id="636" class="Keyword">hiding</a> <a id="643" class="Symbol">(</a><a id="644" href="Data.List.Base.html#5244" class="Function Operator">[_]</a><a id="647" class="Symbol">)</a>
<a id="649" class="Keyword">open</a> <a id="654" class="Keyword">import</a> <a id="661" href="Data.List.Membership.Propositional.html" class="Module">Data.List.Membership.Propositional</a>
<a id="696" class="Keyword">open</a> <a id="701" class="Keyword">import</a> <a id="708" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a> <a id="737" class="Keyword">hiding</a> <a id="744" class="Symbol">(</a><a id="745" href="Data.List.Relation.Unary.Any.html#1650" class="Function">map</a><a id="748" class="Symbol">)</a>

<a id="751" class="Keyword">open</a> <a id="756" class="Keyword">import</a> <a id="763" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="772" class="Keyword">hiding</a> <a id="779" class="Symbol">(</a><a id="780" href="Data.Vec.Base.html#2947" class="Function">map</a> <a id="784" class="Symbol">;</a> <a id="786" href="Data.Vec.Base.html#3068" class="Function Operator">_++_</a> <a id="791" class="Symbol">;</a> <a id="793" href="Data.Vec.Base.html#6475" class="Function Operator">[_]</a><a id="796" class="Symbol">)</a>
<a id="798" class="Keyword">open</a> <a id="803" class="Keyword">import</a> <a id="810" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="819" class="Keyword">hiding</a> <a id="826" class="Symbol">(</a><a id="827" href="Data.Sum.Base.html#1253" class="Function">map</a><a id="830" class="Symbol">)</a>
<a id="832" class="Keyword">open</a> <a id="837" class="Keyword">import</a> <a id="844" href="Data.Product.html" class="Module">Data.Product</a> <a id="857" class="Keyword">hiding</a> <a id="864" class="Symbol">(</a><a id="865" href="Data.Product.Base.html#2173" class="Function">map</a><a id="868" class="Symbol">)</a>
<a id="870" class="Keyword">open</a> <a id="875" class="Keyword">import</a> <a id="882" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="891" class="Keyword">open</a> <a id="896" class="Keyword">import</a> <a id="903" href="Data.List.html" class="Module">Data.List</a> <a id="913" class="Keyword">using</a> <a id="919" class="Symbol">(</a><a id="920" href="Data.List.Base.html#1631" class="Function">map</a><a id="923" class="Symbol">)</a>

<a id="926" class="Keyword">open</a> <a id="931" class="Keyword">import</a> <a id="938" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="953" class="Keyword">hiding</a> <a id="960" class="Symbol">(</a><a id="961" href="Relation.Unary.html#1654" class="Function Operator">_∈_</a> <a id="965" class="Symbol">;</a> <a id="967" href="Relation.Unary.html#1882" class="Function Operator">_⊆_</a><a id="970" class="Symbol">)</a>
<a id="972" class="Keyword">open</a> <a id="977" class="Keyword">import</a> <a id="984" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1022" class="Keyword">using</a> <a id="1028" class="Symbol">(</a><a id="1029" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="1033" class="Symbol">;</a> <a id="1035" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1040" class="Symbol">;</a> <a id="1042" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="1046" class="Symbol">;</a> <a id="1048" href="Relation.Binary.PropositionalEquality.Core.html#1757" class="Function">trans</a> <a id="1054" class="Symbol">;</a> <a id="1056" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="1061" class="Symbol">;</a> <a id="1063" href="Relation.Binary.PropositionalEquality.Core.html#1395" class="Function">cong₂</a><a id="1068" class="Symbol">)</a>

<a id="1071" class="Keyword">open</a> <a id="1076" class="Keyword">import</a> <a id="1083" href="Function.html" class="Module">Function</a> 

<a id="1094" class="Comment">{- Theories for higher-order effects. Built on Zhixuan Yang and Nicholas Wu&#39;s
paper, but adapted for use with Hefty algebras -}</a>

<a id="1223" class="Keyword">module</a> <a id="1230" href="Effect.Theory.HigherOrder.html" class="Module">Effect.Theory.HigherOrder</a> <a id="1256" class="Keyword">where</a>

<a id="1263" class="Comment">--</a>
<a id="1266" class="Comment">-- TODO: this notion of equation seems to be too weak!!!!!!</a>
<a id="1326" class="Comment">-- </a>
<a id="1330" class="Keyword">record</a> <a id="Equationᴴ"></a><a id="1337" href="Effect.Theory.HigherOrder.html#1337" class="Record">Equationᴴ</a> <a id="1347" class="Symbol">(</a><a id="1348" href="Effect.Theory.HigherOrder.html#1348" class="Bound">η</a> <a id="1350" class="Symbol">:</a> <a id="1352" href="Effect.Base.html#756" class="Function">Effectᴴ</a><a id="1359" class="Symbol">)</a> <a id="1361" class="Symbol">:</a> <a id="1363" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> <a id="1368" class="Keyword">where</a>
  <a id="1376" class="Keyword">constructor</a> <a id="_≗ᴴ_"></a><a id="1388" href="Effect.Theory.HigherOrder.html#1388" class="InductiveConstructor Operator">_≗ᴴ_</a>
  <a id="1395" class="Keyword">field</a>
    <a id="1405" class="Symbol">{</a><a id="Equationᴴ.Δ′"></a><a id="1406" href="Effect.Theory.HigherOrder.html#1406" class="Field">Δ′</a><a id="1408" class="Symbol">}</a>      <a id="1415" class="Symbol">:</a> <a id="1417" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="1423" class="Symbol">{</a><a id="Equationᴴ.Γ′"></a><a id="1424" href="Effect.Theory.HigherOrder.html#1424" class="Field">Γ′</a> <a id="Equationᴴ.R′"></a><a id="1427" href="Effect.Theory.HigherOrder.html#1427" class="Field">R′</a><a id="1429" class="Symbol">}</a>   <a id="1433" class="Symbol">:</a> <a id="1435" href="Effect.Base.html#735" class="Function">Effect</a> <a id="1442" class="Symbol">→</a> <a id="1444" href="Effect.Theory.FirstOrder.html#1618" class="Function">TypeContext</a> <a id="1456" class="Field">Δ′</a> <a id="1459" class="Symbol">→</a> <a id="1461" href="Agda.Primitive.html#388" class="Primitive">Set</a> 
    <a id="Equationᴴ.lhsᴴ"></a><a id="1470" href="Effect.Theory.HigherOrder.html#1470" class="Field">lhsᴴ</a> <a id="Equationᴴ.rhsᴴ"></a><a id="1475" href="Effect.Theory.HigherOrder.html#1475" class="Field">rhsᴴ</a> <a id="1480" class="Symbol">:</a> <a id="1482" class="Symbol">{</a><a id="1483" href="Effect.Theory.HigherOrder.html#1483" class="Bound">ε</a> <a id="1485" class="Symbol">:</a> <a id="1487" href="Effect.Base.html#735" class="Function">Effect</a><a id="1493" class="Symbol">}</a> <a id="1495" class="Symbol">→</a> <a id="1497" href="Relation.Unary.html#3491" class="Function">Π[</a> <a id="1500" class="Field">Γ′</a> <a id="1503" href="Effect.Theory.HigherOrder.html#1483" class="Bound">ε</a> <a id="1505" href="Relation.Unary.html#4621" class="Function Operator">⇒</a> <a id="1507" class="Field">R′</a> <a id="1510" href="Effect.Theory.HigherOrder.html#1483" class="Bound">ε</a> <a id="1512" href="Relation.Unary.html#5366" class="Function Operator">⊢</a> <a id="1514" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="1520" class="Symbol">(</a><a id="1521" href="Effect.Theory.HigherOrder.html#1348" class="Bound">η</a> <a id="1523" href="Effect.Theory.HigherOrder.html#1483" class="Bound">ε</a><a id="1524" class="Symbol">)</a> <a id="1526" href="Relation.Unary.html#3491" class="Function">]</a>

<a id="1529" class="Keyword">open</a> <a id="1534" href="Effect.Theory.HigherOrder.html#1337" class="Module">Equationᴴ</a> <a id="1544" class="Keyword">public</a>

<a id="embed-equation"></a><a id="1552" href="Effect.Theory.HigherOrder.html#1552" class="Function">embed-equation</a> <a id="1567" class="Symbol">:</a> <a id="1569" href="Effect.Theory.FirstOrder.html#1774" class="Record">Equation</a> <a id="1578" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="1580" class="Symbol">→</a> <a id="1582" href="Effect.Theory.HigherOrder.html#1337" class="Record">Equationᴴ</a> <a id="1592" class="Symbol">(</a><a id="1593" href="Function.Base.html#725" class="Function">const</a> <a id="1599" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="1601" href="Effect.Base.html#786" class="Function">↑</a> <a id="1603" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="1604" class="Symbol">)</a>
<a id="1606" href="Effect.Theory.HigherOrder.html#1552" class="Function">embed-equation</a> <a id="1621" href="Effect.Theory.HigherOrder.html#1621" class="Bound">eq</a> <a id="1624" class="Symbol">=</a> <a id="1626" class="Symbol">(</a><a id="1627" href="Effect.Base.html#1052" class="Function">embed-free</a> <a id="1638" href="Function.Base.html#1303" class="Function Operator">∘₂</a> <a id="1641" href="Effect.Theory.HigherOrder.html#1621" class="Bound">eq</a> <a id="1644" class="Symbol">.</a><a id="1645" href="Effect.Theory.FirstOrder.html#1897" class="Field">lhs</a><a id="1648" class="Symbol">)</a> <a id="1650" href="Effect.Theory.HigherOrder.html#1388" class="InductiveConstructor Operator">≗ᴴ</a> <a id="1653" class="Symbol">(</a><a id="1654" href="Effect.Base.html#1052" class="Function">embed-free</a> <a id="1665" href="Function.Base.html#1303" class="Function Operator">∘₂</a> <a id="1668" href="Effect.Theory.HigherOrder.html#1621" class="Bound">eq</a> <a id="1671" class="Symbol">.</a><a id="1672" href="Effect.Theory.FirstOrder.html#1897" class="Field">lhs</a><a id="1675" class="Symbol">)</a>

<a id="1678" class="Comment">-- Weakening of equations (for higher-order effects). That is, `Equationᴴ`</a>
<a id="1753" class="Comment">-- defines a functor over the category of h.o. effects</a>
<a id="wk-equationᴴ"></a><a id="1808" href="Effect.Theory.HigherOrder.html#1808" class="Function">wk-equationᴴ</a> <a id="1821" class="Symbol">:</a> <a id="1823" class="Symbol">⦃</a> <a id="1825" href="Effect.Base.html#953" class="Generalizable">η₁</a> <a id="1828" href="Core.Ternary.html#666" class="Field Operator">≲</a> <a id="1830" href="Effect.Base.html#956" class="Generalizable">η₂</a> <a id="1833" class="Symbol">⦄</a> <a id="1835" class="Symbol">→</a> <a id="1837" href="Effect.Theory.HigherOrder.html#1337" class="Record">Equationᴴ</a> <a id="1847" href="Effect.Base.html#953" class="Generalizable">η₁</a> <a id="1850" class="Symbol">→</a> <a id="1852" href="Effect.Theory.HigherOrder.html#1337" class="Record">Equationᴴ</a> <a id="1862" href="Effect.Base.html#956" class="Generalizable">η₂</a> 
<a id="1866" href="Effect.Theory.HigherOrder.html#1808" class="Function">wk-equationᴴ</a> <a id="1879" href="Effect.Theory.HigherOrder.html#1879" class="Bound">eq</a> <a id="1882" class="Symbol">=</a> <a id="1884" class="Symbol">(</a><a id="1885" href="Effect.Relation.Binary.HigherOrderInclusion.html#959" class="Function">♯ᴴ</a> <a id="1888" href="Function.Base.html#1303" class="Function Operator">∘₂</a> <a id="1891" href="Effect.Theory.HigherOrder.html#1879" class="Bound">eq</a> <a id="1894" class="Symbol">.</a><a id="1895" href="Effect.Theory.HigherOrder.html#1470" class="Field">lhsᴴ</a><a id="1899" class="Symbol">)</a> <a id="1901" href="Effect.Theory.HigherOrder.html#1388" class="InductiveConstructor Operator">≗ᴴ</a> <a id="1904" class="Symbol">(</a><a id="1905" href="Effect.Relation.Binary.HigherOrderInclusion.html#959" class="Function">♯ᴴ</a> <a id="1908" href="Function.Base.html#1303" class="Function Operator">∘₂</a> <a id="1911" href="Effect.Theory.HigherOrder.html#1879" class="Bound">eq</a> <a id="1914" class="Symbol">.</a><a id="1915" href="Effect.Theory.HigherOrder.html#1475" class="Field">rhsᴴ</a><a id="1919" class="Symbol">)</a> 

<a id="1923" class="Comment">-- Again, an algebra respects an equation if folding lhs and rhs gives the same</a>
<a id="2003" class="Comment">-- result, where &quot;sameness&quot; is with respect a given binary relation that is kept</a>
<a id="2084" class="Comment">-- abstract here.</a>
<a id="2102" class="Comment">-- </a>
<a id="2106" class="Comment">-- We opt for this generalization (rather than using propositional equality)</a>
<a id="2183" class="Comment">-- here, because later we define correctness of elaborations as</a>
<a id="Respectsᴴ"></a><a id="2247" href="Effect.Theory.HigherOrder.html#2247" class="Function">Respectsᴴ</a> <a id="2257" class="Symbol">:</a> <a id="2259" class="Symbol">(</a><a id="2260" href="Effect.Theory.HigherOrder.html#2260" class="Bound Operator">_~_</a> <a id="2264" class="Symbol">:</a> <a id="2266" class="Symbol">∀</a> <a id="2268" class="Symbol">{</a><a id="2269" href="Effect.Theory.HigherOrder.html#2269" class="Bound">A</a><a id="2270" class="Symbol">}</a> <a id="2272" class="Symbol">→</a> <a id="2274" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="2279" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="2281" href="Effect.Theory.HigherOrder.html#2269" class="Bound">A</a> <a id="2283" class="Symbol">→</a> <a id="2285" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="2290" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="2292" href="Effect.Theory.HigherOrder.html#2269" class="Bound">A</a> <a id="2294" class="Symbol">→</a> <a id="2296" href="Agda.Primitive.html#388" class="Primitive">Set₁</a><a id="2300" class="Symbol">)</a> <a id="2302" class="Symbol">→</a> <a id="2304" href="Core.Signature.html#1127" class="Record">Algebra</a> <a id="2312" class="Symbol">(</a><a id="2313" href="Effect.Base.html#951" class="Generalizable">η</a> <a id="2315" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="2316" class="Symbol">)</a> <a id="2318" class="Symbol">(</a><a id="2319" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="2324" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="2325" class="Symbol">)</a> <a id="2327" class="Symbol">→</a> <a id="2329" href="Effect.Theory.HigherOrder.html#1337" class="Record">Equationᴴ</a> <a id="2339" href="Effect.Base.html#951" class="Generalizable">η</a> <a id="2341" class="Symbol">→</a> <a id="2343" href="Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="2348" href="Effect.Theory.HigherOrder.html#2247" class="Function">Respectsᴴ</a> <a id="2358" href="Effect.Theory.HigherOrder.html#2358" class="Bound Operator">_~_</a> <a id="2362" href="Effect.Theory.HigherOrder.html#2362" class="Bound">alg</a> <a id="2366" class="Symbol">(</a><a id="2367" href="Effect.Theory.HigherOrder.html#2367" class="Bound">lhs</a> <a id="2371" href="Effect.Theory.HigherOrder.html#1388" class="InductiveConstructor Operator">≗ᴴ</a> <a id="2374" href="Effect.Theory.HigherOrder.html#2374" class="Bound">rhs</a><a id="2377" class="Symbol">)</a> <a id="2379" class="Symbol">=</a>
  <a id="2383" class="Symbol">∀</a> <a id="2385" class="Symbol">{</a><a id="2386" href="Effect.Theory.HigherOrder.html#2386" class="Bound">δ</a> <a id="2388" href="Effect.Theory.HigherOrder.html#2388" class="Bound">γ</a><a id="2389" class="Symbol">}</a> <a id="2391" class="Symbol">→</a> <a id="2393" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="2404" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="2409" href="Effect.Theory.HigherOrder.html#2362" class="Bound">alg</a> <a id="2413" class="Symbol">(</a><a id="2414" href="Effect.Theory.HigherOrder.html#2367" class="Bound">lhs</a> <a id="2418" href="Effect.Theory.HigherOrder.html#2386" class="Bound">δ</a> <a id="2420" href="Effect.Theory.HigherOrder.html#2388" class="Bound">γ</a><a id="2421" class="Symbol">)</a> <a id="2423" href="Effect.Theory.HigherOrder.html#2358" class="Bound Operator">~</a> <a id="2425" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="2436" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="2441" href="Effect.Theory.HigherOrder.html#2362" class="Bound">alg</a> <a id="2445" class="Symbol">(</a><a id="2446" href="Effect.Theory.HigherOrder.html#2374" class="Bound">rhs</a> <a id="2450" href="Effect.Theory.HigherOrder.html#2386" class="Bound">δ</a> <a id="2452" href="Effect.Theory.HigherOrder.html#2388" class="Bound">γ</a><a id="2453" class="Symbol">)</a>

<a id="2456" class="Comment">-- Theories of higher-order effects are collections of equations</a>
<a id="2521" class="Keyword">record</a> <a id="Theoryᴴ"></a><a id="2528" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="2536" class="Symbol">(</a><a id="2537" href="Effect.Theory.HigherOrder.html#2537" class="Bound">η</a> <a id="2539" class="Symbol">:</a> <a id="2541" href="Effect.Base.html#756" class="Function">Effectᴴ</a><a id="2548" class="Symbol">)</a>  <a id="2551" class="Symbol">:</a> <a id="2553" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> <a id="2558" class="Keyword">where</a>
  <a id="2566" class="Keyword">field</a>
    <a id="Theoryᴴ.arity"></a><a id="2576" href="Effect.Theory.HigherOrder.html#2576" class="Field">arity</a> <a id="2582" class="Symbol">:</a> <a id="2584" href="Agda.Primitive.html#388" class="Primitive">Set</a> 
    <a id="Theoryᴴ.eqs"></a><a id="2593" href="Effect.Theory.HigherOrder.html#2593" class="Field">eqs</a>   <a id="2599" class="Symbol">:</a> <a id="2601" class="Field">arity</a> <a id="2607" class="Symbol">→</a> <a id="2609" href="Core.Logic.html#2908" class="Record">□</a> <a id="2611" href="Effect.Theory.HigherOrder.html#1337" class="Record">Equationᴴ</a> <a id="2621" href="Effect.Theory.HigherOrder.html#2537" class="Bound">η</a>

<a id="2624" class="Keyword">open</a> <a id="2629" href="Effect.Theory.HigherOrder.html#2528" class="Module">Theoryᴴ</a> <a id="2637" class="Keyword">public</a> 

<a id="2646" class="Keyword">variable</a> <a id="2655" href="Effect.Theory.HigherOrder.html#2655" class="Generalizable">Th</a> <a id="2658" href="Effect.Theory.HigherOrder.html#2658" class="Generalizable">Th₁</a> <a id="2662" href="Effect.Theory.HigherOrder.html#2662" class="Generalizable">Th₂</a> <a id="2666" href="Effect.Theory.HigherOrder.html#2666" class="Generalizable">Th₃</a> <a id="2670" href="Effect.Theory.HigherOrder.html#2670" class="Generalizable">Th′</a> <a id="2674" class="Symbol">:</a> <a id="2676" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="2684" href="Effect.Base.html#951" class="Generalizable">η</a>

<a id="2687" class="Comment">-- A predicate asserting that a given equation is part of a theory</a>
<a id="_◂ᴴ_"></a><a id="2754" href="Effect.Theory.HigherOrder.html#2754" class="Function Operator">_◂ᴴ_</a> <a id="2759" class="Symbol">:</a> <a id="2761" href="Core.Logic.html#2908" class="Record">□</a> <a id="2763" href="Effect.Theory.HigherOrder.html#1337" class="Record">Equationᴴ</a> <a id="2773" href="Effect.Base.html#951" class="Generalizable">η</a> <a id="2775" class="Symbol">→</a> <a id="2777" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="2785" href="Effect.Base.html#951" class="Generalizable">η</a> <a id="2787" class="Symbol">→</a> <a id="2789" href="Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="2794" href="Effect.Theory.HigherOrder.html#2794" class="Bound">eq</a> <a id="2797" href="Effect.Theory.HigherOrder.html#2754" class="Function Operator">◂ᴴ</a> <a id="2800" href="Effect.Theory.HigherOrder.html#2800" class="Bound">Th</a> <a id="2803" class="Symbol">=</a> <a id="2805" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="2807" class="Symbol">λ</a> <a id="2809" href="Effect.Theory.HigherOrder.html#2809" class="Bound">a</a> <a id="2811" class="Symbol">→</a> <a id="2813" href="Effect.Theory.HigherOrder.html#2794" class="Bound">eq</a> <a id="2816" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2818" href="Effect.Theory.HigherOrder.html#2800" class="Bound">Th</a> <a id="2821" class="Symbol">.</a><a id="2822" href="Effect.Theory.HigherOrder.html#2593" class="Field">eqs</a> <a id="2826" href="Effect.Theory.HigherOrder.html#2809" class="Bound">a</a> 

<a id="wk-theoryᴴ"></a><a id="2830" href="Effect.Theory.HigherOrder.html#2830" class="Function">wk-theoryᴴ</a> <a id="2841" class="Symbol">:</a> <a id="2843" href="Effect.Base.html#953" class="Generalizable">η₁</a> <a id="2846" href="Core.Ternary.html#666" class="Field Operator">≲</a> <a id="2848" href="Effect.Base.html#956" class="Generalizable">η₂</a> <a id="2851" class="Symbol">→</a> <a id="2853" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="2861" href="Effect.Base.html#953" class="Generalizable">η₁</a> <a id="2864" class="Symbol">→</a> <a id="2866" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="2874" href="Effect.Base.html#956" class="Generalizable">η₂</a>
<a id="2877" href="Effect.Theory.HigherOrder.html#2576" class="Field">arity</a> <a id="2883" class="Symbol">(</a><a id="2884" href="Effect.Theory.HigherOrder.html#2830" class="Function">wk-theoryᴴ</a> <a id="2895" href="Effect.Theory.HigherOrder.html#2895" class="Bound">i</a> <a id="2897" href="Effect.Theory.HigherOrder.html#2897" class="Bound">Th</a><a id="2899" class="Symbol">)</a> <a id="2901" class="Symbol">=</a> <a id="2903" href="Effect.Theory.HigherOrder.html#2897" class="Bound">Th</a> <a id="2906" class="Symbol">.</a><a id="2907" href="Effect.Theory.HigherOrder.html#2576" class="Field">arity</a>
<a id="2913" href="Effect.Theory.HigherOrder.html#2593" class="Field">eqs</a>   <a id="2919" class="Symbol">(</a><a id="2920" href="Effect.Theory.HigherOrder.html#2830" class="Function">wk-theoryᴴ</a> <a id="2931" href="Effect.Theory.HigherOrder.html#2931" class="Bound">i</a> <a id="2933" href="Effect.Theory.HigherOrder.html#2933" class="Bound">Th</a><a id="2935" class="Symbol">)</a> <a id="2937" class="Symbol">=</a> <a id="2939" class="Symbol">λ</a> <a id="2941" href="Effect.Theory.HigherOrder.html#2941" class="Bound">a</a> <a id="2943" class="Symbol">→</a> <a id="2945" href="Core.Logic.html#2981" class="InductiveConstructor">necessary</a> <a id="2955" class="Symbol">λ</a> <a id="2957" href="Effect.Theory.HigherOrder.html#2957" class="Bound">i′</a> <a id="2960" class="Symbol">→</a> <a id="2962" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="2965" href="Effect.Theory.HigherOrder.html#2933" class="Bound">Th</a> <a id="2968" class="Symbol">.</a><a id="2969" href="Effect.Theory.HigherOrder.html#2593" class="Field">eqs</a> <a id="2973" href="Effect.Theory.HigherOrder.html#2941" class="Bound">a</a> <a id="2975" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="2977" href="Effect.Relation.Binary.HigherOrderInclusion.html#714" class="Function">≲ᴴ-trans</a> <a id="2986" href="Effect.Theory.HigherOrder.html#2931" class="Bound">i</a> <a id="2988" href="Effect.Theory.HigherOrder.html#2957" class="Bound">i′</a>

<a id="_⟨⊎⟩ᴴ_"></a><a id="2992" href="Effect.Theory.HigherOrder.html#2992" class="Function Operator">_⟨⊎⟩ᴴ_</a> <a id="2999" class="Symbol">:</a> <a id="3001" href="Relation.Unary.html#3629" class="Function">∀[</a> <a id="3004" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="3012" href="Relation.Unary.html#4621" class="Function Operator">⇒</a> <a id="3014" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="3022" href="Relation.Unary.html#4621" class="Function Operator">⇒</a> <a id="3024" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="3032" href="Relation.Unary.html#3629" class="Function">]</a>
<a id="3034" href="Effect.Theory.HigherOrder.html#2576" class="Field">arity</a> <a id="3040" class="Symbol">(</a><a id="3041" href="Effect.Theory.HigherOrder.html#3041" class="Bound">Th₁</a> <a id="3045" href="Effect.Theory.HigherOrder.html#2992" class="Function Operator">⟨⊎⟩ᴴ</a> <a id="3050" href="Effect.Theory.HigherOrder.html#3050" class="Bound">Th₂</a><a id="3053" class="Symbol">)</a> <a id="3055" class="Symbol">=</a> <a id="3057" href="Effect.Theory.HigherOrder.html#3041" class="Bound">Th₁</a> <a id="3061" class="Symbol">.</a><a id="3062" href="Effect.Theory.HigherOrder.html#2576" class="Field">arity</a> <a id="3068" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3070" href="Effect.Theory.HigherOrder.html#3050" class="Bound">Th₂</a> <a id="3074" class="Symbol">.</a><a id="3075" href="Effect.Theory.HigherOrder.html#2576" class="Field">arity</a>
<a id="3081" href="Effect.Theory.HigherOrder.html#2593" class="Field">eqs</a>   <a id="3087" class="Symbol">(</a><a id="3088" href="Effect.Theory.HigherOrder.html#3088" class="Bound">Th₁</a> <a id="3092" href="Effect.Theory.HigherOrder.html#2992" class="Function Operator">⟨⊎⟩ᴴ</a> <a id="3097" href="Effect.Theory.HigherOrder.html#3097" class="Bound">Th₂</a><a id="3100" class="Symbol">)</a> <a id="3102" class="Symbol">=</a> <a id="3104" href="Data.Sum.Base.html#811" class="Function Operator">[</a> <a id="3106" href="Effect.Theory.HigherOrder.html#3088" class="Bound">Th₁</a> <a id="3110" class="Symbol">.</a><a id="3111" href="Effect.Theory.HigherOrder.html#2593" class="Field">eqs</a> <a id="3115" href="Data.Sum.Base.html#811" class="Function Operator">,</a> <a id="3117" href="Effect.Theory.HigherOrder.html#3097" class="Bound">Th₂</a> <a id="3121" class="Symbol">.</a><a id="3122" href="Effect.Theory.HigherOrder.html#2593" class="Field">eqs</a> <a id="3126" href="Data.Sum.Base.html#811" class="Function Operator">]</a>

<a id="_[⊎]ᴴ_"></a><a id="3129" href="Effect.Theory.HigherOrder.html#3129" class="Function Operator">_[⊎]ᴴ_</a> <a id="3136" class="Symbol">:</a> <a id="3138" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="3146" href="Effect.Base.html#953" class="Generalizable">η₁</a> <a id="3149" class="Symbol">→</a> <a id="3151" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="3159" href="Effect.Base.html#956" class="Generalizable">η₂</a> <a id="3162" class="Symbol">→</a> <a id="3164" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="3172" class="Symbol">(</a><a id="3173" href="Effect.Base.html#953" class="Generalizable">η₁</a> <a id="3176" href="Core.Signature.html#1557" class="Function Operator">·⊕</a> <a id="3179" href="Effect.Base.html#956" class="Generalizable">η₂</a><a id="3181" class="Symbol">)</a>
<a id="3183" href="Effect.Theory.HigherOrder.html#3183" class="Bound">Th₁</a> <a id="3187" href="Effect.Theory.HigherOrder.html#3129" class="Function Operator">[⊎]ᴴ</a> <a id="3192" href="Effect.Theory.HigherOrder.html#3192" class="Bound">Th₂</a> <a id="3196" class="Symbol">=</a> <a id="3198" href="Effect.Theory.HigherOrder.html#2830" class="Function">wk-theoryᴴ</a> <a id="3209" href="Effect.Relation.Binary.HigherOrderInclusion.html#1245" class="Function">·⊑-⊕-left</a> <a id="3219" href="Effect.Theory.HigherOrder.html#3183" class="Bound">Th₁</a> <a id="3223" href="Effect.Theory.HigherOrder.html#2992" class="Function Operator">⟨⊎⟩ᴴ</a> <a id="3228" href="Effect.Theory.HigherOrder.html#2830" class="Function">wk-theoryᴴ</a> <a id="3239" href="Effect.Relation.Binary.HigherOrderInclusion.html#1462" class="Function">·⊑-⊕-right</a> <a id="3250" href="Effect.Theory.HigherOrder.html#3192" class="Bound">Th₂</a>

<a id="3255" class="Comment">-- Syntactic equivalence of programs with higher order effects, with respect to</a>
<a id="3335" class="Comment">-- a given theory `Th`. Analagous to how we defined syntactic equivalence for</a>
<a id="3413" class="Comment">-- first-order effect trees</a>
<a id="3441" class="Keyword">infix</a> <a id="3447" class="Number">2</a> <a id="3449" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">_≅⟨_⟩_</a>
<a id="3456" class="Keyword">data</a> <a id="_≅⟨_⟩_"></a><a id="3461" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">_≅⟨_⟩_</a> <a id="3468" class="Symbol">{</a><a id="3469" href="Effect.Theory.HigherOrder.html#3469" class="Bound">η</a> <a id="3471" href="Effect.Theory.HigherOrder.html#3471" class="Bound">η′</a> <a id="3474" class="Symbol">:</a> <a id="3476" href="Effect.Base.html#756" class="Function">Effectᴴ</a><a id="3483" class="Symbol">}</a> <a id="3485" class="Symbol">⦃</a> <a id="3487" href="Effect.Theory.HigherOrder.html#3487" class="Bound">i</a> <a id="3489" class="Symbol">:</a> <a id="3491" href="Effect.Theory.HigherOrder.html#3469" class="Bound">η</a> <a id="3493" href="Core.Ternary.html#666" class="Field Operator">≲</a> <a id="3495" href="Effect.Theory.HigherOrder.html#3471" class="Bound">η′</a> <a id="3498" class="Symbol">⦄</a>
  <a id="3502" class="Symbol">:</a> <a id="3504" class="Symbol">(</a><a id="3505" href="Effect.Theory.HigherOrder.html#3505" class="Bound">m₁</a> <a id="3508" class="Symbol">:</a> <a id="3510" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="3516" class="Symbol">(</a><a id="3517" href="Effect.Theory.HigherOrder.html#3471" class="Bound">η′</a> <a id="3520" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="3521" class="Symbol">)</a> <a id="3523" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="3524" class="Symbol">)</a> <a id="3526" class="Symbol">→</a> <a id="3528" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="3536" href="Effect.Theory.HigherOrder.html#3469" class="Bound">η</a> <a id="3538" class="Symbol">→</a> <a id="3540" class="Symbol">(</a><a id="3541" href="Effect.Theory.HigherOrder.html#3541" class="Bound">m₂</a> <a id="3544" class="Symbol">:</a> <a id="3546" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="3552" class="Symbol">(</a><a id="3553" href="Effect.Theory.HigherOrder.html#3471" class="Bound">η′</a> <a id="3556" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="3557" class="Symbol">)</a> <a id="3559" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="3560" class="Symbol">)</a> <a id="3562" class="Symbol">→</a> <a id="3564" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> <a id="3569" class="Keyword">where</a>

  <a id="_≅⟨_⟩_.≅-refl"></a><a id="3578" href="Effect.Theory.HigherOrder.html#3578" class="InductiveConstructor">≅-refl</a>  <a id="3586" class="Symbol">:</a> <a id="3588" class="Comment">------------</a>
            <a id="3613" href="Effect.Syntax.Hefty.html#547" class="Generalizable">m</a> <a id="3615" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">≅⟨</a> <a id="3618" href="Effect.Theory.HigherOrder.html#2655" class="Generalizable">Th</a> <a id="3621" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">⟩</a> <a id="3623" href="Effect.Syntax.Hefty.html#547" class="Generalizable">m</a>

  <a id="_≅⟨_⟩_.≅-sym"></a><a id="3628" href="Effect.Theory.HigherOrder.html#3628" class="InductiveConstructor">≅-sym</a>   <a id="3636" class="Symbol">:</a> <a id="3638" class="Symbol">{</a><a id="3639" href="Effect.Theory.HigherOrder.html#3639" class="Bound">m₁</a> <a id="3642" class="Symbol">:</a> <a id="3644" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="3650" class="Symbol">(</a><a id="3651" href="Effect.Theory.HigherOrder.html#3471" class="Bound">η′</a> <a id="3654" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="3655" class="Symbol">)</a> <a id="3657" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="3658" class="Symbol">}</a>
          <a id="3670" class="Symbol">→</a> <a id="3672" href="Effect.Theory.HigherOrder.html#3639" class="Bound">m₁</a> <a id="3675" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">≅⟨</a> <a id="3678" href="Effect.Theory.HigherOrder.html#2655" class="Generalizable">Th</a> <a id="3681" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">⟩</a> <a id="3683" href="Effect.Syntax.Hefty.html#552" class="Generalizable">m₂</a>
            <a id="3698" class="Comment">-------------</a>
          <a id="3722" class="Symbol">→</a> <a id="3724" href="Effect.Syntax.Hefty.html#552" class="Generalizable">m₂</a> <a id="3727" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">≅⟨</a> <a id="3730" href="Effect.Theory.HigherOrder.html#2655" class="Generalizable">Th</a> <a id="3733" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">⟩</a> <a id="3735" href="Effect.Theory.HigherOrder.html#3639" class="Bound">m₁</a>

  <a id="_≅⟨_⟩_.≅-trans"></a><a id="3741" href="Effect.Theory.HigherOrder.html#3741" class="InductiveConstructor">≅-trans</a> <a id="3749" class="Symbol">:</a> <a id="3751" class="Symbol">{</a><a id="3752" href="Effect.Theory.HigherOrder.html#3752" class="Bound">m₁</a> <a id="3755" class="Symbol">:</a> <a id="3757" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="3763" class="Symbol">(</a><a id="3764" href="Effect.Theory.HigherOrder.html#3471" class="Bound">η′</a> <a id="3767" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="3768" class="Symbol">)</a> <a id="3770" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="3771" class="Symbol">}</a>
          <a id="3783" class="Symbol">→</a> <a id="3785" href="Effect.Theory.HigherOrder.html#3752" class="Bound">m₁</a> <a id="3788" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">≅⟨</a> <a id="3791" href="Effect.Theory.HigherOrder.html#2655" class="Generalizable">Th</a> <a id="3794" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">⟩</a> <a id="3796" href="Effect.Syntax.Hefty.html#552" class="Generalizable">m₂</a>
          <a id="3809" class="Symbol">→</a> <a id="3811" href="Effect.Syntax.Hefty.html#552" class="Generalizable">m₂</a> <a id="3814" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">≅⟨</a> <a id="3817" href="Effect.Theory.HigherOrder.html#2655" class="Generalizable">Th</a> <a id="3820" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">⟩</a> <a id="3822" href="Effect.Syntax.Hefty.html#555" class="Generalizable">m₃</a>
            <a id="3837" class="Comment">-------------</a>
          <a id="3861" class="Symbol">→</a> <a id="3863" href="Effect.Theory.HigherOrder.html#3752" class="Bound">m₁</a> <a id="3866" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">≅⟨</a> <a id="3869" href="Effect.Theory.HigherOrder.html#2655" class="Generalizable">Th</a> <a id="3872" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">⟩</a> <a id="3874" href="Effect.Syntax.Hefty.html#555" class="Generalizable">m₃</a>

  <a id="_≅⟨_⟩_.≅-cong"></a><a id="3880" href="Effect.Theory.HigherOrder.html#3880" class="InductiveConstructor">≅-cong</a>  <a id="3888" class="Symbol">:</a> <a id="3890" class="Symbol">(</a><a id="3891" href="Effect.Theory.HigherOrder.html#3891" class="Bound">c</a> <a id="3893" class="Symbol">:</a> <a id="3895" href="Effect.Theory.HigherOrder.html#3471" class="Bound">η′</a> <a id="3898" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="3900" class="Symbol">.</a><a id="3901" href="Core.Signature.html#731" class="Field">command</a><a id="3908" class="Symbol">)</a>
          <a id="3920" class="Symbol">→</a> <a id="3922" class="Symbol">(</a><a id="3923" href="Effect.Theory.HigherOrder.html#3923" class="Bound">r₁</a> <a id="3926" href="Effect.Theory.HigherOrder.html#3926" class="Bound">r₂</a> <a id="3929" class="Symbol">:</a> <a id="3931" href="Effect.Theory.HigherOrder.html#3471" class="Bound">η′</a> <a id="3934" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="3936" class="Symbol">.</a><a id="3937" href="Core.Signature.html#750" class="Field">response</a> <a id="3946" href="Effect.Theory.HigherOrder.html#3891" class="Bound">c</a> <a id="3948" class="Symbol">→</a> <a id="3950" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="3956" class="Symbol">(</a><a id="3957" href="Effect.Theory.HigherOrder.html#3471" class="Bound">η′</a> <a id="3960" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="3961" class="Symbol">)</a> <a id="3963" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="3964" class="Symbol">)</a>
          <a id="3976" class="Symbol">→</a> <a id="3978" class="Symbol">(</a><a id="3979" href="Effect.Theory.HigherOrder.html#3979" class="Bound">s₁</a> <a id="3982" href="Effect.Theory.HigherOrder.html#3982" class="Bound">s₂</a> <a id="3985" class="Symbol">:</a> <a id="3987" class="Symbol">(</a><a id="3988" href="Effect.Theory.HigherOrder.html#3988" class="Bound">ψ</a> <a id="3990" class="Symbol">:</a> <a id="3992" href="Effect.Theory.HigherOrder.html#3471" class="Bound">η′</a> <a id="3995" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="3997" class="Symbol">.</a><a id="3998" href="Core.Signature.html#780" class="Field">fork</a> <a id="4003" href="Effect.Theory.HigherOrder.html#3891" class="Bound">c</a><a id="4004" class="Symbol">)</a> <a id="4006" class="Symbol">→</a> <a id="4008" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="4014" class="Symbol">(</a><a id="4015" href="Effect.Theory.HigherOrder.html#3471" class="Bound">η′</a> <a id="4018" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="4019" class="Symbol">)</a> <a id="4021" class="Symbol">(</a><a id="4022" href="Effect.Theory.HigherOrder.html#3471" class="Bound">η′</a> <a id="4025" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="4027" class="Symbol">.</a><a id="4028" href="Core.Signature.html#809" class="Field">returns</a> <a id="4036" href="Effect.Theory.HigherOrder.html#3988" class="Bound">ψ</a><a id="4037" class="Symbol">))</a>
          <a id="4050" class="Symbol">→</a> <a id="4052" class="Symbol">(∀</a> <a id="4055" class="Symbol">{</a><a id="4056" href="Effect.Theory.HigherOrder.html#4056" class="Bound">x</a><a id="4057" class="Symbol">}</a> <a id="4059" class="Symbol">→</a> <a id="4061" href="Effect.Theory.HigherOrder.html#3923" class="Bound">r₁</a> <a id="4064" href="Effect.Theory.HigherOrder.html#4056" class="Bound">x</a> <a id="4066" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">≅⟨</a> <a id="4069" href="Effect.Theory.HigherOrder.html#2655" class="Generalizable">Th</a> <a id="4072" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">⟩</a> <a id="4074" href="Effect.Theory.HigherOrder.html#3926" class="Bound">r₂</a> <a id="4077" href="Effect.Theory.HigherOrder.html#4056" class="Bound">x</a><a id="4078" class="Symbol">)</a>
          <a id="4090" class="Symbol">→</a> <a id="4092" class="Symbol">(∀</a> <a id="4095" class="Symbol">{</a><a id="4096" href="Effect.Theory.HigherOrder.html#4096" class="Bound">ψ</a><a id="4097" class="Symbol">}</a> <a id="4099" class="Symbol">→</a> <a id="4101" href="Effect.Theory.HigherOrder.html#3979" class="Bound">s₁</a> <a id="4104" href="Effect.Theory.HigherOrder.html#4096" class="Bound">ψ</a> <a id="4106" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">≅⟨</a> <a id="4109" href="Effect.Theory.HigherOrder.html#2655" class="Generalizable">Th</a> <a id="4112" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">⟩</a> <a id="4114" href="Effect.Theory.HigherOrder.html#3982" class="Bound">s₂</a> <a id="4117" href="Effect.Theory.HigherOrder.html#4096" class="Bound">ψ</a><a id="4118" class="Symbol">)</a>  
            <a id="4134" class="Comment">-----------------------------------------------------</a>
          <a id="4198" class="Symbol">→</a> <a id="4200" href="Effect.Syntax.Hefty.html#497" class="InductiveConstructor">impure</a> <a id="4207" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟪</a> <a id="4209" href="Effect.Theory.HigherOrder.html#3891" class="Bound">c</a> <a id="4211" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4213" href="Effect.Theory.HigherOrder.html#3923" class="Bound">r₁</a> <a id="4216" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4218" href="Effect.Theory.HigherOrder.html#3979" class="Bound">s₁</a> <a id="4221" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟫</a> <a id="4223" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">≅⟨</a> <a id="4226" href="Effect.Theory.HigherOrder.html#2655" class="Generalizable">Th</a> <a id="4229" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">⟩</a> <a id="4231" href="Effect.Syntax.Hefty.html#497" class="InductiveConstructor">impure</a> <a id="4238" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟪</a> <a id="4240" href="Effect.Theory.HigherOrder.html#3891" class="Bound">c</a> <a id="4242" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4244" href="Effect.Theory.HigherOrder.html#3926" class="Bound">r₂</a> <a id="4247" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4249" href="Effect.Theory.HigherOrder.html#3982" class="Bound">s₂</a> <a id="4252" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟫</a>

  <a id="_≅⟨_⟩_.≅-eq"></a><a id="4257" href="Effect.Theory.HigherOrder.html#4257" class="InductiveConstructor">≅-eq</a>    <a id="4265" class="Symbol">:</a> <a id="4267" class="Symbol">(</a><a id="4268" href="Effect.Theory.HigherOrder.html#4268" class="Bound">eq</a> <a id="4271" class="Symbol">:</a> <a id="4273" href="Core.Logic.html#2908" class="Record">□</a> <a id="4275" href="Effect.Theory.HigherOrder.html#1337" class="Record">Equationᴴ</a> <a id="4285" href="Effect.Theory.HigherOrder.html#3469" class="Bound">η</a><a id="4286" class="Symbol">)</a>
          <a id="4298" class="Symbol">→</a> <a id="4300" href="Effect.Theory.HigherOrder.html#4268" class="Bound">eq</a> <a id="4303" href="Effect.Theory.HigherOrder.html#2754" class="Function Operator">◂ᴴ</a> <a id="4306" href="Effect.Theory.HigherOrder.html#2655" class="Generalizable">Th</a>
          <a id="4319" class="Symbol">→</a> <a id="4321" class="Symbol">(</a><a id="4322" href="Effect.Theory.HigherOrder.html#4322" class="Bound">δ</a> <a id="4324" class="Symbol">:</a> <a id="4326" href="Effect.Theory.FirstOrder.html#1618" class="Function">TypeContext</a> <a id="4338" class="Symbol">((</a><a id="4340" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="4343" href="Effect.Theory.HigherOrder.html#4268" class="Bound">eq</a> <a id="4346" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="4348" href="Effect.Theory.HigherOrder.html#3487" class="Bound">i</a><a id="4349" class="Symbol">)</a> <a id="4351" class="Symbol">.</a><a id="4352" href="Effect.Theory.HigherOrder.html#1406" class="Field">Δ′</a><a id="4354" class="Symbol">))</a>
          <a id="4367" class="Symbol">→</a> <a id="4369" class="Symbol">(</a><a id="4370" href="Effect.Theory.HigherOrder.html#4370" class="Bound">γ</a> <a id="4372" class="Symbol">:</a> <a id="4374" class="Symbol">(</a><a id="4375" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="4378" href="Effect.Theory.HigherOrder.html#4268" class="Bound">eq</a> <a id="4381" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="4383" href="Effect.Theory.HigherOrder.html#3487" class="Bound">i</a><a id="4384" class="Symbol">)</a> <a id="4386" class="Symbol">.</a><a id="4387" href="Effect.Theory.HigherOrder.html#1424" class="Field">Γ′</a> <a id="4390" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="4392" href="Effect.Theory.HigherOrder.html#4322" class="Bound">δ</a><a id="4393" class="Symbol">)</a>
          <a id="4405" class="Symbol">→</a> <a id="4407" class="Symbol">(</a><a id="4408" href="Effect.Theory.HigherOrder.html#4408" class="Bound">k</a> <a id="4410" class="Symbol">:</a> <a id="4412" class="Symbol">(</a><a id="4413" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="4416" href="Effect.Theory.HigherOrder.html#4268" class="Bound">eq</a> <a id="4419" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="4421" href="Effect.Theory.HigherOrder.html#3487" class="Bound">i</a><a id="4422" class="Symbol">)</a> <a id="4424" class="Symbol">.</a><a id="4425" href="Effect.Theory.HigherOrder.html#1427" class="Field">R′</a> <a id="4428" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="4430" href="Effect.Theory.HigherOrder.html#4322" class="Bound">δ</a> <a id="4432" class="Symbol">→</a> <a id="4434" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="4440" class="Symbol">(</a><a id="4441" href="Effect.Theory.HigherOrder.html#3471" class="Bound">η′</a> <a id="4444" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="4445" class="Symbol">)</a> <a id="4447" href="Core.Functor.html#1533" class="Generalizable">B</a><a id="4448" class="Symbol">)</a>
            <a id="4462" class="Comment">--------------------------------------------------------------------</a>
          <a id="4541" class="Symbol">→</a> <a id="4543" class="Symbol">((</a><a id="4545" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="4548" href="Effect.Theory.HigherOrder.html#4268" class="Bound">eq</a> <a id="4551" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="4553" href="Effect.Theory.HigherOrder.html#3487" class="Bound">i</a><a id="4554" class="Symbol">)</a> <a id="4556" class="Symbol">.</a><a id="4557" href="Effect.Theory.HigherOrder.html#1475" class="Field">rhsᴴ</a> <a id="4562" href="Effect.Theory.HigherOrder.html#4322" class="Bound">δ</a> <a id="4564" href="Effect.Theory.HigherOrder.html#4370" class="Bound">γ</a><a id="4565" class="Symbol">)</a> <a id="4567" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="4571" href="Effect.Theory.HigherOrder.html#4408" class="Bound">k</a> <a id="4573" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">≅⟨</a> <a id="4576" href="Effect.Theory.HigherOrder.html#2655" class="Generalizable">Th</a> <a id="4579" href="Effect.Theory.HigherOrder.html#3461" class="Datatype Operator">⟩</a> <a id="4581" class="Symbol">((</a><a id="4583" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="4586" href="Effect.Theory.HigherOrder.html#4268" class="Bound">eq</a> <a id="4589" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="4591" href="Effect.Theory.HigherOrder.html#3487" class="Bound">i</a><a id="4592" class="Symbol">)</a> <a id="4594" class="Symbol">.</a><a id="4595" href="Effect.Theory.HigherOrder.html#1475" class="Field">rhsᴴ</a> <a id="4600" href="Effect.Theory.HigherOrder.html#4322" class="Bound">δ</a> <a id="4602" href="Effect.Theory.HigherOrder.html#4370" class="Bound">γ</a><a id="4603" class="Symbol">)</a> <a id="4605" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="4609" href="Effect.Theory.HigherOrder.html#4408" class="Bound">k</a>          

<a id="4622" class="Comment">{- Correctness of elaborations -}</a> 
<a id="4657" class="Keyword">open</a> <a id="4662" href="Effect.Elaborate.html#1118" class="Module">Elaboration</a> 

<a id="4676" class="Comment">-- We say that an elaboration is correct with respect to some higher-order</a>
<a id="4751" class="Comment">-- effect theory of its higher-order effect, and some first-order effect theory</a>
<a id="4831" class="Comment">-- of the algebraic effects it elaborates into iff the elaboration algebra</a>
<a id="4906" class="Comment">-- respects all equations of the higher-order theory modulo syntactic</a>
<a id="4976" class="Comment">-- equivalence of the resulting effect trees modulo the given first-order effect</a>
<a id="5057" class="Comment">-- theory.</a>
<a id="5068" class="Comment">--</a>
<a id="5071" class="Comment">-- Since the &quot;target&quot; effects of an elaboration are merely a lower bound, the</a>
<a id="5149" class="Comment">-- definition of correctness closes over all extensions of this lower bound,</a>
<a id="5226" class="Comment">-- weakening the given first-order effect theory T to the universally quantified</a>
<a id="5307" class="Comment">-- extension ε′</a>
<a id="5323" class="Comment">--</a>
<a id="5326" class="Comment">-- TODO: this looks remarkably similar to how we close over &quot;value extensions&quot;</a>
<a id="5405" class="Comment">-- when defining extensible langauge fragments in the OOPSLA paper. Can we</a>
<a id="5480" class="Comment">-- factor those, and the &quot;theory extensions&quot; used here into a common pattern?</a>
<a id="Correctᴴ"></a><a id="5558" href="Effect.Theory.HigherOrder.html#5558" class="Function">Correctᴴ</a> <a id="5567" class="Symbol">:</a> <a id="5569" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="5577" href="Effect.Base.html#951" class="Generalizable">η</a> <a id="5579" class="Symbol">→</a> <a id="5581" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="5588" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="5590" class="Symbol">→</a> <a id="5592" href="Effect.Elaborate.html#1118" class="Record">Elaboration</a> <a id="5604" href="Effect.Base.html#951" class="Generalizable">η</a> <a id="5606" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="5608" class="Symbol">→</a> <a id="5610" href="Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="5615" href="Effect.Theory.HigherOrder.html#5558" class="Function">Correctᴴ</a> <a id="5624" class="Symbol">{</a><a id="5625" class="Argument">η</a> <a id="5627" class="Symbol">=</a> <a id="5629" href="Effect.Theory.HigherOrder.html#5629" class="Bound">η</a><a id="5630" class="Symbol">}</a> <a id="5632" class="Symbol">{</a><a id="5633" href="Effect.Theory.HigherOrder.html#5633" class="Bound">ε</a><a id="5634" class="Symbol">}</a> <a id="5636" href="Effect.Theory.HigherOrder.html#5636" class="Bound">Th</a> <a id="5639" href="Effect.Theory.HigherOrder.html#5639" class="Bound">T</a> <a id="5641" href="Effect.Theory.HigherOrder.html#5641" class="Bound">e</a> <a id="5643" class="Symbol">=</a>
  <a id="5647" class="Symbol">∀</a> <a id="5649" class="Symbol">{</a><a id="5650" href="Effect.Theory.HigherOrder.html#5650" class="Bound">ε′</a> <a id="5653" href="Effect.Theory.HigherOrder.html#5653" class="Bound">η′</a><a id="5655" class="Symbol">}</a>
  <a id="5659" class="Symbol">→</a> <a id="5661" class="Symbol">(</a><a id="5662" href="Effect.Theory.HigherOrder.html#5662" class="Bound">e′</a> <a id="5665" class="Symbol">:</a> <a id="5667" href="Effect.Elaborate.html#1118" class="Record">Elaboration</a> <a id="5679" href="Effect.Theory.HigherOrder.html#5653" class="Bound">η′</a> <a id="5682" href="Effect.Theory.HigherOrder.html#5650" class="Bound">ε′</a><a id="5684" class="Symbol">)</a>
  <a id="5688" class="Symbol">→</a> <a id="5690" class="Symbol">⦃</a> <a id="5692" href="Effect.Theory.HigherOrder.html#5692" class="Bound">ζ</a> <a id="5694" class="Symbol">:</a> <a id="5696" href="Effect.Theory.HigherOrder.html#5641" class="Bound">e</a> <a id="5698" href="Effect.Elaborate.html#5818" class="Record Operator">⊑</a> <a id="5700" href="Effect.Theory.HigherOrder.html#5662" class="Bound">e′</a> <a id="5703" class="Symbol">⦄</a>
  <a id="5707" class="Symbol">→</a> <a id="5709" class="Symbol">{</a><a id="5710" href="Effect.Theory.HigherOrder.html#5710" class="Bound">eq</a> <a id="5713" class="Symbol">:</a> <a id="5715" href="Core.Logic.html#2908" class="Record">□</a> <a id="5717" href="Effect.Theory.HigherOrder.html#1337" class="Record">Equationᴴ</a> <a id="5727" href="Effect.Theory.HigherOrder.html#5629" class="Bound">η</a><a id="5728" class="Symbol">}</a>
  <a id="5732" class="Symbol">→</a> <a id="5734" href="Effect.Theory.HigherOrder.html#5710" class="Bound">eq</a> <a id="5737" href="Effect.Theory.HigherOrder.html#2754" class="Function Operator">◂ᴴ</a> <a id="5740" href="Effect.Theory.HigherOrder.html#5636" class="Bound">Th</a>
    <a id="5747" class="Comment">---------------------------------------------------------</a>
  <a id="5807" class="Symbol">→</a> <a id="5809" href="Effect.Theory.HigherOrder.html#2247" class="Function">Respectsᴴ</a> <a id="5819" class="Symbol">(</a><a id="5820" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">_≈⟨</a> <a id="5824" href="Effect.Theory.HigherOrder.html#5639" class="Bound">T</a> <a id="5826" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩_</a><a id="5828" class="Symbol">)</a> <a id="5830" class="Symbol">(</a><a id="5831" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="5834" href="Effect.Theory.HigherOrder.html#5662" class="Bound">e′</a> <a id="5837" class="Symbol">.</a><a id="5838" href="Effect.Elaborate.html#1182" class="Field">elab</a> <a id="5843" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="5845" href="Effect.Relation.Binary.FirstOrderInclusion.html#844" class="Function">≲-refl</a><a id="5851" class="Symbol">)</a> <a id="5853" class="Symbol">(</a><a id="5854" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="5857" href="Effect.Theory.HigherOrder.html#5710" class="Bound">eq</a> <a id="5860" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="5862" href="Effect.Theory.HigherOrder.html#5692" class="Bound">ζ</a> <a id="5864" class="Symbol">.</a><a id="5865" href="Effect.Elaborate.html#5931" class="Field">≲-effᴴ</a><a id="5871" class="Symbol">)</a>


<a id="map-id"></a><a id="5875" href="Effect.Theory.HigherOrder.html#5875" class="Function">map-id</a> <a id="5882" class="Symbol">:</a> <a id="5884" class="Symbol">(</a><a id="5885" href="Effect.Theory.HigherOrder.html#5885" class="Bound">m</a> <a id="5887" class="Symbol">:</a> <a id="5889" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="5895" href="Core.Signature.html#1252" class="Generalizable">σ</a> <a id="5897" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="5898" class="Symbol">)</a> <a id="5900" class="Symbol">→</a> <a id="5902" href="Effect.Syntax.Hefty.html#1071" class="Function">map-hefty</a> <a id="5912" href="Function.Base.html#704" class="Function">id</a> <a id="5915" href="Effect.Theory.HigherOrder.html#5885" class="Bound">m</a> <a id="5917" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5919" href="Effect.Theory.HigherOrder.html#5885" class="Bound">m</a>
<a id="5921" href="Effect.Theory.HigherOrder.html#5875" class="Function">map-id</a> <a id="5928" class="Symbol">(</a><a id="5929" href="Effect.Syntax.Hefty.html#454" class="InductiveConstructor">pure</a> <a id="5934" href="Effect.Theory.HigherOrder.html#5934" class="Bound">x</a><a id="5935" class="Symbol">)</a>               <a id="5951" class="Symbol">=</a> <a id="5953" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="5958" href="Effect.Theory.HigherOrder.html#5875" class="Function">map-id</a> <a id="5965" class="Symbol">(</a><a id="5966" href="Effect.Syntax.Hefty.html#497" class="InductiveConstructor">impure</a> <a id="5973" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟪</a> <a id="5975" href="Effect.Theory.HigherOrder.html#5975" class="Bound">c</a> <a id="5977" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5979" href="Effect.Theory.HigherOrder.html#5979" class="Bound">r</a> <a id="5981" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5983" href="Effect.Theory.HigherOrder.html#5983" class="Bound">s</a> <a id="5985" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟫</a><a id="5986" class="Symbol">)</a> <a id="5988" class="Symbol">=</a>
  <a id="5992" href="Relation.Binary.PropositionalEquality.Core.html#1395" class="Function">cong₂</a>
    <a id="6002" class="Symbol">(λ</a> <a id="6005" href="Effect.Theory.HigherOrder.html#6005" class="Bound">□₁</a> <a id="6008" href="Effect.Theory.HigherOrder.html#6008" class="Bound">□₂</a> <a id="6011" class="Symbol">→</a> <a id="6013" href="Effect.Syntax.Hefty.html#497" class="InductiveConstructor">impure</a> <a id="6020" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟪</a> <a id="6022" href="Effect.Theory.HigherOrder.html#5975" class="Bound">c</a> <a id="6024" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6026" href="Effect.Theory.HigherOrder.html#6005" class="Bound">□₁</a> <a id="6029" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6031" href="Effect.Theory.HigherOrder.html#6008" class="Bound">□₂</a> <a id="6034" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟫</a><a id="6035" class="Symbol">)</a>
    <a id="6041" class="Symbol">(</a><a id="6042" href="Core.Extensionality.html#201" class="Function">extensionality</a> <a id="6057" class="Symbol">(</a><a id="6058" href="Effect.Theory.HigherOrder.html#5875" class="Function">map-id</a> <a id="6065" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6067" href="Effect.Theory.HigherOrder.html#5979" class="Bound">r</a><a id="6068" class="Symbol">))</a>
    <a id="6075" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="⟨⊕⟩-fold-left"></a><a id="6081" href="Effect.Theory.HigherOrder.html#6081" class="Function">⟨⊕⟩-fold-left</a> <a id="6095" class="Symbol">:</a> <a id="6097" class="Symbol">∀</a> <a id="6099" class="Symbol">(</a><a id="6100" href="Effect.Theory.HigherOrder.html#6100" class="Bound">m</a> <a id="6102" class="Symbol">:</a> <a id="6104" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="6110" href="Core.Signature.html#1252" class="Generalizable">σ</a> <a id="6112" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="6113" class="Symbol">)</a>
                  <a id="6133" class="Symbol">{</a><a id="6134" href="Effect.Theory.HigherOrder.html#6134" class="Bound">f</a> <a id="6136" class="Symbol">:</a> <a id="6138" href="Core.Signature.html#1127" class="Record">Algebra</a> <a id="6146" href="Core.Signature.html#1252" class="Generalizable">σ</a> <a id="6148" href="Core.Functor.html#1552" class="Generalizable">F</a><a id="6149" class="Symbol">}</a> <a id="6151" class="Symbol">{</a><a id="6152" href="Effect.Theory.HigherOrder.html#6152" class="Bound">g</a> <a id="6154" class="Symbol">:</a> <a id="6156" href="Core.Signature.html#1127" class="Record">Algebra</a> <a id="6164" href="Core.Signature.html#1263" class="Generalizable">σ′</a> <a id="6167" href="Core.Functor.html#1552" class="Generalizable">F</a><a id="6168" class="Symbol">}</a>
                  <a id="6188" class="Symbol">{</a><a id="6189" href="Effect.Theory.HigherOrder.html#6189" class="Bound">k</a> <a id="6191" class="Symbol">:</a> <a id="6193" href="Relation.Unary.html#3629" class="Function">∀[</a> <a id="6196" href="Function.Base.html#704" class="Function">id</a> <a id="6199" href="Relation.Unary.html#4621" class="Function Operator">⇒</a> <a id="6201" href="Core.Functor.html#1552" class="Generalizable">F</a> <a id="6203" href="Relation.Unary.html#3629" class="Function">]</a><a id="6204" class="Symbol">}</a>
                <a id="6222" class="Symbol">→</a>   <a id="6226" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="6237" href="Effect.Theory.HigherOrder.html#6189" class="Bound">k</a> <a id="6239" href="Effect.Theory.HigherOrder.html#6134" class="Bound">f</a> <a id="6241" href="Effect.Theory.HigherOrder.html#6100" class="Bound">m</a>
                  <a id="6261" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6263" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="6274" href="Effect.Theory.HigherOrder.html#6189" class="Bound">k</a> <a id="6276" class="Symbol">(</a><a id="6277" href="Effect.Theory.HigherOrder.html#6134" class="Bound">f</a> <a id="6279" href="Core.Signature.html#1640" class="Function Operator">⟨⊕⟩</a> <a id="6283" href="Effect.Theory.HigherOrder.html#6152" class="Bound">g</a><a id="6284" class="Symbol">)</a> <a id="6286" class="Symbol">(</a><a id="6287" href="Effect.Relation.Binary.HigherOrderInclusion.html#959" class="Function">♯ᴴ</a> <a id="6290" class="Symbol">⦃</a> <a id="6292" href="Effect.Relation.Binary.HigherOrderInclusion.html#1131" class="Function">⊑-⊕-left</a> <a id="6301" class="Symbol">⦄</a> <a id="6303" href="Effect.Theory.HigherOrder.html#6100" class="Bound">m</a><a id="6304" class="Symbol">)</a>
<a id="6306" href="Effect.Theory.HigherOrder.html#6081" class="Function">⟨⊕⟩-fold-left</a> <a id="6320" class="Symbol">(</a><a id="6321" href="Effect.Syntax.Hefty.html#454" class="InductiveConstructor">pure</a> <a id="6326" class="Symbol">_)</a>                           <a id="6355" class="Symbol">=</a> <a id="6357" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="6362" href="Effect.Theory.HigherOrder.html#6081" class="Function">⟨⊕⟩-fold-left</a> <a id="6376" class="Symbol">(</a><a id="6377" href="Effect.Syntax.Hefty.html#497" class="InductiveConstructor">impure</a> <a id="6384" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟪</a> <a id="6386" href="Effect.Theory.HigherOrder.html#6386" class="Bound">c</a> <a id="6388" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6390" href="Effect.Theory.HigherOrder.html#6390" class="Bound">r</a> <a id="6392" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6394" href="Effect.Theory.HigherOrder.html#6394" class="Bound">s</a> <a id="6396" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟫</a><a id="6397" class="Symbol">)</a> <a id="6399" class="Symbol">{</a><a id="6400" href="Effect.Theory.HigherOrder.html#6400" class="Bound">f</a><a id="6401" class="Symbol">}</a> <a id="6403" class="Symbol">{</a><a id="6404" href="Effect.Theory.HigherOrder.html#6404" class="Bound">g</a><a id="6405" class="Symbol">}</a> <a id="6407" class="Symbol">{</a><a id="6408" href="Effect.Theory.HigherOrder.html#6408" class="Bound">k</a><a id="6409" class="Symbol">}</a> <a id="6411" class="Symbol">=</a>
  <a id="6415" href="Relation.Binary.PropositionalEquality.Core.html#1395" class="Function">cong₂</a>
    <a id="6425" class="Symbol">(λ</a> <a id="6428" href="Effect.Theory.HigherOrder.html#6428" class="Bound">□₁</a> <a id="6431" href="Effect.Theory.HigherOrder.html#6431" class="Bound">□₂</a> <a id="6434" class="Symbol">→</a> <a id="6436" href="Effect.Theory.HigherOrder.html#6400" class="Bound">f</a> <a id="6438" class="Symbol">.</a><a id="6439" href="Core.Signature.html#1174" class="Field">α</a> <a id="6441" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟪</a> <a id="6443" href="Effect.Theory.HigherOrder.html#6386" class="Bound">c</a> <a id="6445" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6447" href="Effect.Theory.HigherOrder.html#6428" class="Bound">□₁</a> <a id="6450" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6452" href="Effect.Theory.HigherOrder.html#6431" class="Bound">□₂</a> <a id="6455" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟫</a><a id="6456" class="Symbol">)</a>   
    <a id="6465" class="Symbol">(</a> <a id="6467" href="Core.Extensionality.html#201" class="Function">extensionality</a> <a id="6482" class="Symbol">λ</a> <a id="6484" href="Effect.Theory.HigherOrder.html#6484" class="Bound">x</a> <a id="6486" class="Symbol">→</a> <a id="6488" href="Effect.Theory.HigherOrder.html#6081" class="Function">⟨⊕⟩-fold-left</a> <a id="6502" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6504" href="Effect.Theory.HigherOrder.html#6390" class="Bound">r</a> <a id="6506" href="Effect.Theory.HigherOrder.html#6484" class="Bound">x</a> <a id="6508" class="Symbol">)</a>
    <a id="6514" class="Symbol">(</a> <a id="6516" href="Core.Extensionality.html#201" class="Function">extensionality</a> <a id="6531" class="Symbol">λ</a> <a id="6533" href="Effect.Theory.HigherOrder.html#6533" class="Bound">x</a> <a id="6535" class="Symbol">→</a> <a id="6537" href="Effect.Theory.HigherOrder.html#6081" class="Function">⟨⊕⟩-fold-left</a> <a id="6551" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6553" href="Effect.Theory.HigherOrder.html#6394" class="Bound">s</a> <a id="6555" href="Effect.Theory.HigherOrder.html#6533" class="Bound">x</a> <a id="6557" class="Symbol">)</a>
   
<a id="⟨⊕⟩-fold-right"></a><a id="6563" href="Effect.Theory.HigherOrder.html#6563" class="Function">⟨⊕⟩-fold-right</a> <a id="6578" class="Symbol">:</a> <a id="6580" class="Symbol">∀</a> <a id="6582" class="Symbol">(</a><a id="6583" href="Effect.Theory.HigherOrder.html#6583" class="Bound">m</a> <a id="6585" class="Symbol">:</a> <a id="6587" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="6593" href="Core.Signature.html#1252" class="Generalizable">σ</a> <a id="6595" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="6596" class="Symbol">)</a>
                  <a id="6616" class="Symbol">{</a><a id="6617" href="Effect.Theory.HigherOrder.html#6617" class="Bound">f</a> <a id="6619" class="Symbol">:</a> <a id="6621" href="Core.Signature.html#1127" class="Record">Algebra</a> <a id="6629" href="Core.Signature.html#1263" class="Generalizable">σ′</a> <a id="6632" href="Core.Functor.html#1552" class="Generalizable">F</a><a id="6633" class="Symbol">}</a> <a id="6635" class="Symbol">{</a><a id="6636" href="Effect.Theory.HigherOrder.html#6636" class="Bound">g</a> <a id="6638" class="Symbol">:</a> <a id="6640" href="Core.Signature.html#1127" class="Record">Algebra</a> <a id="6648" href="Core.Signature.html#1252" class="Generalizable">σ</a> <a id="6650" href="Core.Functor.html#1552" class="Generalizable">F</a><a id="6651" class="Symbol">}</a>
                  <a id="6671" class="Symbol">{</a><a id="6672" href="Effect.Theory.HigherOrder.html#6672" class="Bound">k</a> <a id="6674" class="Symbol">:</a> <a id="6676" href="Relation.Unary.html#3629" class="Function">∀[</a> <a id="6679" href="Function.Base.html#704" class="Function">id</a> <a id="6682" href="Relation.Unary.html#4621" class="Function Operator">⇒</a> <a id="6684" href="Core.Functor.html#1552" class="Generalizable">F</a> <a id="6686" href="Relation.Unary.html#3629" class="Function">]</a><a id="6687" class="Symbol">}</a>
                <a id="6705" class="Symbol">→</a>   <a id="6709" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="6720" href="Effect.Theory.HigherOrder.html#6672" class="Bound">k</a> <a id="6722" href="Effect.Theory.HigherOrder.html#6636" class="Bound">g</a> <a id="6724" href="Effect.Theory.HigherOrder.html#6583" class="Bound">m</a>
                  <a id="6744" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6746" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="6757" href="Effect.Theory.HigherOrder.html#6672" class="Bound">k</a> <a id="6759" class="Symbol">(</a><a id="6760" href="Effect.Theory.HigherOrder.html#6617" class="Bound">f</a> <a id="6762" href="Core.Signature.html#1640" class="Function Operator">⟨⊕⟩</a> <a id="6766" href="Effect.Theory.HigherOrder.html#6636" class="Bound">g</a><a id="6767" class="Symbol">)</a> <a id="6769" class="Symbol">(</a><a id="6770" href="Effect.Relation.Binary.HigherOrderInclusion.html#959" class="Function">♯ᴴ</a> <a id="6773" class="Symbol">⦃</a> <a id="6775" href="Effect.Relation.Binary.HigherOrderInclusion.html#1375" class="Function">⊑-⊕-right</a> <a id="6785" class="Symbol">⦄</a> <a id="6787" href="Effect.Theory.HigherOrder.html#6583" class="Bound">m</a><a id="6788" class="Symbol">)</a>
<a id="6790" href="Effect.Theory.HigherOrder.html#6563" class="Function">⟨⊕⟩-fold-right</a> <a id="6805" class="Symbol">(</a><a id="6806" href="Effect.Syntax.Hefty.html#454" class="InductiveConstructor">pure</a> <a id="6811" class="Symbol">_)</a>                           <a id="6840" class="Symbol">=</a> <a id="6842" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="6847" href="Effect.Theory.HigherOrder.html#6563" class="Function">⟨⊕⟩-fold-right</a> <a id="6862" class="Symbol">(</a><a id="6863" href="Effect.Syntax.Hefty.html#497" class="InductiveConstructor">impure</a> <a id="6870" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟪</a> <a id="6872" href="Effect.Theory.HigherOrder.html#6872" class="Bound">c</a> <a id="6874" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6876" href="Effect.Theory.HigherOrder.html#6876" class="Bound">r</a> <a id="6878" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6880" href="Effect.Theory.HigherOrder.html#6880" class="Bound">s</a> <a id="6882" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟫</a><a id="6883" class="Symbol">)</a> <a id="6885" class="Symbol">{</a><a id="6886" href="Effect.Theory.HigherOrder.html#6886" class="Bound">f</a><a id="6887" class="Symbol">}</a> <a id="6889" class="Symbol">{</a><a id="6890" href="Effect.Theory.HigherOrder.html#6890" class="Bound">g</a><a id="6891" class="Symbol">}</a> <a id="6893" class="Symbol">{</a><a id="6894" href="Effect.Theory.HigherOrder.html#6894" class="Bound">k</a><a id="6895" class="Symbol">}</a> <a id="6897" class="Symbol">=</a>
  <a id="6901" href="Relation.Binary.PropositionalEquality.Core.html#1395" class="Function">cong₂</a>
    <a id="6911" class="Symbol">(λ</a> <a id="6914" href="Effect.Theory.HigherOrder.html#6914" class="Bound">□₁</a> <a id="6917" href="Effect.Theory.HigherOrder.html#6917" class="Bound">□₂</a> <a id="6920" class="Symbol">→</a> <a id="6922" href="Effect.Theory.HigherOrder.html#6890" class="Bound">g</a> <a id="6924" class="Symbol">.</a><a id="6925" href="Core.Signature.html#1174" class="Field">α</a> <a id="6927" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟪</a> <a id="6929" href="Effect.Theory.HigherOrder.html#6872" class="Bound">c</a> <a id="6931" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6933" href="Effect.Theory.HigherOrder.html#6914" class="Bound">□₁</a> <a id="6936" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6938" href="Effect.Theory.HigherOrder.html#6917" class="Bound">□₂</a> <a id="6941" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟫</a><a id="6942" class="Symbol">)</a>
    <a id="6948" class="Symbol">(</a> <a id="6950" href="Core.Extensionality.html#201" class="Function">extensionality</a> <a id="6965" class="Symbol">λ</a> <a id="6967" href="Effect.Theory.HigherOrder.html#6967" class="Bound">x</a> <a id="6969" class="Symbol">→</a> <a id="6971" href="Effect.Theory.HigherOrder.html#6563" class="Function">⟨⊕⟩-fold-right</a> <a id="6986" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6988" href="Effect.Theory.HigherOrder.html#6876" class="Bound">r</a> <a id="6990" href="Effect.Theory.HigherOrder.html#6967" class="Bound">x</a> <a id="6992" class="Symbol">)</a>
    <a id="6998" class="Symbol">(</a> <a id="7000" href="Core.Extensionality.html#201" class="Function">extensionality</a> <a id="7015" class="Symbol">λ</a> <a id="7017" href="Effect.Theory.HigherOrder.html#7017" class="Bound">x</a> <a id="7019" class="Symbol">→</a> <a id="7021" href="Effect.Theory.HigherOrder.html#6563" class="Function">⟨⊕⟩-fold-right</a> <a id="7036" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="7038" href="Effect.Theory.HigherOrder.html#6880" class="Bound">s</a> <a id="7040" href="Effect.Theory.HigherOrder.html#7017" class="Bound">x</a> <a id="7042" class="Symbol">)</a>
    

 <a id="7051" class="Comment">-- &quot;Homogeneous&quot; composition of correctness proofs for h.o. effect theories.</a>
 <a id="7129" class="Comment">--</a>
 <a id="7133" class="Comment">-- This theorem establishes that correctness of composed elaborations follows</a>
 <a id="7212" class="Comment">-- from correctness of their components, provided they assume the same lower</a>
 <a id="7290" class="Comment">-- bound on the algebraic effects for elaboration, and establish correctness</a>
 <a id="7368" class="Comment">-- w.r.t. the same first-order effect theory.</a>
<a id="[⊎]ᴴ-correct"></a><a id="7414" href="Effect.Theory.HigherOrder.html#7414" class="Function">[⊎]ᴴ-correct</a> <a id="7427" class="Symbol">:</a>
  <a id="7431" class="Symbol">∀</a> <a id="7433" class="Symbol">{</a><a id="7434" href="Effect.Theory.HigherOrder.html#7434" class="Bound">e₁</a> <a id="7437" href="Effect.Theory.HigherOrder.html#7437" class="Bound">e₂</a><a id="7439" class="Symbol">}</a>
  <a id="7443" class="Symbol">→</a> <a id="7445" class="Symbol">{</a><a id="7446" href="Effect.Theory.HigherOrder.html#7446" class="Bound">Th₁</a> <a id="7450" class="Symbol">:</a> <a id="7452" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="7460" href="Effect.Base.html#953" class="Generalizable">η₁</a><a id="7462" class="Symbol">}</a>
  <a id="7466" class="Symbol">→</a> <a id="7468" class="Symbol">{</a><a id="7469" href="Effect.Theory.HigherOrder.html#7469" class="Bound">Th₂</a> <a id="7473" class="Symbol">:</a> <a id="7475" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="7483" href="Effect.Base.html#956" class="Generalizable">η₂</a><a id="7485" class="Symbol">}</a>
  <a id="7489" class="Symbol">→</a> <a id="7491" class="Symbol">(</a><a id="7492" href="Effect.Theory.HigherOrder.html#7492" class="Bound">T</a> <a id="7494" class="Symbol">:</a> <a id="7496" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="7503" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="7504" class="Symbol">)</a>
  <a id="7508" class="Symbol">→</a> <a id="7510" href="Effect.Theory.HigherOrder.html#5558" class="Function">Correctᴴ</a> <a id="7519" href="Effect.Theory.HigherOrder.html#7446" class="Bound">Th₁</a> <a id="7523" href="Effect.Theory.HigherOrder.html#7492" class="Bound">T</a> <a id="7525" href="Effect.Theory.HigherOrder.html#7434" class="Bound">e₁</a>
  <a id="7530" class="Symbol">→</a> <a id="7532" href="Effect.Theory.HigherOrder.html#5558" class="Function">Correctᴴ</a> <a id="7541" href="Effect.Theory.HigherOrder.html#7469" class="Bound">Th₂</a> <a id="7545" href="Effect.Theory.HigherOrder.html#7492" class="Bound">T</a> <a id="7547" href="Effect.Theory.HigherOrder.html#7437" class="Bound">e₂</a>
    <a id="7554" class="Comment">-------------------------------------</a>
  <a id="7594" class="Symbol">→</a> <a id="7596" href="Effect.Theory.HigherOrder.html#5558" class="Function">Correctᴴ</a> <a id="7605" class="Symbol">(</a><a id="7606" href="Effect.Theory.HigherOrder.html#7446" class="Bound">Th₁</a> <a id="7610" href="Effect.Theory.HigherOrder.html#3129" class="Function Operator">[⊎]ᴴ</a> <a id="7615" href="Effect.Theory.HigherOrder.html#7469" class="Bound">Th₂</a><a id="7618" class="Symbol">)</a> <a id="7620" href="Effect.Theory.HigherOrder.html#7492" class="Bound">T</a> <a id="7622" class="Symbol">(</a><a id="7623" href="Effect.Theory.HigherOrder.html#7434" class="Bound">e₁</a> <a id="7626" href="Effect.Elaborate.html#7413" class="Function Operator">⟪⊕⟫</a> <a id="7630" href="Effect.Theory.HigherOrder.html#7437" class="Bound">e₂</a><a id="7632" class="Symbol">)</a>
<a id="7634" href="Effect.Theory.HigherOrder.html#7414" class="Function">[⊎]ᴴ-correct</a> <a id="7647" class="Symbol">{</a><a id="7648" class="Argument">e₁</a> <a id="7651" class="Symbol">=</a> <a id="7653" href="Effect.Theory.HigherOrder.html#7653" class="Bound">e₁</a><a id="7655" class="Symbol">}</a> <a id="7657" class="Symbol">{</a><a id="7658" class="Argument">e₂</a> <a id="7661" class="Symbol">=</a> <a id="7663" href="Effect.Theory.HigherOrder.html#7663" class="Bound">e₂</a><a id="7665" class="Symbol">}</a> <a id="7667" class="Symbol">{</a><a id="7668" class="Argument">Th₁</a> <a id="7672" class="Symbol">=</a> <a id="7674" href="Effect.Theory.HigherOrder.html#7674" class="Bound">Th₁</a><a id="7677" class="Symbol">}</a> <a id="7679" class="Symbol">{</a><a id="7680" class="Argument">Th₂</a> <a id="7684" class="Symbol">=</a> <a id="7686" href="Effect.Theory.HigherOrder.html#7686" class="Bound">Th₂</a><a id="7689" class="Symbol">}</a> <a id="7691" href="Effect.Theory.HigherOrder.html#7691" class="Bound">T</a> <a id="7693" href="Effect.Theory.HigherOrder.html#7693" class="Bound">C₁</a> <a id="7696" href="Effect.Theory.HigherOrder.html#7696" class="Bound">C₂</a> <a id="7699" href="Effect.Theory.HigherOrder.html#7699" class="Bound">e′</a> <a id="7702" class="Symbol">⦃</a> <a id="7704" href="Effect.Theory.HigherOrder.html#7704" class="Bound">ζ</a> <a id="7706" class="Symbol">⦄</a> <a id="7708" class="Symbol">{</a><a id="7709" href="Effect.Theory.HigherOrder.html#7709" class="Bound">eq</a><a id="7711" class="Symbol">}</a> <a id="7713" class="Symbol">(</a><a id="7714" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="7719" href="Effect.Theory.HigherOrder.html#7719" class="Bound">a</a> <a id="7721" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7723" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="7727" class="Symbol">)</a> 
  <a id="7732" class="Symbol">=</a> <a id="7734" href="Effect.Theory.HigherOrder.html#7693" class="Bound">C₁</a> <a id="7737" href="Effect.Theory.HigherOrder.html#7699" class="Bound">e′</a> <a id="7740" class="Symbol">⦃</a> <a id="7742" href="Effect.Theory.HigherOrder.html#7770" class="Function">ζ′</a> <a id="7745" class="Symbol">⦄</a> <a id="7747" class="Symbol">(</a><a id="7748" href="Effect.Theory.HigherOrder.html#7719" class="Bound">a</a> <a id="7750" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7752" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="7756" class="Symbol">)</a>
  <a id="7760" class="Keyword">where</a>
    <a id="7770" href="Effect.Theory.HigherOrder.html#7770" class="Function">ζ′</a> <a id="7773" class="Symbol">:</a> <a id="7775" href="Effect.Theory.HigherOrder.html#7653" class="Bound">e₁</a> <a id="7778" href="Effect.Elaborate.html#5818" class="Record Operator">⊑</a> <a id="7780" href="Effect.Theory.HigherOrder.html#7699" class="Bound">e′</a>
    <a id="7787" href="Effect.Elaborate.html#5899" class="Field">≲-eff</a>           <a id="7803" href="Effect.Theory.HigherOrder.html#7770" class="Function">ζ′</a>          <a id="7815" class="Symbol">=</a> <a id="7817" href="Effect.Theory.HigherOrder.html#7704" class="Bound">ζ</a> <a id="7819" class="Symbol">.</a><a id="7820" href="Effect.Elaborate.html#5899" class="Field">≲-eff</a>
    <a id="7830" href="Effect.Elaborate.html#5931" class="Field">≲-effᴴ</a>          <a id="7846" href="Effect.Theory.HigherOrder.html#7770" class="Function">ζ′</a>          <a id="7858" class="Symbol">=</a> <a id="7860" href="Effect.Relation.Binary.HigherOrderInclusion.html#714" class="Function">≲ᴴ-trans</a> <a id="7869" href="Effect.Relation.Binary.HigherOrderInclusion.html#1245" class="Function">·⊑-⊕-left</a> <a id="7879" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="7881" href="Effect.Theory.HigherOrder.html#7704" class="Bound">ζ</a> <a id="7883" class="Symbol">.</a><a id="7884" href="Effect.Elaborate.html#5931" class="Field">≲-effᴴ</a>
    <a id="7895" href="Effect.Elaborate.html#5961" class="Field">preserves-cases</a> <a id="7911" href="Effect.Theory.HigherOrder.html#7770" class="Function">ζ′</a> <a id="7914" href="Effect.Theory.HigherOrder.html#7914" class="Bound">m</a> <a id="7916" href="Effect.Theory.HigherOrder.html#7916" class="Bound">e′′</a>    <a id="7923" class="Symbol">=</a> <a id="7925" href="Effect.Theory.HigherOrder.html#7704" class="Bound">ζ</a> <a id="7927" class="Symbol">.</a><a id="7928" href="Effect.Elaborate.html#5961" class="Field">preserves-cases</a> <a id="7944" class="Symbol">(</a><a id="7945" href="Effect.Relation.Binary.HigherOrderInclusion.html#796" class="Function">injᴴ</a> <a id="7950" class="Symbol">⦃</a> <a id="7952" href="Effect.Relation.Binary.HigherOrderInclusion.html#1131" class="Function">⊑-⊕-left</a> <a id="7961" class="Symbol">⦄</a> <a id="7963" href="Effect.Theory.HigherOrder.html#7914" class="Bound">m</a><a id="7964" class="Symbol">)</a> <a id="7966" href="Effect.Theory.HigherOrder.html#7916" class="Bound">e′′</a>
<a id="7970" href="Effect.Theory.HigherOrder.html#7414" class="Function">[⊎]ᴴ-correct</a> <a id="7983" class="Symbol">{</a><a id="7984" class="Argument">e₁</a> <a id="7987" class="Symbol">=</a> <a id="7989" href="Effect.Theory.HigherOrder.html#7989" class="Bound">e₁</a><a id="7991" class="Symbol">}</a> <a id="7993" class="Symbol">{</a><a id="7994" class="Argument">e₂</a> <a id="7997" class="Symbol">=</a> <a id="7999" href="Effect.Theory.HigherOrder.html#7999" class="Bound">e₂</a><a id="8001" class="Symbol">}</a> <a id="8003" class="Symbol">{</a><a id="8004" class="Argument">Th₁</a> <a id="8008" class="Symbol">=</a> <a id="8010" href="Effect.Theory.HigherOrder.html#8010" class="Bound">Th₁</a><a id="8013" class="Symbol">}</a> <a id="8015" class="Symbol">{</a><a id="8016" class="Argument">Th₂</a> <a id="8020" class="Symbol">=</a> <a id="8022" href="Effect.Theory.HigherOrder.html#8022" class="Bound">Th₂</a><a id="8025" class="Symbol">}</a> <a id="8027" href="Effect.Theory.HigherOrder.html#8027" class="Bound">T</a> <a id="8029" href="Effect.Theory.HigherOrder.html#8029" class="Bound">C₁</a> <a id="8032" href="Effect.Theory.HigherOrder.html#8032" class="Bound">C₂</a> <a id="8035" href="Effect.Theory.HigherOrder.html#8035" class="Bound">e′</a> <a id="8038" class="Symbol">⦃</a> <a id="8040" href="Effect.Theory.HigherOrder.html#8040" class="Bound">ζ</a> <a id="8042" class="Symbol">⦄</a> <a id="8044" class="Symbol">{</a><a id="8045" href="Effect.Theory.HigherOrder.html#8045" class="Bound">eq</a><a id="8047" class="Symbol">}</a> <a id="8049" class="Symbol">(</a><a id="8050" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="8055" href="Effect.Theory.HigherOrder.html#8055" class="Bound">a</a> <a id="8057" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8059" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="8063" class="Symbol">)</a> 
  <a id="8068" class="Symbol">=</a> <a id="8070" href="Effect.Theory.HigherOrder.html#8032" class="Bound">C₂</a> <a id="8073" href="Effect.Theory.HigherOrder.html#8035" class="Bound">e′</a> <a id="8076" class="Symbol">⦃</a> <a id="8078" href="Effect.Theory.HigherOrder.html#8107" class="Function">ζ′</a>  <a id="8082" class="Symbol">⦄</a> <a id="8084" class="Symbol">(</a><a id="8085" href="Effect.Theory.HigherOrder.html#8055" class="Bound">a</a> <a id="8087" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8089" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="8093" class="Symbol">)</a>
  <a id="8097" class="Keyword">where</a>
    <a id="8107" href="Effect.Theory.HigherOrder.html#8107" class="Function">ζ′</a> <a id="8110" class="Symbol">:</a> <a id="8112" href="Effect.Theory.HigherOrder.html#7999" class="Bound">e₂</a> <a id="8115" href="Effect.Elaborate.html#5818" class="Record Operator">⊑</a> <a id="8117" href="Effect.Theory.HigherOrder.html#8035" class="Bound">e′</a>
    <a id="8124" href="Effect.Elaborate.html#5899" class="Field">≲-eff</a>           <a id="8140" href="Effect.Theory.HigherOrder.html#8107" class="Function">ζ′</a>          <a id="8152" class="Symbol">=</a> <a id="8154" href="Effect.Theory.HigherOrder.html#8040" class="Bound">ζ</a> <a id="8156" class="Symbol">.</a><a id="8157" href="Effect.Elaborate.html#5899" class="Field">≲-eff</a>
    <a id="8167" href="Effect.Elaborate.html#5931" class="Field">≲-effᴴ</a>          <a id="8183" href="Effect.Theory.HigherOrder.html#8107" class="Function">ζ′</a>          <a id="8195" class="Symbol">=</a> <a id="8197" href="Effect.Relation.Binary.HigherOrderInclusion.html#714" class="Function">≲ᴴ-trans</a> <a id="8206" href="Effect.Relation.Binary.HigherOrderInclusion.html#1462" class="Function">·⊑-⊕-right</a> <a id="8217" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8219" href="Effect.Theory.HigherOrder.html#8040" class="Bound">ζ</a> <a id="8221" class="Symbol">.</a><a id="8222" href="Effect.Elaborate.html#5931" class="Field">≲-effᴴ</a>
    <a id="8233" href="Effect.Elaborate.html#5961" class="Field">preserves-cases</a> <a id="8249" href="Effect.Theory.HigherOrder.html#8107" class="Function">ζ′</a> <a id="8252" href="Effect.Theory.HigherOrder.html#8252" class="Bound">m</a> <a id="8254" href="Effect.Theory.HigherOrder.html#8254" class="Bound">e′′</a>    <a id="8261" class="Symbol">=</a> <a id="8263" href="Effect.Theory.HigherOrder.html#8040" class="Bound">ζ</a> <a id="8265" class="Symbol">.</a><a id="8266" href="Effect.Elaborate.html#5961" class="Field">preserves-cases</a>  <a id="8283" class="Symbol">(</a><a id="8284" href="Effect.Relation.Binary.HigherOrderInclusion.html#796" class="Function">injᴴ</a> <a id="8289" class="Symbol">⦃</a> <a id="8291" href="Effect.Relation.Binary.HigherOrderInclusion.html#1375" class="Function">⊑-⊕-right</a> <a id="8301" class="Symbol">⦄</a> <a id="8303" href="Effect.Theory.HigherOrder.html#8252" class="Bound">m</a><a id="8304" class="Symbol">)</a> <a id="8306" href="Effect.Theory.HigherOrder.html#8254" class="Bound">e′′</a>

<a id="weaken-correct"></a><a id="8311" href="Effect.Theory.HigherOrder.html#8311" class="Function">weaken-correct</a> <a id="8326" class="Symbol">:</a>
  <a id="8330" class="Symbol">∀</a> <a id="8332" class="Symbol">{</a><a id="8333" href="Effect.Theory.HigherOrder.html#8333" class="Bound">T</a> <a id="8335" class="Symbol">:</a> <a id="8337" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="8344" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="8345" class="Symbol">}</a> <a id="8347" href="Effect.Theory.HigherOrder.html#8347" class="Bound">e</a> <a id="8349" class="Symbol">(</a><a id="8350" href="Effect.Theory.HigherOrder.html#8350" class="Bound">Th</a> <a id="8353" class="Symbol">:</a> <a id="8355" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="8363" href="Effect.Base.html#951" class="Generalizable">η</a><a id="8364" class="Symbol">)</a> <a id="8366" class="Symbol">(</a><a id="8367" href="Effect.Theory.HigherOrder.html#8367" class="Bound">T′</a> <a id="8370" class="Symbol">:</a> <a id="8372" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="8379" href="Effect.Base.html#930" class="Generalizable">ε′</a><a id="8381" class="Symbol">)</a>
  <a id="8385" class="Symbol">→</a> <a id="8387" class="Symbol">(</a><a id="8388" href="Effect.Theory.HigherOrder.html#8388" class="Bound">sub</a> <a id="8392" class="Symbol">:</a> <a id="8394" href="Effect.Theory.HigherOrder.html#8333" class="Bound">T</a> <a id="8396" href="Effect.Theory.FirstOrder.html#4604" class="Record Operator">≪</a> <a id="8398" href="Effect.Theory.HigherOrder.html#8367" class="Bound">T′</a><a id="8400" class="Symbol">)</a>
  <a id="8404" class="Symbol">→</a> <a id="8406" href="Effect.Theory.HigherOrder.html#5558" class="Function">Correctᴴ</a> <a id="8415" href="Effect.Theory.HigherOrder.html#8350" class="Bound">Th</a> <a id="8418" href="Effect.Theory.HigherOrder.html#8333" class="Bound">T</a> <a id="8420" href="Effect.Theory.HigherOrder.html#8347" class="Bound">e</a>
    <a id="8426" class="Comment">--------------------------------------</a>
  <a id="8467" class="Symbol">→</a> <a id="8469" href="Effect.Theory.HigherOrder.html#5558" class="Function">Correctᴴ</a> <a id="8478" href="Effect.Theory.HigherOrder.html#8350" class="Bound">Th</a> <a id="8481" href="Effect.Theory.HigherOrder.html#8367" class="Bound">T′</a> <a id="8484" class="Symbol">(</a><a id="8485" href="Core.MonotonePredicate.html#1472" class="Field">weaken</a> <a id="8492" class="Symbol">(</a><a id="8493" href="Effect.Theory.HigherOrder.html#8388" class="Bound">sub</a> <a id="8497" class="Symbol">.</a><a id="8498" class="Field">≲-eff</a><a id="8503" class="Symbol">)</a> <a id="8505" href="Effect.Theory.HigherOrder.html#8347" class="Bound">e</a><a id="8506" class="Symbol">)</a>
<a id="8508" href="Effect.Theory.HigherOrder.html#8311" class="Function">weaken-correct</a> <a id="8523" href="Effect.Theory.HigherOrder.html#8523" class="Bound">e</a> <a id="8525" href="Effect.Theory.HigherOrder.html#8525" class="Bound">Th</a> <a id="8528" href="Effect.Theory.HigherOrder.html#8528" class="Bound">T′</a> <a id="8531" href="Effect.Theory.HigherOrder.html#8531" class="Bound">sub</a> <a id="8535" href="Effect.Theory.HigherOrder.html#8535" class="Bound">C</a> <a id="8537" href="Effect.Theory.HigherOrder.html#8537" class="Bound">e′</a> <a id="8540" class="Symbol">⦃</a> <a id="8542" href="Effect.Theory.HigherOrder.html#8542" class="Bound">ζ</a> <a id="8544" class="Symbol">⦄</a> <a id="8546" href="Effect.Theory.HigherOrder.html#8546" class="Bound">px</a> <a id="8549" class="Symbol">=</a> <a id="8551" href="Effect.Theory.FirstOrder.html#9271" class="Function">≈-weaken</a> <a id="8560" href="Effect.Theory.HigherOrder.html#8531" class="Bound">sub</a> <a id="8564" class="Symbol">_</a> <a id="8566" class="Symbol">_</a> <a id="8568" class="Symbol">(</a><a id="8569" href="Effect.Theory.HigherOrder.html#8535" class="Bound">C</a> <a id="8571" href="Effect.Theory.HigherOrder.html#8537" class="Bound">e′</a> <a id="8574" class="Symbol">⦃</a> <a id="8576" href="Effect.Theory.HigherOrder.html#8594" class="Function">ζ′</a> <a id="8579" class="Symbol">⦄</a> <a id="8581" href="Effect.Theory.HigherOrder.html#8546" class="Bound">px</a><a id="8583" class="Symbol">)</a> 
  <a id="8588" class="Keyword">where</a> <a id="8594" href="Effect.Theory.HigherOrder.html#8594" class="Function">ζ′</a> <a id="8597" class="Symbol">:</a> <a id="8599" href="Effect.Theory.HigherOrder.html#8523" class="Bound">e</a> <a id="8601" href="Effect.Elaborate.html#5818" class="Record Operator">⊑</a> <a id="8603" href="Effect.Theory.HigherOrder.html#8537" class="Bound">e′</a>
        <a id="8614" href="Effect.Elaborate.html#5899" class="Field">≲-eff</a> <a id="8620" href="Effect.Theory.HigherOrder.html#8594" class="Function">ζ′</a> <a id="8623" class="Symbol">=</a> <a id="8625" href="Effect.Relation.Binary.FirstOrderInclusion.html#889" class="Function">≲-trans</a> <a id="8633" class="Symbol">(</a><a id="8634" href="Effect.Theory.HigherOrder.html#8531" class="Bound">sub</a> <a id="8638" class="Symbol">.</a><a id="8639" href="Effect.Theory.FirstOrder.html#4673" class="Field">≲-eff</a><a id="8644" class="Symbol">)</a> <a id="8646" class="Symbol">(</a><a id="8647" href="Effect.Theory.HigherOrder.html#8542" class="Bound">ζ</a> <a id="8649" class="Symbol">.</a><a id="8650" href="Effect.Elaborate.html#5899" class="Field">≲-eff</a><a id="8655" class="Symbol">)</a>
        <a id="8665" href="Effect.Elaborate.html#5931" class="Field">≲-effᴴ</a> <a id="8672" href="Effect.Theory.HigherOrder.html#8594" class="Function">ζ′</a> <a id="8675" class="Symbol">=</a> <a id="8677" href="Effect.Theory.HigherOrder.html#8542" class="Bound">ζ</a> <a id="8679" class="Symbol">.</a><a id="8680" href="Effect.Elaborate.html#5931" class="Field">≲-effᴴ</a>
        <a id="8695" href="Effect.Elaborate.html#5961" class="Field">preserves-cases</a> <a id="8711" href="Effect.Theory.HigherOrder.html#8594" class="Function">ζ′</a> <a id="8714" href="Effect.Theory.HigherOrder.html#8714" class="Bound">m</a> <a id="8716" href="Effect.Theory.HigherOrder.html#8716" class="Bound">e′′</a> <a id="8720" class="Symbol">=</a> <a id="8722" class="Symbol">(</a><a id="8723" href="Effect.Theory.HigherOrder.html#8542" class="Bound">ζ</a> <a id="8725" class="Symbol">.</a><a id="8726" href="Effect.Elaborate.html#5961" class="Field">preserves-cases</a> <a id="8742" href="Effect.Theory.HigherOrder.html#8714" class="Bound">m</a> <a id="8744" href="Effect.Theory.HigherOrder.html#8716" class="Bound">e′′</a><a id="8747" class="Symbol">)</a>

<a id="compose-elab-correct"></a><a id="8750" href="Effect.Theory.HigherOrder.html#8750" class="Function">compose-elab-correct</a> <a id="8771" class="Symbol">:</a>
  <a id="8775" class="Symbol">∀</a> <a id="8777" class="Symbol">(</a><a id="8778" href="Effect.Theory.HigherOrder.html#8778" class="Bound">e₁</a> <a id="8781" class="Symbol">:</a> <a id="8783" href="Effect.Elaborate.html#1118" class="Record">Elaboration</a> <a id="8795" href="Effect.Base.html#953" class="Generalizable">η₁</a> <a id="8798" href="Effect.Base.html#921" class="Generalizable">ε₁</a><a id="8800" class="Symbol">)</a>
  <a id="8804" class="Symbol">→</a> <a id="8806" class="Symbol">(</a><a id="8807" href="Effect.Theory.HigherOrder.html#8807" class="Bound">e₂</a> <a id="8810" class="Symbol">:</a> <a id="8812" href="Effect.Elaborate.html#1118" class="Record">Elaboration</a> <a id="8824" href="Effect.Base.html#956" class="Generalizable">η₂</a> <a id="8827" href="Effect.Base.html#924" class="Generalizable">ε₂</a><a id="8829" class="Symbol">)</a>
  <a id="8833" class="Symbol">→</a> <a id="8835" class="Symbol">(</a><a id="8836" href="Effect.Theory.HigherOrder.html#8836" class="Bound">T₁</a> <a id="8839" class="Symbol">:</a> <a id="8841" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="8848" href="Effect.Base.html#921" class="Generalizable">ε₁</a><a id="8850" class="Symbol">)</a>
  <a id="8854" class="Symbol">→</a> <a id="8856" class="Symbol">(</a><a id="8857" href="Effect.Theory.HigherOrder.html#8857" class="Bound">T₂</a> <a id="8860" class="Symbol">:</a> <a id="8862" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="8869" href="Effect.Base.html#924" class="Generalizable">ε₂</a><a id="8871" class="Symbol">)</a> 
  <a id="8876" class="Symbol">→</a> <a id="8878" class="Symbol">(</a><a id="8879" href="Effect.Theory.HigherOrder.html#8879" class="Bound">Th₁</a> <a id="8883" class="Symbol">:</a> <a id="8885" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="8893" href="Effect.Base.html#953" class="Generalizable">η₁</a><a id="8895" class="Symbol">)</a>
  <a id="8899" class="Symbol">→</a> <a id="8901" class="Symbol">(</a><a id="8902" href="Effect.Theory.HigherOrder.html#8902" class="Bound">Th₂</a> <a id="8906" class="Symbol">:</a> <a id="8908" href="Effect.Theory.HigherOrder.html#2528" class="Record">Theoryᴴ</a> <a id="8916" href="Effect.Base.html#956" class="Generalizable">η₂</a><a id="8918" class="Symbol">)</a> 
  <a id="8923" class="Symbol">→</a> <a id="8925" href="Effect.Theory.HigherOrder.html#5558" class="Function">Correctᴴ</a> <a id="8934" href="Effect.Theory.HigherOrder.html#8879" class="Bound">Th₁</a> <a id="8938" href="Effect.Theory.HigherOrder.html#8836" class="Bound">T₁</a> <a id="8941" href="Effect.Theory.HigherOrder.html#8778" class="Bound">e₁</a>
  <a id="8946" class="Symbol">→</a> <a id="8948" href="Effect.Theory.HigherOrder.html#5558" class="Function">Correctᴴ</a> <a id="8957" href="Effect.Theory.HigherOrder.html#8902" class="Bound">Th₂</a> <a id="8961" href="Effect.Theory.HigherOrder.html#8857" class="Bound">T₂</a> <a id="8964" href="Effect.Theory.HigherOrder.html#8807" class="Bound">e₂</a>
  <a id="8969" class="Symbol">→</a> <a id="8971" class="Symbol">(</a><a id="8972" href="Effect.Theory.HigherOrder.html#8972" class="Bound">σ</a> <a id="8974" class="Symbol">:</a> <a id="8976" href="Effect.Base.html#921" class="Generalizable">ε₁</a> <a id="8979" href="Core.Ternary.html#767" class="Field Operator">∙</a> <a id="8981" href="Effect.Base.html#924" class="Generalizable">ε₂</a> <a id="8984" href="Core.Ternary.html#767" class="Field Operator">≈</a> <a id="8986" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="8987" class="Symbol">)</a>
    <a id="8993" class="Comment">-----------------------------------------------------------------------------------------</a>
  <a id="9085" class="Symbol">→</a> <a id="9087" href="Effect.Theory.HigherOrder.html#5558" class="Function">Correctᴴ</a> <a id="9096" class="Symbol">(</a><a id="9097" href="Effect.Theory.HigherOrder.html#8879" class="Bound">Th₁</a> <a id="9101" href="Effect.Theory.HigherOrder.html#3129" class="Function Operator">[⊎]ᴴ</a> <a id="9106" href="Effect.Theory.HigherOrder.html#8902" class="Bound">Th₂</a><a id="9109" class="Symbol">)</a> <a id="9111" class="Symbol">(</a><a id="9112" href="Effect.Theory.FirstOrder.html#8055" class="Function">compose-theory</a> <a id="9127" class="Symbol">(</a><a id="9128" href="Effect.Theory.HigherOrder.html#8836" class="Bound">T₁</a> <a id="9131" href="Core.Logic.html#755" class="InductiveConstructor Operator">✴⟨</a> <a id="9134" href="Effect.Theory.HigherOrder.html#8972" class="Bound">σ</a> <a id="9136" href="Core.Logic.html#755" class="InductiveConstructor Operator">⟩</a> <a id="9138" href="Effect.Theory.HigherOrder.html#8857" class="Bound">T₂</a><a id="9140" class="Symbol">))</a> <a id="9143" class="Symbol">(</a><a id="9144" href="Effect.Elaborate.html#8443" class="Function">compose-elab</a> <a id="9157" class="Symbol">(</a><a id="9158" href="Effect.Theory.HigherOrder.html#8778" class="Bound">e₁</a> <a id="9161" href="Core.Logic.html#755" class="InductiveConstructor Operator">✴⟨</a> <a id="9164" href="Effect.Theory.HigherOrder.html#8972" class="Bound">σ</a> <a id="9166" href="Core.Logic.html#755" class="InductiveConstructor Operator">⟩</a> <a id="9168" href="Effect.Theory.HigherOrder.html#8807" class="Bound">e₂</a><a id="9170" class="Symbol">))</a>
<a id="9173" href="Effect.Theory.HigherOrder.html#8750" class="Function">compose-elab-correct</a> <a id="9194" href="Effect.Theory.HigherOrder.html#9194" class="Bound">e₁</a> <a id="9197" href="Effect.Theory.HigherOrder.html#9197" class="Bound">e₂</a> <a id="9200" href="Effect.Theory.HigherOrder.html#9200" class="Bound">T₁</a> <a id="9203" href="Effect.Theory.HigherOrder.html#9203" class="Bound">T₂</a> <a id="9206" href="Effect.Theory.HigherOrder.html#9206" class="Bound">Th₁</a> <a id="9210" href="Effect.Theory.HigherOrder.html#9210" class="Bound">Th₂</a> <a id="9214" href="Effect.Theory.HigherOrder.html#9214" class="Bound">C₁</a> <a id="9217" href="Effect.Theory.HigherOrder.html#9217" class="Bound">C₂</a> <a id="9220" href="Effect.Theory.HigherOrder.html#9220" class="Bound">σ</a> <a id="9222" class="Symbol">=</a>
  <a id="9226" href="Effect.Theory.HigherOrder.html#7414" class="Function">[⊎]ᴴ-correct</a> <a id="9239" class="Symbol">(</a><a id="9240" href="Effect.Theory.FirstOrder.html#8055" class="Function">compose-theory</a> <a id="9255" class="Symbol">(</a><a id="9256" href="Effect.Theory.HigherOrder.html#9200" class="Bound">T₁</a> <a id="9259" href="Core.Logic.html#755" class="InductiveConstructor Operator">✴⟨</a> <a id="9262" href="Effect.Theory.HigherOrder.html#9220" class="Bound">σ</a> <a id="9264" href="Core.Logic.html#755" class="InductiveConstructor Operator">⟩</a> <a id="9266" href="Effect.Theory.HigherOrder.html#9203" class="Bound">T₂</a><a id="9268" class="Symbol">))</a> 
    <a id="9276" class="Symbol">(</a><a id="9277" href="Effect.Theory.HigherOrder.html#8311" class="Function">weaken-correct</a> <a id="9292" href="Effect.Theory.HigherOrder.html#9194" class="Bound">e₁</a> <a id="9295" href="Effect.Theory.HigherOrder.html#9206" class="Bound">Th₁</a> <a id="9299" class="Symbol">(</a><a id="9300" href="Effect.Theory.FirstOrder.html#8055" class="Function">compose-theory</a> <a id="9315" class="Symbol">(</a><a id="9316" href="Effect.Theory.HigherOrder.html#9200" class="Bound">T₁</a> <a id="9319" href="Core.Logic.html#755" class="InductiveConstructor Operator">✴⟨</a> <a id="9322" href="Effect.Theory.HigherOrder.html#9220" class="Bound">σ</a> <a id="9324" href="Core.Logic.html#755" class="InductiveConstructor Operator">⟩</a> <a id="9326" href="Effect.Theory.HigherOrder.html#9203" class="Bound">T₂</a><a id="9328" class="Symbol">))</a> <a id="9331" class="Symbol">(</a><a id="9332" href="Effect.Theory.FirstOrder.html#14676" class="Function">≪-compose-left</a> <a id="9347" href="Effect.Theory.HigherOrder.html#9200" class="Bound">T₁</a> <a id="9350" href="Effect.Theory.HigherOrder.html#9203" class="Bound">T₂</a> <a id="9353" href="Effect.Theory.HigherOrder.html#9220" class="Bound">σ</a><a id="9354" class="Symbol">)</a> <a id="9356" href="Effect.Theory.HigherOrder.html#9214" class="Bound">C₁</a><a id="9358" class="Symbol">)</a>
    <a id="9364" class="Symbol">(</a><a id="9365" href="Effect.Theory.HigherOrder.html#8311" class="Function">weaken-correct</a> <a id="9380" href="Effect.Theory.HigherOrder.html#9197" class="Bound">e₂</a> <a id="9383" href="Effect.Theory.HigherOrder.html#9210" class="Bound">Th₂</a> <a id="9387" class="Symbol">(</a><a id="9388" href="Effect.Theory.FirstOrder.html#8055" class="Function">compose-theory</a> <a id="9403" class="Symbol">(</a><a id="9404" href="Effect.Theory.HigherOrder.html#9200" class="Bound">T₁</a> <a id="9407" href="Core.Logic.html#755" class="InductiveConstructor Operator">✴⟨</a> <a id="9410" href="Effect.Theory.HigherOrder.html#9220" class="Bound">σ</a> <a id="9412" href="Core.Logic.html#755" class="InductiveConstructor Operator">⟩</a> <a id="9414" href="Effect.Theory.HigherOrder.html#9203" class="Bound">T₂</a><a id="9416" class="Symbol">))</a> <a id="9419" class="Symbol">(</a><a id="9420" href="Effect.Theory.FirstOrder.html#14961" class="Function">≪-compose-right</a> <a id="9436" href="Effect.Theory.HigherOrder.html#9200" class="Bound">T₁</a> <a id="9439" href="Effect.Theory.HigherOrder.html#9203" class="Bound">T₂</a> <a id="9442" href="Effect.Theory.HigherOrder.html#9220" class="Bound">σ</a><a id="9443" class="Symbol">)</a> <a id="9445" href="Effect.Theory.HigherOrder.html#9217" class="Bound">C₂</a><a id="9447" class="Symbol">)</a>
</pre></body></html>