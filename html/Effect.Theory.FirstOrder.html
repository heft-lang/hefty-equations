<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Effect.Theory.FirstOrder</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Symbol">#-}</a> 

<a id="31" class="Keyword">open</a> <a id="36" class="Keyword">import</a> <a id="43" href="Effect.Base.html" class="Module">Effect.Base</a>
<a id="55" class="Keyword">open</a> <a id="60" class="Keyword">import</a> <a id="67" href="Effect.Separation.html" class="Module">Effect.Separation</a>
<a id="85" class="Keyword">open</a> <a id="90" class="Keyword">import</a> <a id="97" href="Effect.Inclusion.html" class="Module">Effect.Inclusion</a> 
<a id="115" class="Keyword">open</a> <a id="120" class="Keyword">import</a> <a id="127" href="Effect.Handle.html" class="Module">Effect.Handle</a>
<a id="141" class="Keyword">open</a> <a id="146" class="Keyword">import</a> <a id="153" href="Effect.Logic.html" class="Module">Effect.Logic</a>
<a id="166" class="Keyword">open</a> <a id="171" class="Keyword">import</a> <a id="178" href="Effect.Syntax.Free.html" class="Module">Effect.Syntax.Free</a>

<a id="198" class="Keyword">open</a> <a id="203" class="Keyword">import</a> <a id="210" href="Data.Product.html" class="Module">Data.Product</a> <a id="223" class="Keyword">hiding</a> <a id="230" class="Symbol">(</a><a id="231" href="Data.Product.html#2486" class="Function">map</a><a id="234" class="Symbol">)</a>
<a id="236" class="Keyword">open</a> <a id="241" class="Keyword">import</a> <a id="248" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="257" class="Keyword">hiding</a> <a id="264" class="Symbol">(</a><a id="265" href="Data.Sum.Base.html#1362" class="Function">map</a><a id="268" class="Symbol">)</a>
<a id="270" class="Keyword">open</a> <a id="275" class="Keyword">import</a> <a id="282" href="Data.Unit.html" class="Module">Data.Unit</a>

<a id="293" class="Keyword">open</a> <a id="298" class="Keyword">import</a> <a id="305" href="Data.List.html" class="Module">Data.List</a>
<a id="315" class="Keyword">open</a> <a id="320" class="Keyword">import</a> <a id="327" href="Data.List.Membership.Propositional.html" class="Module">Data.List.Membership.Propositional</a>
<a id="362" class="Keyword">open</a> <a id="367" class="Keyword">import</a> <a id="374" href="Data.List.Membership.Propositional.Properties.html" class="Module">Data.List.Membership.Propositional.Properties</a>
<a id="420" class="Keyword">open</a> <a id="425" class="Keyword">import</a> <a id="432" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a> <a id="461" class="Keyword">hiding</a> <a id="468" class="Symbol">(</a><a id="469" href="Data.List.Relation.Unary.Any.html#1643" class="Function">map</a><a id="472" class="Symbol">)</a>

<a id="475" class="Keyword">open</a> <a id="480" class="Keyword">import</a> <a id="487" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="496" class="Keyword">open</a> <a id="501" class="Keyword">import</a> <a id="508" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="517" class="Keyword">hiding</a> <a id="524" class="Symbol">(</a><a id="525" href="Data.Vec.Base.html#2643" class="Function">map</a> <a id="529" class="Symbol">;</a> <a id="531" href="Data.Vec.Base.html#2764" class="Function Operator">_++_</a><a id="535" class="Symbol">)</a>
<a id="537" class="Keyword">open</a> <a id="542" class="Keyword">import</a> <a id="549" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="560" class="Keyword">using</a> <a id="566" class="Symbol">(</a><a id="567" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="573" class="Symbol">;</a> <a id="575" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="580" class="Symbol">;</a> <a id="582" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="590" class="Symbol">;</a> <a id="592" href="Data.Maybe.Base.html#1554" class="Function">maybe′</a><a id="598" class="Symbol">)</a>

<a id="601" class="Keyword">open</a> <a id="606" class="Keyword">import</a> <a id="613" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="628" class="Keyword">hiding</a> <a id="635" class="Symbol">(</a><a id="636" href="Relation.Unary.html#1523" class="Function Operator">_∈_</a> <a id="640" class="Symbol">;</a> <a id="642" href="Relation.Unary.html#1751" class="Function Operator">_⊆_</a><a id="645" class="Symbol">)</a>
<a id="647" class="Keyword">open</a> <a id="652" class="Keyword">import</a> <a id="659" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="675" class="Keyword">using</a> <a id="681" class="Symbol">(</a><a id="682" href="Relation.Binary.Bundles.html#1920" class="Record">Preorder</a><a id="690" class="Symbol">)</a>
<a id="692" class="Keyword">open</a> <a id="697" class="Keyword">import</a> <a id="704" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="742" class="Keyword">hiding</a> <a id="749" class="Symbol">(</a><a id="750" href="Relation.Binary.PropositionalEquality.html#1471" class="Function Operator">_≗_</a><a id="753" class="Symbol">)</a>
<a id="755" class="Keyword">open</a> <a id="760" class="Keyword">import</a> <a id="767" href="Data.Empty.html" class="Module">Data.Empty</a>

<a id="779" class="Keyword">open</a> <a id="784" class="Keyword">import</a> <a id="791" href="Core.Functor.html" class="Module">Core.Functor</a>
<a id="804" class="Keyword">open</a> <a id="809" class="Keyword">import</a> <a id="816" href="Core.Functor.Monad.html" class="Module">Core.Functor.Monad</a>

<a id="836" class="Keyword">open</a> <a id="841" class="Keyword">import</a> <a id="848" href="Core.Container.html" class="Module">Core.Container</a>
<a id="863" class="Keyword">open</a> <a id="868" class="Keyword">import</a> <a id="875" href="Core.MonotonePredicate.html" class="Module">Core.MonotonePredicate</a> <a id="898" href="Effect.Base.html#715" class="Function">Effect</a> <a id="905" href="Effect.Inclusion.html#635" class="Function Operator">_≲_</a> <a id="909" class="Symbol">(</a><a id="910" href="Effect.Inclusion.html#762" class="Function">≲-preorder</a> <a id="921" class="Symbol">.</a><a id="922" href="Relation.Binary.Bundles.html#2133" class="Field">Preorder.isPreorder</a><a id="941" class="Symbol">)</a>
<a id="943" class="Keyword">open</a> <a id="948" class="Keyword">import</a> <a id="955" href="Core.Extensionality.html" class="Module">Core.Extensionality</a>

<a id="976" class="Keyword">open</a> <a id="981" class="Keyword">import</a> <a id="988" href="Function.html" class="Module">Function</a>
<a id="997" class="Keyword">open</a> <a id="1002" class="Keyword">import</a> <a id="1009" href="Function.Construct.Symmetry.html" class="Module">Function.Construct.Symmetry</a> <a id="1037" class="Keyword">using</a> <a id="1043" class="Symbol">(</a><a id="1044" href="Function.Construct.Symmetry.html#6135" class="Function">↔-sym</a><a id="1049" class="Symbol">)</a>
<a id="1051" class="Keyword">open</a> <a id="1056" class="Keyword">import</a> <a id="1063" href="Function.Construct.Composition.html" class="Module">Function.Construct.Composition</a> <a id="1094" class="Keyword">using</a> <a id="1100" class="Symbol">(</a><a id="1101" href="Function.Construct.Composition.html#9211" class="Function Operator">_↔-∘_</a><a id="1106" class="Symbol">)</a>
<a id="1108" class="Keyword">open</a> <a id="1113" class="Keyword">import</a> <a id="1120" href="Level.html" class="Module">Level</a>

<a id="1127" class="Keyword">module</a> <a id="1134" href="Effect.Theory.FirstOrder.html" class="Module">Effect.Theory.FirstOrder</a> <a id="1159" class="Keyword">where</a>

<a id="1166" class="Keyword">open</a> <a id="1171" href="Effect.Logic.html#659" class="Module">Connectives</a>

<a id="1184" class="Keyword">variable</a> <a id="1193" href="Effect.Theory.FirstOrder.html#1193" class="Generalizable">c</a> <a id="1195" href="Effect.Theory.FirstOrder.html#1195" class="Generalizable">c₁</a> <a id="1198" href="Effect.Theory.FirstOrder.html#1198" class="Generalizable">c₂</a> <a id="1201" href="Effect.Theory.FirstOrder.html#1201" class="Generalizable">c₃</a> <a id="1204" class="Symbol">:</a> <a id="1206" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="1211" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="1213" href="Core.Functor.html#1514" class="Generalizable">A</a>

<a id="1216" class="Comment">-- We define type contexts as a product by induction over the length rather than</a>
<a id="1297" class="Comment">-- a vector. This gives us some useful η-eqalities that save some pattern</a>
<a id="1371" class="Comment">-- matches when defining theories.</a>
<a id="TypeContext"></a><a id="1406" href="Effect.Theory.FirstOrder.html#1406" class="Function">TypeContext</a> <a id="1418" class="Symbol">:</a> <a id="1420" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1422" class="Symbol">→</a> <a id="1424" href="Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="1429" href="Effect.Theory.FirstOrder.html#1406" class="Function">TypeContext</a> <a id="1441" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>    <a id="1449" class="Symbol">=</a> <a id="1451" href="Level.html#400" class="Record">Lift</a> <a id="1456" class="Symbol">_</a> <a id="1458" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="1460" href="Effect.Theory.FirstOrder.html#1406" class="Function">TypeContext</a> <a id="1472" class="Symbol">(</a><a id="1473" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1477" href="Effect.Theory.FirstOrder.html#1477" class="Bound">n</a><a id="1478" class="Symbol">)</a> <a id="1480" class="Symbol">=</a> <a id="1482" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1486" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1488" href="Effect.Theory.FirstOrder.html#1406" class="Function">TypeContext</a> <a id="1500" href="Effect.Theory.FirstOrder.html#1477" class="Bound">n</a>

<a id="1503" class="Comment">-- Equations, packaged together with their context </a>
<a id="1555" class="Keyword">record</a> <a id="Equation"></a><a id="1562" href="Effect.Theory.FirstOrder.html#1562" class="Record">Equation</a> <a id="1571" class="Symbol">(</a><a id="1572" href="Effect.Theory.FirstOrder.html#1572" class="Bound">ε</a> <a id="1574" class="Symbol">:</a> <a id="1576" href="Effect.Base.html#715" class="Function">Effect</a><a id="1582" class="Symbol">)</a> <a id="1584" class="Symbol">:</a> <a id="1586" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> <a id="1591" class="Keyword">where</a>
  <a id="1599" class="Keyword">constructor</a> <a id="_≗_"></a><a id="1611" href="Effect.Theory.FirstOrder.html#1611" class="InductiveConstructor Operator">_≗_</a>  
  <a id="1619" class="Keyword">field</a>
    <a id="1629" class="Symbol">{</a><a id="Equation.Δ′"></a><a id="1630" href="Effect.Theory.FirstOrder.html#1630" class="Field">Δ′</a><a id="1632" class="Symbol">}</a>    <a id="1637" class="Symbol">:</a> <a id="1639" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="1645" class="Symbol">{</a><a id="Equation.Γ′"></a><a id="1646" href="Effect.Theory.FirstOrder.html#1646" class="Field">Γ′</a> <a id="Equation.R′"></a><a id="1649" href="Effect.Theory.FirstOrder.html#1649" class="Field">R′</a><a id="1651" class="Symbol">}</a> <a id="1653" class="Symbol">:</a> <a id="1655" href="Effect.Theory.FirstOrder.html#1406" class="Function">TypeContext</a> <a id="1667" href="Effect.Theory.FirstOrder.html#1630" class="Field">Δ′</a> <a id="1670" class="Symbol">→</a> <a id="1672" href="Agda.Primitive.html#388" class="Primitive">Set</a>
    
    <a id="Equation.lhs"></a><a id="1685" href="Effect.Theory.FirstOrder.html#1685" class="Field">lhs</a> <a id="Equation.rhs"></a><a id="1689" href="Effect.Theory.FirstOrder.html#1689" class="Field">rhs</a> <a id="1693" class="Symbol">:</a> <a id="1695" href="Relation.Unary.html#3360" class="Function">Π[</a> <a id="1698" href="Effect.Theory.FirstOrder.html#1646" class="Field">Γ′</a> <a id="1701" href="Relation.Unary.html#4490" class="Function Operator">⇒</a> <a id="1703" href="Effect.Theory.FirstOrder.html#1649" class="Field">R′</a> <a id="1706" href="Relation.Unary.html#5235" class="Function Operator">⊢</a> <a id="1708" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="1713" href="Effect.Theory.FirstOrder.html#1572" class="Bound">ε</a> <a id="1715" href="Relation.Unary.html#3360" class="Function">]</a> 

<a id="1719" class="Keyword">open</a> <a id="1724" href="Effect.Theory.FirstOrder.html#1562" class="Module">Equation</a> <a id="1733" class="Keyword">public</a> 

<a id="1742" class="Keyword">variable</a> <a id="1751" href="Effect.Theory.FirstOrder.html#1751" class="Generalizable">Δ</a> <a id="1753" href="Effect.Theory.FirstOrder.html#1753" class="Generalizable">Δ₁</a> <a id="1756" href="Effect.Theory.FirstOrder.html#1756" class="Generalizable">Δ₂</a> <a id="1759" class="Symbol">:</a> <a id="1761" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> 
         <a id="1773" href="Effect.Theory.FirstOrder.html#1773" class="Generalizable">Γ</a> <a id="1775" href="Effect.Theory.FirstOrder.html#1775" class="Generalizable">Γ₁</a> <a id="1778" href="Effect.Theory.FirstOrder.html#1778" class="Generalizable">Γ₂</a> <a id="1781" href="Effect.Theory.FirstOrder.html#1781" class="Generalizable">R</a> <a id="1783" class="Symbol">:</a> <a id="1785" href="Data.Vec.Base.html#1051" class="Datatype">Vec</a> <a id="1789" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1793" href="Effect.Theory.FirstOrder.html#1751" class="Generalizable">Δ</a> <a id="1795" class="Symbol">→</a> <a id="1797" href="Agda.Primitive.html#388" class="Primitive">Set</a> 

<a id="1803" class="Keyword">instance</a> <a id="eq-monotone"></a><a id="1812" href="Effect.Theory.FirstOrder.html#1812" class="Function">eq-monotone</a> <a id="1824" class="Symbol">:</a> <a id="1826" href="Core.MonotonePredicate.html#1473" class="Record">Monotone</a> <a id="1835" href="Effect.Theory.FirstOrder.html#1562" class="Record">Equation</a>
<a id="1844" href="Effect.Theory.FirstOrder.html#1812" class="Function">eq-monotone</a> <a id="1856" class="Symbol">.</a><a id="1857" href="Core.MonotonePredicate.html#1535" class="Field">weaken</a> <a id="1864" href="Effect.Theory.FirstOrder.html#1864" class="Bound">i</a> <a id="1866" href="Effect.Theory.FirstOrder.html#1866" class="Bound">eq</a> <a id="1869" class="Symbol">=</a> <a id="1871" class="Symbol">(</a><a id="1872" href="Effect.Inclusion.html#1844" class="Function">♯</a> <a id="1874" class="Symbol">⦃</a> <a id="1876" href="Effect.Theory.FirstOrder.html#1864" class="Bound">i</a> <a id="1878" class="Symbol">⦄</a> <a id="1880" href="Function.Base.html#1294" class="Function Operator">∘₂</a> <a id="1883" href="Effect.Theory.FirstOrder.html#1866" class="Bound">eq</a> <a id="1886" class="Symbol">.</a><a id="1887" href="Effect.Theory.FirstOrder.html#1685" class="Field">lhs</a><a id="1890" class="Symbol">)</a> <a id="1892" href="Effect.Theory.FirstOrder.html#1611" class="InductiveConstructor Operator">≗</a> <a id="1894" class="Symbol">(</a><a id="1895" href="Effect.Inclusion.html#1844" class="Function">♯</a> <a id="1897" class="Symbol">⦃</a> <a id="1899" href="Effect.Theory.FirstOrder.html#1864" class="Bound">i</a> <a id="1901" class="Symbol">⦄</a> <a id="1903" href="Function.Base.html#1294" class="Function Operator">∘₂</a> <a id="1906" href="Effect.Theory.FirstOrder.html#1866" class="Bound">eq</a> <a id="1909" class="Symbol">.</a><a id="1910" href="Effect.Theory.FirstOrder.html#1689" class="Field">rhs</a><a id="1913" class="Symbol">)</a> 

<a id="1917" class="Comment">-- Equations are functors over the category of containers and container morphisms </a>
<a id="hmap-eq"></a><a id="2000" href="Effect.Theory.FirstOrder.html#2000" class="Function">hmap-eq</a> <a id="2008" class="Symbol">:</a> <a id="2010" href="Effect.Base.html#901" class="Generalizable">ε₁</a> <a id="2013" href="Core.Container.html#1619" class="Function Operator">↦</a> <a id="2015" href="Effect.Base.html#904" class="Generalizable">ε₂</a> <a id="2018" class="Symbol">→</a> <a id="2020" href="Effect.Theory.FirstOrder.html#1562" class="Record">Equation</a> <a id="2029" href="Effect.Base.html#901" class="Generalizable">ε₁</a> <a id="2032" class="Symbol">→</a> <a id="2034" href="Effect.Theory.FirstOrder.html#1562" class="Record">Equation</a> <a id="2043" href="Effect.Base.html#904" class="Generalizable">ε₂</a>
<a id="2046" href="Effect.Theory.FirstOrder.html#2000" class="Function">hmap-eq</a> <a id="2054" href="Effect.Theory.FirstOrder.html#2054" class="Bound">θ</a> <a id="2056" href="Effect.Theory.FirstOrder.html#2056" class="Bound">eq</a> <a id="2059" class="Symbol">=</a> <a id="2061" class="Symbol">(</a><a id="2062" href="Effect.Syntax.Free.html#1715" class="Function">hmap-free</a> <a id="2072" href="Effect.Theory.FirstOrder.html#2054" class="Bound">θ</a> <a id="2074" href="Function.Base.html#1294" class="Function Operator">∘₂</a> <a id="2077" href="Effect.Theory.FirstOrder.html#2056" class="Bound">eq</a> <a id="2080" class="Symbol">.</a><a id="2081" href="Effect.Theory.FirstOrder.html#1685" class="Field">lhs</a><a id="2084" class="Symbol">)</a> <a id="2086" href="Effect.Theory.FirstOrder.html#1611" class="InductiveConstructor Operator">≗</a> <a id="2088" class="Symbol">(</a><a id="2089" href="Effect.Syntax.Free.html#1715" class="Function">hmap-free</a> <a id="2099" href="Effect.Theory.FirstOrder.html#2054" class="Bound">θ</a> <a id="2101" href="Function.Base.html#1294" class="Function Operator">∘₂</a> <a id="2104" href="Effect.Theory.FirstOrder.html#2056" class="Bound">eq</a> <a id="2107" class="Symbol">.</a><a id="2108" href="Effect.Theory.FirstOrder.html#1689" class="Field">rhs</a><a id="2111" class="Symbol">)</a>

<a id="2114" class="Comment">-- We can re-brand equations over a given effect to equations for a different</a>
<a id="2192" class="Comment">-- but equivalent effect</a>
<a id="eq-resp-⇿"></a><a id="2217" href="Effect.Theory.FirstOrder.html#2217" class="Function">eq-resp-⇿</a> <a id="2227" class="Symbol">:</a> <a id="2229" href="Effect.Base.html#901" class="Generalizable">ε₁</a> <a id="2232" href="Core.Container.html#1725" class="Record Operator">⇿</a> <a id="2234" href="Effect.Base.html#904" class="Generalizable">ε₂</a> <a id="2237" class="Symbol">→</a> <a id="2239" href="Effect.Theory.FirstOrder.html#1562" class="Record">Equation</a> <a id="2248" href="Effect.Base.html#901" class="Generalizable">ε₁</a> <a id="2251" class="Symbol">→</a> <a id="2253" href="Effect.Theory.FirstOrder.html#1562" class="Record">Equation</a> <a id="2262" href="Effect.Base.html#904" class="Generalizable">ε₂</a>
<a id="2265" href="Effect.Theory.FirstOrder.html#2217" class="Function">eq-resp-⇿</a> <a id="2275" href="Effect.Theory.FirstOrder.html#2275" class="Bound">eq</a> <a id="2278" class="Symbol">=</a> <a id="2280" href="Effect.Theory.FirstOrder.html#2000" class="Function">hmap-eq</a> <a id="2288" class="Symbol">(</a><a id="2289" href="Effect.Theory.FirstOrder.html#2275" class="Bound">eq</a> <a id="2292" class="Symbol">.</a><a id="2293" href="Core.Container.html#1779" class="Field">equivalence</a> <a id="2305" class="Symbol">_</a> <a id="2307" class="Symbol">.</a><a id="2308" href="Function.Bundles.html#6037" class="Field">Inverse.to</a><a id="2318" class="Symbol">)</a> 

<a id="2322" class="Comment">-- We say that an algebra &quot;respects&quot; an equation if folding with that algebra</a>
<a id="2400" class="Comment">-- over both the left- and right-hand-side of the equation produces equal results</a>
<a id="Respects"></a><a id="2482" href="Effect.Theory.FirstOrder.html#2482" class="Function">Respects</a> <a id="2491" class="Symbol">:</a> <a id="2493" href="Core.Container.html#803" class="Record">Algebraᶜ</a> <a id="2502" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="2504" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="2506" class="Symbol">→</a> <a id="2508" href="Effect.Logic.html#3294" class="Record">□</a> <a id="2510" href="Effect.Theory.FirstOrder.html#1562" class="Record">Equation</a> <a id="2519" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="2521" class="Symbol">→</a> <a id="2523" href="Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="2528" href="Effect.Theory.FirstOrder.html#2482" class="Function">Respects</a> <a id="2537" href="Effect.Theory.FirstOrder.html#2537" class="Bound">alg</a> <a id="2541" href="Effect.Theory.FirstOrder.html#2541" class="Bound">eq</a> <a id="2544" class="Symbol">=</a>
  <a id="2548" class="Symbol">∀</a> <a id="2550" class="Symbol">{</a><a id="2551" href="Effect.Theory.FirstOrder.html#2551" class="Bound">δ</a> <a id="2553" href="Effect.Theory.FirstOrder.html#2553" class="Bound">γ</a> <a id="2555" href="Effect.Theory.FirstOrder.html#2555" class="Bound">k</a><a id="2556" class="Symbol">}</a> <a id="2558" class="Symbol">→</a> <a id="2560" href="Effect.Syntax.Free.html#946" class="Function">fold-free</a> <a id="2570" href="Effect.Theory.FirstOrder.html#2555" class="Bound">k</a> <a id="2572" href="Effect.Theory.FirstOrder.html#2537" class="Bound">alg</a> <a id="2576" class="Symbol">(</a><a id="2577" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="2587" href="Effect.Theory.FirstOrder.html#2541" class="Bound">eq</a> <a id="2590" class="Symbol">.</a><a id="2591" href="Effect.Theory.FirstOrder.html#1685" class="Field">lhs</a> <a id="2595" href="Effect.Theory.FirstOrder.html#2551" class="Bound">δ</a> <a id="2597" href="Effect.Theory.FirstOrder.html#2553" class="Bound">γ</a><a id="2598" class="Symbol">)</a> <a id="2600" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2602" href="Effect.Syntax.Free.html#946" class="Function">fold-free</a> <a id="2612" href="Effect.Theory.FirstOrder.html#2555" class="Bound">k</a> <a id="2614" href="Effect.Theory.FirstOrder.html#2537" class="Bound">alg</a> <a id="2618" class="Symbol">(</a><a id="2619" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="2629" href="Effect.Theory.FirstOrder.html#2541" class="Bound">eq</a> <a id="2632" class="Symbol">.</a><a id="2633" href="Effect.Theory.FirstOrder.html#1689" class="Field">rhs</a> <a id="2637" href="Effect.Theory.FirstOrder.html#2551" class="Bound">δ</a> <a id="2639" href="Effect.Theory.FirstOrder.html#2553" class="Bound">γ</a><a id="2640" class="Symbol">)</a> 

<a id="2644" class="Comment">-- A theory of an effect `ε` is simply a collection of equations∘ </a>
<a id="2711" class="Keyword">record</a> <a id="Theory"></a><a id="2718" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="2725" class="Symbol">(</a><a id="2726" href="Effect.Theory.FirstOrder.html#2726" class="Bound">ε</a> <a id="2728" class="Symbol">:</a> <a id="2730" href="Effect.Base.html#715" class="Function">Effect</a><a id="2736" class="Symbol">)</a> <a id="2738" class="Symbol">:</a> <a id="2740" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> <a id="2745" class="Keyword">where</a>
  <a id="2753" class="Keyword">no-eta-equality</a>
  <a id="2771" class="Keyword">constructor</a> <a id="∥_∥"></a><a id="2783" href="Effect.Theory.FirstOrder.html#2783" class="InductiveConstructor Operator">∥_∥</a>
  <a id="2789" class="Keyword">field</a>
    <a id="Theory.equations"></a><a id="2799" href="Effect.Theory.FirstOrder.html#2799" class="Field">equations</a> <a id="2809" class="Symbol">:</a> <a id="2811" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2816" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="2818" href="Effect.Logic.html#3294" class="Record">□</a> <a id="2820" href="Effect.Theory.FirstOrder.html#1562" class="Record">Equation</a> <a id="2829" href="Effect.Theory.FirstOrder.html#2726" class="Bound">ε</a>

<a id="2832" class="Keyword">open</a> <a id="2837" href="Effect.Theory.FirstOrder.html#2718" class="Module">Theory</a> <a id="2844" class="Keyword">public</a>

<a id="2852" class="Comment">-- A predicate asserting that a given equation is part of a theory</a>
<a id="_◃_"></a><a id="2919" href="Effect.Theory.FirstOrder.html#2919" class="Function Operator">_◃_</a> <a id="2923" class="Symbol">:</a> <a id="2925" href="Effect.Logic.html#3294" class="Record">□</a> <a id="2927" href="Effect.Theory.FirstOrder.html#1562" class="Record">Equation</a> <a id="2936" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="2938" class="Symbol">→</a> <a id="2940" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="2947" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="2949" class="Symbol">→</a> <a id="2951" href="Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="2956" href="Effect.Theory.FirstOrder.html#2956" class="Bound">eq</a> <a id="2959" href="Effect.Theory.FirstOrder.html#2919" class="Function Operator">◃</a> <a id="2961" href="Effect.Theory.FirstOrder.html#2961" class="Bound">T</a> <a id="2963" class="Symbol">=</a> <a id="2965" href="Effect.Theory.FirstOrder.html#2956" class="Bound">eq</a> <a id="2968" href="Data.List.Membership.Setoid.html#887" class="Function Operator">∈</a> <a id="2970" href="Effect.Theory.FirstOrder.html#2961" class="Bound">T</a> <a id="2972" class="Symbol">.</a><a id="2973" href="Effect.Theory.FirstOrder.html#2799" class="Field">equations</a>

<a id="2984" class="Comment">-- Theory inclusion</a>
<a id="_⊆_"></a><a id="3004" href="Effect.Theory.FirstOrder.html#3004" class="Function Operator">_⊆_</a> <a id="3008" class="Symbol">:</a> <a id="3010" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="3017" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="3019" class="Symbol">→</a> <a id="3021" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="3028" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="3030" class="Symbol">→</a> <a id="3032" href="Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="3037" href="Effect.Theory.FirstOrder.html#3037" class="Bound">T₁</a> <a id="3040" href="Effect.Theory.FirstOrder.html#3004" class="Function Operator">⊆</a> <a id="3042" href="Effect.Theory.FirstOrder.html#3042" class="Bound">T₂</a> <a id="3045" class="Symbol">=</a> <a id="3047" class="Symbol">∀</a> <a id="3049" class="Symbol">{</a><a id="3050" href="Effect.Theory.FirstOrder.html#3050" class="Bound">eq</a><a id="3052" class="Symbol">}</a> <a id="3054" class="Symbol">→</a> <a id="3056" href="Effect.Theory.FirstOrder.html#3050" class="Bound">eq</a> <a id="3059" href="Effect.Theory.FirstOrder.html#2919" class="Function Operator">◃</a> <a id="3061" href="Effect.Theory.FirstOrder.html#3037" class="Bound">T₁</a> <a id="3064" class="Symbol">→</a> <a id="3066" href="Effect.Theory.FirstOrder.html#3050" class="Bound">eq</a> <a id="3069" href="Effect.Theory.FirstOrder.html#2919" class="Function Operator">◃</a> <a id="3071" href="Effect.Theory.FirstOrder.html#3042" class="Bound">T₂</a> 

<a id="3076" class="Comment">-- Effect theories are monotone predicates over effects </a>
<a id="3133" class="Keyword">instance</a> <a id="theory-monotone"></a><a id="3142" href="Effect.Theory.FirstOrder.html#3142" class="Function">theory-monotone</a> <a id="3158" class="Symbol">:</a> <a id="3160" href="Core.MonotonePredicate.html#1473" class="Record">Monotone</a> <a id="3169" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a>
<a id="3176" href="Effect.Theory.FirstOrder.html#3142" class="Function">theory-monotone</a> <a id="3192" class="Symbol">.</a><a id="3193" href="Core.MonotonePredicate.html#1535" class="Field">weaken</a> <a id="3200" href="Effect.Theory.FirstOrder.html#3200" class="Bound">i</a> <a id="3202" href="Effect.Theory.FirstOrder.html#3202" class="Bound">T</a> <a id="3204" class="Symbol">=</a> <a id="3206" href="Effect.Theory.FirstOrder.html#2783" class="InductiveConstructor Operator">∥</a> <a id="3208" class="Symbol">(</a><a id="3209" href="Data.List.Base.html#1563" class="Function">map</a> <a id="3213" class="Symbol">(</a><a id="3214" href="Core.MonotonePredicate.html#1535" class="Field">weaken</a> <a id="3221" href="Effect.Theory.FirstOrder.html#3200" class="Bound">i</a><a id="3222" class="Symbol">)</a> <a id="3224" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="3226" href="Effect.Theory.FirstOrder.html#3202" class="Bound">T</a> <a id="3228" class="Symbol">.</a><a id="3229" href="Effect.Theory.FirstOrder.html#2799" class="Field">equations</a><a id="3238" class="Symbol">)</a> <a id="3240" href="Effect.Theory.FirstOrder.html#2783" class="InductiveConstructor Operator">∥</a> 

<a id="theory-resp-⇿"></a><a id="3244" href="Effect.Theory.FirstOrder.html#3244" class="Function">theory-resp-⇿</a> <a id="3258" class="Symbol">:</a> <a id="3260" href="Effect.Base.html#901" class="Generalizable">ε₁</a> <a id="3263" href="Core.Container.html#1725" class="Record Operator">⇿</a> <a id="3265" href="Effect.Base.html#904" class="Generalizable">ε₂</a> <a id="3268" class="Symbol">→</a> <a id="3270" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="3277" href="Effect.Base.html#901" class="Generalizable">ε₁</a> <a id="3280" class="Symbol">→</a> <a id="3282" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="3289" href="Effect.Base.html#904" class="Generalizable">ε₂</a> 
<a id="3293" href="Effect.Theory.FirstOrder.html#3244" class="Function">theory-resp-⇿</a> <a id="3307" href="Effect.Theory.FirstOrder.html#3307" class="Bound">eqv</a> <a id="3311" href="Effect.Theory.FirstOrder.html#3311" class="Bound">T</a> <a id="3313" class="Symbol">=</a> <a id="3315" href="Effect.Theory.FirstOrder.html#2783" class="InductiveConstructor Operator">∥</a> <a id="3317" href="Data.List.Base.html#1563" class="Function">map</a> <a id="3321" class="Symbol">(</a><a id="3322" href="Effect.Logic.html#3867" class="Function">□-resp-⇿</a> <a id="3331" href="Effect.Theory.FirstOrder.html#3307" class="Bound">eqv</a><a id="3334" class="Symbol">)</a> <a id="3336" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="3338" href="Effect.Theory.FirstOrder.html#3311" class="Bound">T</a> <a id="3340" class="Symbol">.</a><a id="3341" href="Effect.Theory.FirstOrder.html#2799" class="Field">equations</a> <a id="3351" href="Effect.Theory.FirstOrder.html#2783" class="InductiveConstructor Operator">∥</a>

<a id="◃-weaken"></a><a id="3354" href="Effect.Theory.FirstOrder.html#3354" class="Function">◃-weaken</a> <a id="3363" class="Symbol">:</a> <a id="3365" class="Symbol">{</a><a id="3366" href="Effect.Theory.FirstOrder.html#3366" class="Bound">eq</a> <a id="3369" class="Symbol">:</a> <a id="3371" href="Effect.Logic.html#3294" class="Record">□</a> <a id="3373" href="Effect.Theory.FirstOrder.html#1562" class="Record">Equation</a> <a id="3382" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="3383" class="Symbol">}</a> <a id="3385" class="Symbol">→</a> <a id="3387" class="Symbol">∀</a> <a id="3389" href="Effect.Theory.FirstOrder.html#3389" class="Bound">T</a> <a id="3391" class="Symbol">→</a> <a id="3393" href="Effect.Theory.FirstOrder.html#3366" class="Bound">eq</a> <a id="3396" href="Effect.Theory.FirstOrder.html#2919" class="Function Operator">◃</a> <a id="3398" href="Effect.Theory.FirstOrder.html#3389" class="Bound">T</a> <a id="3400" class="Symbol">→</a> <a id="3402" class="Symbol">(</a><a id="3403" href="Effect.Theory.FirstOrder.html#3403" class="Bound">i</a> <a id="3405" class="Symbol">:</a> <a id="3407" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="3409" href="Effect.Inclusion.html#635" class="Function Operator">≲</a> <a id="3411" href="Effect.Base.html#910" class="Generalizable">ε′</a><a id="3413" class="Symbol">)</a> <a id="3415" class="Symbol">→</a> <a id="3417" href="Core.MonotonePredicate.html#1535" class="Field">weaken</a> <a id="3424" href="Effect.Theory.FirstOrder.html#3403" class="Bound">i</a> <a id="3426" href="Effect.Theory.FirstOrder.html#3366" class="Bound">eq</a> <a id="3429" href="Effect.Theory.FirstOrder.html#2919" class="Function Operator">◃</a> <a id="3431" href="Core.MonotonePredicate.html#1535" class="Field">weaken</a> <a id="3438" href="Effect.Theory.FirstOrder.html#3403" class="Bound">i</a> <a id="3440" href="Effect.Theory.FirstOrder.html#3389" class="Bound">T</a>
<a id="3442" href="Effect.Theory.FirstOrder.html#3354" class="Function">◃-weaken</a> <a id="3451" href="Effect.Theory.FirstOrder.html#3451" class="Bound">T</a> <a id="3453" href="Effect.Theory.FirstOrder.html#3453" class="Bound">px</a> <a id="3456" href="Effect.Theory.FirstOrder.html#3456" class="Bound">i</a> <a id="3458" class="Keyword">with</a> <a id="3463" href="Effect.Theory.FirstOrder.html#3451" class="Bound">T</a> <a id="3465" class="Symbol">.</a><a id="3466" href="Effect.Theory.FirstOrder.html#2799" class="Field">equations</a>
<a id="3476" href="Effect.Theory.FirstOrder.html#3354" class="Function">◃-weaken</a> <a id="3485" href="Effect.Theory.FirstOrder.html#3485" class="Bound">T</a> <a id="3487" class="Symbol">(</a><a id="3488" href="Data.List.Relation.Unary.Any.html#1219" class="InductiveConstructor">here</a> <a id="3493" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="3497" class="Symbol">)</a> <a id="3499" class="Symbol">_</a> <a id="3501" class="Symbol">|</a> <a id="3503" class="Symbol">_</a> <a id="3505" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3507" class="Symbol">_</a>  <a id="3510" class="Symbol">=</a> <a id="3512" href="Data.List.Relation.Unary.Any.html#1219" class="InductiveConstructor">here</a> <a id="3517" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="3522" href="Effect.Theory.FirstOrder.html#3354" class="Function">◃-weaken</a> <a id="3531" href="Effect.Theory.FirstOrder.html#3531" class="Bound">T</a> <a id="3533" class="Symbol">(</a><a id="3534" href="Data.List.Relation.Unary.Any.html#1272" class="InductiveConstructor">there</a> <a id="3540" href="Effect.Theory.FirstOrder.html#3540" class="Bound">px</a><a id="3542" class="Symbol">)</a>  <a id="3545" href="Effect.Theory.FirstOrder.html#3545" class="Bound">i</a> <a id="3547" class="Symbol">|</a> <a id="3549" class="Symbol">_</a> <a id="3551" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3553" href="Effect.Theory.FirstOrder.html#3553" class="Bound">xs</a> <a id="3556" class="Symbol">=</a> <a id="3558" href="Data.List.Relation.Unary.Any.html#1272" class="InductiveConstructor">there</a> <a id="3564" class="Symbol">(</a><a id="3565" href="Effect.Theory.FirstOrder.html#3354" class="Function">◃-weaken</a> <a id="3574" href="Effect.Theory.FirstOrder.html#2783" class="InductiveConstructor Operator">∥</a> <a id="3576" href="Effect.Theory.FirstOrder.html#3553" class="Bound">xs</a> <a id="3579" href="Effect.Theory.FirstOrder.html#2783" class="InductiveConstructor Operator">∥</a> <a id="3581" href="Effect.Theory.FirstOrder.html#3540" class="Bound">px</a> <a id="3584" href="Effect.Theory.FirstOrder.html#3545" class="Bound">i</a><a id="3585" class="Symbol">)</a>


<a id="3589" class="Comment">-- Heterogeneous theory inclusion</a>
<a id="3623" class="Keyword">module</a> <a id="3630" href="Effect.Theory.FirstOrder.html#3630" class="Module">_</a> <a id="3632" class="Keyword">where</a>

  <a id="3641" class="Comment">-- Use a record to help type inference </a>
  <a id="3683" class="Keyword">record</a> <a id="3690" href="Effect.Theory.FirstOrder.html#3690" class="Record Operator">_⊆⟨_⟩_</a> <a id="3697" class="Symbol">(</a><a id="3698" href="Effect.Theory.FirstOrder.html#3698" class="Bound">T₁</a> <a id="3701" class="Symbol">:</a> <a id="3703" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="3710" href="Effect.Base.html#901" class="Generalizable">ε₁</a><a id="3712" class="Symbol">)</a> <a id="3714" class="Symbol">(</a><a id="3715" href="Effect.Theory.FirstOrder.html#3715" class="Bound">i</a> <a id="3717" class="Symbol">:</a> <a id="3719" href="Effect.Base.html#901" class="Generalizable">ε₁</a> <a id="3722" href="Effect.Inclusion.html#635" class="Function Operator">≲</a> <a id="3724" href="Effect.Base.html#904" class="Generalizable">ε₂</a><a id="3726" class="Symbol">)</a> <a id="3728" class="Symbol">(</a><a id="3729" href="Effect.Theory.FirstOrder.html#3729" class="Bound">T₂</a> <a id="3732" class="Symbol">:</a> <a id="3734" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="3741" href="Effect.Base.html#904" class="Generalizable">ε₂</a><a id="3743" class="Symbol">)</a> <a id="3745" class="Symbol">:</a> <a id="3747" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> <a id="3752" class="Keyword">where</a> 
    <a id="3763" class="Keyword">field</a> <a id="3769" href="Effect.Theory.FirstOrder.html#3769" class="Field">sub</a> <a id="3773" class="Symbol">:</a> <a id="3775" class="Symbol">∀</a> <a id="3777" class="Symbol">{</a><a id="3778" href="Effect.Theory.FirstOrder.html#3778" class="Bound">eq</a><a id="3780" class="Symbol">}</a> <a id="3782" class="Symbol">→</a> <a id="3784" href="Effect.Theory.FirstOrder.html#3778" class="Bound">eq</a> <a id="3787" href="Effect.Theory.FirstOrder.html#2919" class="Function Operator">◃</a> <a id="3789" href="Effect.Theory.FirstOrder.html#3698" class="Bound">T₁</a> <a id="3792" class="Symbol">→</a> <a id="3794" href="Core.MonotonePredicate.html#1535" class="Field">weaken</a> <a id="3801" href="Effect.Theory.FirstOrder.html#3715" class="Bound">i</a> <a id="3803" href="Effect.Theory.FirstOrder.html#3778" class="Bound">eq</a> <a id="3806" href="Effect.Theory.FirstOrder.html#2919" class="Function Operator">◃</a> <a id="3808" href="Effect.Theory.FirstOrder.html#3729" class="Bound">T₂</a> 

  <a id="3815" class="Keyword">open</a> <a id="3820" href="Effect.Theory.FirstOrder.html#3690" class="Module Operator">_⊆⟨_⟩_</a> <a id="3827" class="Keyword">public</a> 

  <a id="3838" class="Comment">-- The following two lemmas witness that heterogeneous theory inclusion</a>
  <a id="3912" class="Comment">-- carries the structure of what we might refer to as a &quot;graded preorder&quot; (or,</a>
  <a id="3993" class="Comment">-- monoid) The grading is given by effect inclusion witnesses, which form a</a>
  <a id="4071" class="Comment">-- monoid with reflexivity and transitivity as respectively the unit and</a>
  <a id="4146" class="Comment">-- multiplication of the monoid.</a>
  <a id="4181" class="Comment">--</a>
  <a id="4186" class="Comment">-- TODO: is this a known structure? </a>

  <a id="4226" class="Keyword">postulate</a> 
    <a id="4241" href="Effect.Theory.FirstOrder.html#4241" class="Postulate">⟨⊆⟩-refl</a> <a id="4250" class="Symbol">:</a> <a id="4252" class="Symbol">{</a><a id="4253" href="Effect.Theory.FirstOrder.html#4253" class="Bound">T</a> <a id="4255" class="Symbol">:</a> <a id="4257" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="4264" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="4265" class="Symbol">}</a> <a id="4267" class="Symbol">→</a> <a id="4269" href="Effect.Theory.FirstOrder.html#4253" class="Bound">T</a> <a id="4271" href="Effect.Theory.FirstOrder.html#3690" class="Record Operator">⊆⟨</a> <a id="4274" href="Effect.Inclusion.html#675" class="Function">≲-refl</a> <a id="4281" href="Effect.Theory.FirstOrder.html#3690" class="Record Operator">⟩</a> <a id="4283" href="Effect.Theory.FirstOrder.html#4253" class="Bound">T</a>
<a id="4285" class="Comment">-- ⟨⊆⟩-refl {T = T} .sub px with T .equations</a>
<a id="4331" class="Comment">-- ⟨⊆⟩-refl {T = T} .sub (here refl) | eq ∷ _ = here (</a>
<a id="4386" class="Comment">--   begin</a>
<a id="4397" class="Comment">--     necessary (λ i → □⟨ eq ⟩ ≲-trans ≲-refl i)</a>
<a id="4447" class="Comment">--   ≡⟨ {!!} ⟩</a>
<a id="4462" class="Comment">--     necessary (λ i → □⟨ eq ⟩ i) </a>
<a id="4498" class="Comment">--   ≡⟨⟩ </a>
<a id="4508" class="Comment">--     eq</a>
<a id="4518" class="Comment">--   ∎ )</a>
<a id="4527" class="Comment">--   where open ≡-Reasoning </a>
<a id="4556" class="Comment">-- ⟨⊆⟩-refl {T = T} .sub (there px)  | _ ∷ _ = there (⟨⊆⟩-refl {T = ∥ _ ∥} .sub px)</a>
<a id="4640" class="Comment">-- </a>
 
  <a id="4648" class="Keyword">postulate</a> 
    <a id="4663" href="Effect.Theory.FirstOrder.html#4663" class="Postulate">⟨⊆⟩-trans</a> <a id="4673" class="Symbol">:</a>
      <a id="4681" class="Symbol">∀</a> <a id="4683" class="Symbol">{</a><a id="4684" href="Effect.Theory.FirstOrder.html#4684" class="Bound">T₁</a> <a id="4687" class="Symbol">:</a> <a id="4689" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="4696" href="Effect.Base.html#901" class="Generalizable">ε₁</a><a id="4698" class="Symbol">}</a> <a id="4700" class="Symbol">{</a><a id="4701" href="Effect.Theory.FirstOrder.html#4701" class="Bound">T₂</a> <a id="4704" class="Symbol">:</a> <a id="4706" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="4713" href="Effect.Base.html#904" class="Generalizable">ε₂</a><a id="4715" class="Symbol">}</a> <a id="4717" class="Symbol">{</a><a id="4718" href="Effect.Theory.FirstOrder.html#4718" class="Bound">T</a> <a id="4720" class="Symbol">:</a> <a id="4722" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="4729" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="4730" class="Symbol">}</a>
        <a id="4740" class="Symbol">{</a><a id="4741" href="Effect.Theory.FirstOrder.html#4741" class="Bound">i₁</a> <a id="4744" class="Symbol">:</a> <a id="4746" href="Effect.Base.html#901" class="Generalizable">ε₁</a> <a id="4749" href="Effect.Inclusion.html#635" class="Function Operator">≲</a> <a id="4751" href="Effect.Base.html#904" class="Generalizable">ε₂</a><a id="4753" class="Symbol">}</a> <a id="4755" class="Symbol">{</a><a id="4756" href="Effect.Theory.FirstOrder.html#4756" class="Bound">i₂</a> <a id="4759" class="Symbol">:</a> <a id="4761" href="Effect.Base.html#904" class="Generalizable">ε₂</a> <a id="4764" href="Effect.Inclusion.html#635" class="Function Operator">≲</a> <a id="4766" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="4767" class="Symbol">}</a>
      <a id="4775" class="Symbol">→</a> <a id="4777" href="Effect.Theory.FirstOrder.html#4684" class="Bound">T₁</a> <a id="4780" href="Effect.Theory.FirstOrder.html#3690" class="Record Operator">⊆⟨</a> <a id="4783" href="Effect.Theory.FirstOrder.html#4741" class="Bound">i₁</a> <a id="4786" href="Effect.Theory.FirstOrder.html#3690" class="Record Operator">⟩</a> <a id="4788" href="Effect.Theory.FirstOrder.html#4701" class="Bound">T₂</a> <a id="4791" class="Symbol">→</a> <a id="4793" href="Effect.Theory.FirstOrder.html#4701" class="Bound">T₂</a> <a id="4796" href="Effect.Theory.FirstOrder.html#3690" class="Record Operator">⊆⟨</a> <a id="4799" href="Effect.Theory.FirstOrder.html#4756" class="Bound">i₂</a> <a id="4802" href="Effect.Theory.FirstOrder.html#3690" class="Record Operator">⟩</a> <a id="4804" href="Effect.Theory.FirstOrder.html#4718" class="Bound">T</a>
        <a id="4814" class="Comment">----------------------------</a>
      <a id="4849" class="Symbol">→</a> <a id="4851" href="Effect.Theory.FirstOrder.html#4684" class="Bound">T₁</a> <a id="4854" href="Effect.Theory.FirstOrder.html#3690" class="Record Operator">⊆⟨</a> <a id="4857" href="Effect.Inclusion.html#720" class="Function">≲-trans</a> <a id="4865" href="Effect.Theory.FirstOrder.html#4741" class="Bound">i₁</a> <a id="4868" href="Effect.Theory.FirstOrder.html#4756" class="Bound">i₂</a> <a id="4871" href="Effect.Theory.FirstOrder.html#3690" class="Record Operator">⟩</a> <a id="4873" href="Effect.Theory.FirstOrder.html#4718" class="Bound">T</a>
<a id="4875" class="Comment">-- ⟨⊆⟩-trans {T₁ = T₁} {T₂ = T₂} {T = T} {i₁ = i₁} {i₂} sub₁ sub₂ {eq} px =</a>
<a id="4951" class="Comment">--   subst (λ ○ → ○ ◃ T) (</a>
<a id="4978" class="Comment">--     begin</a>
<a id="4991" class="Comment">--       (necessary λ i′ → □⟨ eq ⟩ ≲-trans i₁ (≲-trans i₂ i′))</a>
<a id="5054" class="Comment">--     ≡⟨ {!!} ⟩</a>
<a id="5071" class="Comment">--       (necessary λ i′ → □⟨ eq ⟩ ≲-trans (≲-trans i₁ i₂) i′)</a>
<a id="5134" class="Comment">--     ∎ ) (sub₂ (sub₁ px))</a>
<a id="5162" class="Comment">--   where open ≡-Reasoning</a>
<a id="5190" class="Comment">--</a>

  <a id="5196" class="Comment">-- We can&#39;t quite complete the proofs above yet. To do so, we would need to</a>
  <a id="5274" class="Comment">-- assert that weakening of equations respects the monoidal structure of</a>
  <a id="5349" class="Comment">-- effect inclusion in a suitable sense. What does this mean, precisely? Given</a>
  <a id="5430" class="Comment">-- two witnesses i₁ and i₂ that can be &quot;equated&quot; under the monoid laws (with</a>
  <a id="5509" class="Comment">-- reflexivity as the unit and transitivity as composition), weakening an</a>
  <a id="5585" class="Comment">-- equation with either witness should give the same result.</a>
  <a id="5648" class="Comment">--</a>
  <a id="5653" class="Comment">-- This begs the question of what it means for two witnesses to be</a>
  <a id="5722" class="Comment">-- equal. Propositional equality would be too strong, especially for the</a>
  <a id="5797" class="Comment">-- current semantic defintion of effect inclusion as it would require equality</a>
  <a id="5878" class="Comment">-- of the inverse proofs. This would require UIP to prove, but beyond that</a>
  <a id="5955" class="Comment">-- it&#39;s completely unecessary if we&#39;re only interested in knowing that</a>
  <a id="6028" class="Comment">-- inclusions give the same result once we compute the injections. A more</a>
  <a id="6104" class="Comment">-- appealing setup would be to require (extensional) equality of the transport</a>
  <a id="6185" class="Comment">-- witnesses.</a>
  <a id="6201" class="Comment">--</a>
  <a id="6206" class="Comment">-- Consequently, we would require additional proofs for all equations--which</a>
  <a id="6285" class="Comment">-- are defined as function spaces over inclusion witnesses--to respect this</a>
  <a id="6363" class="Comment">-- weaker notion of equality. Equations shouldn&#39;t really use this witness</a>
  <a id="6439" class="Comment">-- other than to pass it onto smart constructors, so if we can prove that</a>
  <a id="6515" class="Comment">-- weakening of effect trees respects extensional equality of inclusions</a>
  <a id="6590" class="Comment">-- (which it should), we should be good.</a>


<a id="6633" class="Comment">-- Coproduct of effect theories</a>
<a id="_⟨+⟩_"></a><a id="6665" href="Effect.Theory.FirstOrder.html#6665" class="Function Operator">_⟨+⟩_</a> <a id="6671" class="Symbol">:</a> <a id="6673" href="Relation.Unary.html#3498" class="Function">∀[</a> <a id="6676" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="6683" href="Relation.Unary.html#4490" class="Function Operator">⇒</a> <a id="6685" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="6692" href="Relation.Unary.html#4490" class="Function Operator">⇒</a> <a id="6694" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="6701" href="Relation.Unary.html#3498" class="Function">]</a>
<a id="6703" class="Symbol">(</a><a id="6704" href="Effect.Theory.FirstOrder.html#6704" class="Bound">T₁</a> <a id="6707" href="Effect.Theory.FirstOrder.html#6665" class="Function Operator">⟨+⟩</a> <a id="6711" href="Effect.Theory.FirstOrder.html#6711" class="Bound">T₂</a><a id="6713" class="Symbol">)</a> <a id="6715" class="Symbol">.</a><a id="6716" href="Effect.Theory.FirstOrder.html#2799" class="Field">equations</a> <a id="6726" class="Symbol">=</a> <a id="6728" href="Effect.Theory.FirstOrder.html#6704" class="Bound">T₁</a> <a id="6731" class="Symbol">.</a><a id="6732" href="Effect.Theory.FirstOrder.html#2799" class="Field">equations</a> <a id="6742" href="Data.List.Base.html#1825" class="Function Operator">++</a> <a id="6745" href="Effect.Theory.FirstOrder.html#6711" class="Bound">T₂</a> <a id="6748" class="Symbol">.</a><a id="6749" href="Effect.Theory.FirstOrder.html#2799" class="Field">equations</a>

<a id="6760" class="Comment">-- Sum of effect theories</a>
<a id="_[+]_"></a><a id="6786" href="Effect.Theory.FirstOrder.html#6786" class="Function Operator">_[+]_</a> <a id="6792" class="Symbol">:</a> <a id="6794" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="6801" href="Effect.Base.html#901" class="Generalizable">ε₁</a> <a id="6804" class="Symbol">→</a> <a id="6806" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="6813" href="Effect.Base.html#904" class="Generalizable">ε₂</a> <a id="6816" class="Symbol">→</a> <a id="6818" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="6825" class="Symbol">(</a><a id="6826" href="Effect.Base.html#901" class="Generalizable">ε₁</a> <a id="6829" href="Core.Container.html#942" class="Function Operator">⊕ᶜ</a> <a id="6832" href="Effect.Base.html#904" class="Generalizable">ε₂</a><a id="6834" class="Symbol">)</a> 
<a id="6837" href="Effect.Theory.FirstOrder.html#6786" class="Function Operator">_[+]_</a> <a id="6843" class="Symbol">{</a><a id="6844" href="Effect.Theory.FirstOrder.html#6844" class="Bound">ε₁</a><a id="6846" class="Symbol">}</a> <a id="6848" class="Symbol">{</a><a id="6849" href="Effect.Theory.FirstOrder.html#6849" class="Bound">ε₂</a><a id="6851" class="Symbol">}</a> <a id="6853" href="Effect.Theory.FirstOrder.html#6853" class="Bound">T₁</a> <a id="6856" href="Effect.Theory.FirstOrder.html#6856" class="Bound">T₂</a> <a id="6859" class="Symbol">=</a> <a id="6861" href="Core.MonotonePredicate.html#1535" class="Field">weaken</a> <a id="6868" class="Symbol">(</a><a id="6869" href="Effect.Inclusion.html#913" class="Function">≲-⊕ᶜ-left</a> <a id="6879" href="Effect.Theory.FirstOrder.html#6849" class="Bound">ε₂</a><a id="6881" class="Symbol">)</a> <a id="6883" href="Effect.Theory.FirstOrder.html#6853" class="Bound">T₁</a> <a id="6886" href="Effect.Theory.FirstOrder.html#6665" class="Function Operator">⟨+⟩</a> <a id="6890" href="Core.MonotonePredicate.html#1535" class="Field">weaken</a> <a id="6897" class="Symbol">(</a><a id="6898" href="Effect.Inclusion.html#981" class="Function">≲-⊕ᶜ-right</a> <a id="6909" href="Effect.Theory.FirstOrder.html#6844" class="Bound">ε₁</a><a id="6911" class="Symbol">)</a> <a id="6913" href="Effect.Theory.FirstOrder.html#6856" class="Bound">T₂</a>

<a id="◃-⟨+⟩-left"></a><a id="6917" href="Effect.Theory.FirstOrder.html#6917" class="Function">◃-⟨+⟩-left</a> <a id="6928" class="Symbol">:</a> <a id="6930" class="Symbol">∀</a> <a id="6932" class="Symbol">{</a><a id="6933" href="Effect.Theory.FirstOrder.html#6933" class="Bound">eq</a> <a id="6936" class="Symbol">:</a> <a id="6938" href="Effect.Logic.html#3294" class="Record">□</a> <a id="6940" href="Effect.Theory.FirstOrder.html#1562" class="Record">Equation</a> <a id="6949" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="6950" class="Symbol">}</a> <a id="6952" class="Symbol">→</a> <a id="6954" class="Symbol">(</a><a id="6955" href="Effect.Theory.FirstOrder.html#6955" class="Bound">T₁</a> <a id="6958" href="Effect.Theory.FirstOrder.html#6958" class="Bound">T₂</a> <a id="6961" class="Symbol">:</a> <a id="6963" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="6970" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="6971" class="Symbol">)</a> <a id="6973" class="Symbol">→</a> <a id="6975" href="Effect.Theory.FirstOrder.html#6933" class="Bound">eq</a> <a id="6978" href="Effect.Theory.FirstOrder.html#2919" class="Function Operator">◃</a> <a id="6980" href="Effect.Theory.FirstOrder.html#6955" class="Bound">T₁</a> <a id="6983" class="Symbol">→</a> <a id="6985" href="Effect.Theory.FirstOrder.html#6933" class="Bound">eq</a> <a id="6988" href="Effect.Theory.FirstOrder.html#2919" class="Function Operator">◃</a> <a id="6990" class="Symbol">(</a><a id="6991" href="Effect.Theory.FirstOrder.html#6955" class="Bound">T₁</a> <a id="6994" href="Effect.Theory.FirstOrder.html#6665" class="Function Operator">⟨+⟩</a> <a id="6998" href="Effect.Theory.FirstOrder.html#6958" class="Bound">T₂</a><a id="7000" class="Symbol">)</a>
<a id="7002" href="Effect.Theory.FirstOrder.html#6917" class="Function">◃-⟨+⟩-left</a> <a id="7013" href="Effect.Theory.FirstOrder.html#7013" class="Bound">T₁</a> <a id="7016" href="Effect.Theory.FirstOrder.html#7016" class="Bound">T₂</a> <a id="7019" href="Effect.Theory.FirstOrder.html#7019" class="Bound">px</a> <a id="7022" class="Symbol">=</a> <a id="7024" href="Data.List.Membership.Propositional.Properties.html#3952" class="Function">∈-++⁺ˡ</a> <a id="7031" href="Effect.Theory.FirstOrder.html#7019" class="Bound">px</a>

<a id="◃-⟨+⟩-right"></a><a id="7035" href="Effect.Theory.FirstOrder.html#7035" class="Function">◃-⟨+⟩-right</a> <a id="7047" class="Symbol">:</a> <a id="7049" class="Symbol">∀</a> <a id="7051" class="Symbol">{</a><a id="7052" href="Effect.Theory.FirstOrder.html#7052" class="Bound">eq</a> <a id="7055" class="Symbol">:</a> <a id="7057" href="Effect.Logic.html#3294" class="Record">□</a> <a id="7059" href="Effect.Theory.FirstOrder.html#1562" class="Record">Equation</a> <a id="7068" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="7069" class="Symbol">}</a> <a id="7071" class="Symbol">→</a> <a id="7073" class="Symbol">(</a><a id="7074" href="Effect.Theory.FirstOrder.html#7074" class="Bound">T₁</a> <a id="7077" href="Effect.Theory.FirstOrder.html#7077" class="Bound">T₂</a> <a id="7080" class="Symbol">:</a> <a id="7082" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="7089" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="7090" class="Symbol">)</a> <a id="7092" class="Symbol">→</a> <a id="7094" href="Effect.Theory.FirstOrder.html#7052" class="Bound">eq</a> <a id="7097" href="Effect.Theory.FirstOrder.html#2919" class="Function Operator">◃</a> <a id="7099" href="Effect.Theory.FirstOrder.html#7077" class="Bound">T₂</a> <a id="7102" class="Symbol">→</a> <a id="7104" href="Effect.Theory.FirstOrder.html#7052" class="Bound">eq</a> <a id="7107" href="Effect.Theory.FirstOrder.html#2919" class="Function Operator">◃</a> <a id="7109" class="Symbol">(</a><a id="7110" href="Effect.Theory.FirstOrder.html#7074" class="Bound">T₁</a> <a id="7113" href="Effect.Theory.FirstOrder.html#6665" class="Function Operator">⟨+⟩</a> <a id="7117" href="Effect.Theory.FirstOrder.html#7077" class="Bound">T₂</a><a id="7119" class="Symbol">)</a>
<a id="7121" href="Effect.Theory.FirstOrder.html#7035" class="Function">◃-⟨+⟩-right</a> <a id="7133" href="Effect.Theory.FirstOrder.html#7133" class="Bound">T₁</a> <a id="7136" href="Effect.Theory.FirstOrder.html#7136" class="Bound">T₂</a> <a id="7139" href="Effect.Theory.FirstOrder.html#7139" class="Bound">px</a> <a id="7142" class="Symbol">=</a> <a id="7144" href="Data.List.Membership.Propositional.Properties.html#4041" class="Function">∈-++⁺ʳ</a> <a id="7151" class="Symbol">(</a><a id="7152" href="Effect.Theory.FirstOrder.html#7133" class="Bound">T₁</a> <a id="7155" class="Symbol">.</a><a id="7156" href="Effect.Theory.FirstOrder.html#2799" class="Field">equations</a><a id="7165" class="Symbol">)</a> <a id="7167" href="Effect.Theory.FirstOrder.html#7139" class="Bound">px</a>

<a id="7171" class="Comment">-- &quot;Heterogeneous&quot; composition of effect theories&quot; </a>
<a id="compose-theory"></a><a id="7223" href="Effect.Theory.FirstOrder.html#7223" class="Function">compose-theory</a> <a id="7238" class="Symbol">:</a> <a id="7240" href="Relation.Unary.html#3498" class="Function">∀[</a> <a id="7243" class="Symbol">(</a><a id="7244" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="7251" href="Effect.Logic.html#715" class="Record Operator">✴</a> <a id="7253" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a><a id="7259" class="Symbol">)</a> <a id="7261" href="Relation.Unary.html#4490" class="Function Operator">⇒</a> <a id="7263" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="7270" href="Relation.Unary.html#3498" class="Function">]</a>
<a id="7272" href="Effect.Theory.FirstOrder.html#7223" class="Function">compose-theory</a> <a id="7287" class="Symbol">(</a><a id="7288" href="Effect.Theory.FirstOrder.html#7288" class="Bound">T₁</a> <a id="7291" href="Effect.Logic.html#800" class="InductiveConstructor Operator">✴⟨</a> <a id="7294" href="Effect.Theory.FirstOrder.html#7294" class="Bound">σ</a> <a id="7296" href="Effect.Logic.html#800" class="InductiveConstructor Operator">⟩</a> <a id="7298" href="Effect.Theory.FirstOrder.html#7298" class="Bound">T₂</a><a id="7300" class="Symbol">)</a> <a id="7302" class="Symbol">=</a> <a id="7304" href="Core.MonotonePredicate.html#1535" class="Field">weaken</a> <a id="7311" class="Symbol">(</a><a id="7312" href="Effect.Inclusion.html#1091" class="Function">≲-∙-left</a> <a id="7321" href="Effect.Theory.FirstOrder.html#7294" class="Bound">σ</a><a id="7322" class="Symbol">)</a> <a id="7324" href="Effect.Theory.FirstOrder.html#7288" class="Bound">T₁</a> <a id="7327" href="Effect.Theory.FirstOrder.html#6665" class="Function Operator">⟨+⟩</a> <a id="7331" href="Core.MonotonePredicate.html#1535" class="Field">weaken</a> <a id="7338" class="Symbol">(</a><a id="7339" href="Effect.Inclusion.html#1146" class="Function">≲-∙-right</a> <a id="7349" href="Effect.Theory.FirstOrder.html#7294" class="Bound">σ</a><a id="7350" class="Symbol">)</a> <a id="7352" href="Effect.Theory.FirstOrder.html#7298" class="Bound">T₂</a>


<a id="7357" class="Comment">-- Heterogeneous theory inclusion respects heterogeneous composition in both positions</a>
<a id="⟨⊆⟩-compose-left"></a><a id="7444" href="Effect.Theory.FirstOrder.html#7444" class="Function">⟨⊆⟩-compose-left</a> <a id="7461" class="Symbol">:</a>
  <a id="7465" class="Symbol">∀</a> <a id="7467" class="Symbol">(</a><a id="7468" href="Effect.Theory.FirstOrder.html#7468" class="Bound">T₁</a> <a id="7471" class="Symbol">:</a> <a id="7473" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="7480" href="Effect.Base.html#901" class="Generalizable">ε₁</a><a id="7482" class="Symbol">)</a> <a id="7484" class="Symbol">(</a><a id="7485" href="Effect.Theory.FirstOrder.html#7485" class="Bound">T₂</a> <a id="7488" class="Symbol">:</a> <a id="7490" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="7497" href="Effect.Base.html#904" class="Generalizable">ε₂</a><a id="7499" class="Symbol">)</a>
  <a id="7503" class="Symbol">→</a> <a id="7505" class="Symbol">(</a><a id="7506" href="Effect.Theory.FirstOrder.html#7506" class="Bound">σ</a> <a id="7508" class="Symbol">:</a> <a id="7510" href="Effect.Base.html#901" class="Generalizable">ε₁</a> <a id="7513" href="Effect.Separation.html#1325" class="Function Operator">∙</a> <a id="7515" href="Effect.Base.html#904" class="Generalizable">ε₂</a> <a id="7518" href="Effect.Separation.html#1325" class="Function Operator">≈</a> <a id="7520" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="7521" class="Symbol">)</a>
     <a id="7528" class="Comment">-----------------------------------------------</a>
  <a id="7578" class="Symbol">→</a> <a id="7580" href="Effect.Theory.FirstOrder.html#7468" class="Bound">T₁</a> <a id="7583" href="Effect.Theory.FirstOrder.html#3690" class="Record Operator">⊆⟨</a> <a id="7586" href="Effect.Inclusion.html#1091" class="Function">≲-∙-left</a> <a id="7595" href="Effect.Theory.FirstOrder.html#7506" class="Bound">σ</a> <a id="7597" href="Effect.Theory.FirstOrder.html#3690" class="Record Operator">⟩</a> <a id="7599" href="Effect.Theory.FirstOrder.html#7223" class="Function">compose-theory</a> <a id="7614" class="Symbol">(</a><a id="7615" href="Effect.Theory.FirstOrder.html#7468" class="Bound">T₁</a> <a id="7618" href="Effect.Logic.html#800" class="InductiveConstructor Operator">✴⟨</a> <a id="7621" href="Effect.Theory.FirstOrder.html#7506" class="Bound">σ</a> <a id="7623" href="Effect.Logic.html#800" class="InductiveConstructor Operator">⟩</a> <a id="7625" href="Effect.Theory.FirstOrder.html#7485" class="Bound">T₂</a><a id="7627" class="Symbol">)</a>
  
<a id="7632" href="Effect.Theory.FirstOrder.html#7444" class="Function">⟨⊆⟩-compose-left</a> <a id="7649" href="Effect.Theory.FirstOrder.html#7649" class="Bound">T₁</a> <a id="7652" href="Effect.Theory.FirstOrder.html#7652" class="Bound">T₂</a> <a id="7655" href="Effect.Theory.FirstOrder.html#7655" class="Bound">σ</a> <a id="7657" class="Symbol">.</a><a id="7658" href="Effect.Theory.FirstOrder.html#3769" class="Field">sub</a> <a id="7662" href="Effect.Theory.FirstOrder.html#7662" class="Bound">px</a> <a id="7665" class="Symbol">=</a>
  <a id="7669" href="Effect.Theory.FirstOrder.html#6917" class="Function">◃-⟨+⟩-left</a>
    <a id="7684" class="Symbol">(</a><a id="7685" href="Core.MonotonePredicate.html#1535" class="Field">weaken</a> <a id="7692" class="Symbol">(</a><a id="7693" href="Effect.Inclusion.html#1091" class="Function">≲-∙-left</a> <a id="7702" href="Effect.Theory.FirstOrder.html#7655" class="Bound">σ</a><a id="7703" class="Symbol">)</a> <a id="7705" href="Effect.Theory.FirstOrder.html#7649" class="Bound">T₁</a><a id="7707" class="Symbol">)</a>
    <a id="7713" class="Symbol">(</a><a id="7714" href="Core.MonotonePredicate.html#1535" class="Field">weaken</a> <a id="7721" class="Symbol">(</a><a id="7722" href="Effect.Inclusion.html#1146" class="Function">≲-∙-right</a> <a id="7732" href="Effect.Theory.FirstOrder.html#7655" class="Bound">σ</a><a id="7733" class="Symbol">)</a> <a id="7735" href="Effect.Theory.FirstOrder.html#7652" class="Bound">T₂</a><a id="7737" class="Symbol">)</a>
    <a id="7743" class="Symbol">(</a><a id="7744" href="Effect.Theory.FirstOrder.html#3354" class="Function">◃-weaken</a> <a id="7753" href="Effect.Theory.FirstOrder.html#7649" class="Bound">T₁</a> <a id="7756" href="Effect.Theory.FirstOrder.html#7662" class="Bound">px</a> <a id="7759" class="Symbol">(</a><a id="7760" href="Effect.Inclusion.html#1091" class="Function">≲-∙-left</a> <a id="7769" href="Effect.Theory.FirstOrder.html#7655" class="Bound">σ</a><a id="7770" class="Symbol">))</a>

<a id="⟨⊆⟩-compose-right"></a><a id="7774" href="Effect.Theory.FirstOrder.html#7774" class="Function">⟨⊆⟩-compose-right</a> <a id="7792" class="Symbol">:</a>
  <a id="7796" class="Symbol">∀</a> <a id="7798" class="Symbol">(</a><a id="7799" href="Effect.Theory.FirstOrder.html#7799" class="Bound">T₁</a> <a id="7802" class="Symbol">:</a> <a id="7804" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="7811" href="Effect.Base.html#901" class="Generalizable">ε₁</a><a id="7813" class="Symbol">)</a> <a id="7815" class="Symbol">(</a><a id="7816" href="Effect.Theory.FirstOrder.html#7816" class="Bound">T₂</a> <a id="7819" class="Symbol">:</a> <a id="7821" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="7828" href="Effect.Base.html#904" class="Generalizable">ε₂</a><a id="7830" class="Symbol">)</a>
  <a id="7834" class="Symbol">→</a> <a id="7836" class="Symbol">(</a><a id="7837" href="Effect.Theory.FirstOrder.html#7837" class="Bound">σ</a> <a id="7839" class="Symbol">:</a> <a id="7841" href="Effect.Base.html#901" class="Generalizable">ε₁</a> <a id="7844" href="Effect.Separation.html#1325" class="Function Operator">∙</a> <a id="7846" href="Effect.Base.html#904" class="Generalizable">ε₂</a> <a id="7849" href="Effect.Separation.html#1325" class="Function Operator">≈</a> <a id="7851" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="7852" class="Symbol">)</a>
    <a id="7858" class="Comment">-------------------------------------------------</a>
  <a id="7910" class="Symbol">→</a> <a id="7912" href="Effect.Theory.FirstOrder.html#7816" class="Bound">T₂</a> <a id="7915" href="Effect.Theory.FirstOrder.html#3690" class="Record Operator">⊆⟨</a> <a id="7918" href="Effect.Inclusion.html#1146" class="Function">≲-∙-right</a> <a id="7928" href="Effect.Theory.FirstOrder.html#7837" class="Bound">σ</a> <a id="7930" href="Effect.Theory.FirstOrder.html#3690" class="Record Operator">⟩</a> <a id="7932" href="Effect.Theory.FirstOrder.html#7223" class="Function">compose-theory</a> <a id="7947" class="Symbol">(</a><a id="7948" href="Effect.Theory.FirstOrder.html#7799" class="Bound">T₁</a> <a id="7951" href="Effect.Logic.html#800" class="InductiveConstructor Operator">✴⟨</a> <a id="7954" href="Effect.Theory.FirstOrder.html#7837" class="Bound">σ</a> <a id="7956" href="Effect.Logic.html#800" class="InductiveConstructor Operator">⟩</a> <a id="7958" href="Effect.Theory.FirstOrder.html#7816" class="Bound">T₂</a><a id="7960" class="Symbol">)</a>

<a id="7963" href="Effect.Theory.FirstOrder.html#7774" class="Function">⟨⊆⟩-compose-right</a> <a id="7981" href="Effect.Theory.FirstOrder.html#7981" class="Bound">T₁</a> <a id="7984" href="Effect.Theory.FirstOrder.html#7984" class="Bound">T₂</a> <a id="7987" href="Effect.Theory.FirstOrder.html#7987" class="Bound">σ</a> <a id="7989" class="Symbol">.</a><a id="7990" href="Effect.Theory.FirstOrder.html#3769" class="Field">sub</a> <a id="7994" href="Effect.Theory.FirstOrder.html#7994" class="Bound">px</a> <a id="7997" class="Symbol">=</a>
  <a id="8001" href="Effect.Theory.FirstOrder.html#7035" class="Function">◃-⟨+⟩-right</a>
    <a id="8017" class="Symbol">(</a><a id="8018" href="Core.MonotonePredicate.html#1535" class="Field">weaken</a> <a id="8025" class="Symbol">(</a><a id="8026" href="Effect.Inclusion.html#1091" class="Function">≲-∙-left</a> <a id="8035" href="Effect.Theory.FirstOrder.html#7987" class="Bound">σ</a><a id="8036" class="Symbol">)</a> <a id="8038" href="Effect.Theory.FirstOrder.html#7981" class="Bound">T₁</a><a id="8040" class="Symbol">)</a>
    <a id="8046" class="Symbol">(</a><a id="8047" href="Core.MonotonePredicate.html#1535" class="Field">weaken</a> <a id="8054" class="Symbol">(</a><a id="8055" href="Effect.Inclusion.html#1146" class="Function">≲-∙-right</a> <a id="8065" href="Effect.Theory.FirstOrder.html#7987" class="Bound">σ</a><a id="8066" class="Symbol">)</a> <a id="8068" href="Effect.Theory.FirstOrder.html#7984" class="Bound">T₂</a><a id="8070" class="Symbol">)</a>
    <a id="8076" class="Symbol">(</a><a id="8077" href="Effect.Theory.FirstOrder.html#3354" class="Function">◃-weaken</a> <a id="8086" href="Effect.Theory.FirstOrder.html#7984" class="Bound">T₂</a> <a id="8089" href="Effect.Theory.FirstOrder.html#7994" class="Bound">px</a> <a id="8092" class="Symbol">(</a><a id="8093" href="Effect.Inclusion.html#1146" class="Function">≲-∙-right</a> <a id="8103" href="Effect.Theory.FirstOrder.html#7987" class="Bound">σ</a><a id="8104" class="Symbol">))</a>


<a id="8109" class="Keyword">variable</a> <a id="8118" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="8120" href="Effect.Theory.FirstOrder.html#8120" class="Generalizable">T₁</a> <a id="8123" href="Effect.Theory.FirstOrder.html#8123" class="Generalizable">T₂</a> <a id="8126" href="Effect.Theory.FirstOrder.html#8126" class="Generalizable">T₃</a> <a id="8129" href="Effect.Theory.FirstOrder.html#8129" class="Generalizable">T′</a> <a id="8132" class="Symbol">:</a> <a id="8134" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="8141" href="Effect.Base.html#899" class="Generalizable">ε</a>

<a id="8144" class="Comment">-- The following data type defines syntactic equality of computations with</a>
<a id="8219" class="Comment">-- effects `ε` with respect to a given effect theory `T` of `ε`.</a>
<a id="8284" class="Keyword">infix</a> <a id="8290" class="Number">2</a> <a id="8292" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">_≈⟨_⟩_</a>
<a id="8299" class="Keyword">data</a> <a id="_≈⟨_⟩_"></a><a id="8304" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">_≈⟨_⟩_</a> <a id="8311" class="Symbol">{</a><a id="8312" href="Effect.Theory.FirstOrder.html#8312" class="Bound">ε</a><a id="8313" class="Symbol">}</a> <a id="8315" class="Symbol">:</a> <a id="8317" class="Symbol">(</a><a id="8318" href="Effect.Theory.FirstOrder.html#8318" class="Bound">c₁</a> <a id="8321" class="Symbol">:</a> <a id="8323" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="8328" href="Effect.Theory.FirstOrder.html#8312" class="Bound">ε</a> <a id="8330" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="8331" class="Symbol">)</a> <a id="8333" class="Symbol">→</a> <a id="8335" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="8342" href="Effect.Theory.FirstOrder.html#8312" class="Bound">ε</a> <a id="8344" class="Symbol">→</a> <a id="8346" class="Symbol">(</a><a id="8347" href="Effect.Theory.FirstOrder.html#8347" class="Bound">c₂</a> <a id="8350" class="Symbol">:</a> <a id="8352" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="8357" href="Effect.Theory.FirstOrder.html#8312" class="Bound">ε</a> <a id="8359" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="8360" class="Symbol">)</a> <a id="8362" class="Symbol">→</a> <a id="8364" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> <a id="8369" class="Keyword">where</a>

  <a id="_≈⟨_⟩_.≈-refl"></a><a id="8378" href="Effect.Theory.FirstOrder.html#8378" class="InductiveConstructor">≈-refl</a>  <a id="8386" class="Symbol">:</a> <a id="8388" class="Comment">----------</a>
            <a id="8411" href="Effect.Theory.FirstOrder.html#1193" class="Generalizable">c</a> <a id="8413" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="8416" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="8418" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="8420" href="Effect.Theory.FirstOrder.html#1193" class="Generalizable">c</a>

  <a id="_≈⟨_⟩_.≈-sym"></a><a id="8425" href="Effect.Theory.FirstOrder.html#8425" class="InductiveConstructor">≈-sym</a>   <a id="8433" class="Symbol">:</a> <a id="8435" href="Effect.Theory.FirstOrder.html#1195" class="Generalizable">c₁</a> <a id="8438" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="8441" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="8443" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="8445" href="Effect.Theory.FirstOrder.html#1198" class="Generalizable">c₂</a>
            <a id="8460" class="Comment">-------</a>
          <a id="8478" class="Symbol">→</a> <a id="8480" href="Effect.Theory.FirstOrder.html#1198" class="Generalizable">c₂</a> <a id="8483" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="8486" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="8488" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="8490" href="Effect.Theory.FirstOrder.html#1195" class="Generalizable">c₁</a>

  <a id="_≈⟨_⟩_.≈-trans"></a><a id="8496" href="Effect.Theory.FirstOrder.html#8496" class="InductiveConstructor">≈-trans</a> <a id="8504" class="Symbol">:</a> <a id="8506" href="Effect.Theory.FirstOrder.html#1195" class="Generalizable">c₁</a> <a id="8509" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="8512" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="8514" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="8516" href="Effect.Theory.FirstOrder.html#1198" class="Generalizable">c₂</a>
          <a id="8529" class="Symbol">→</a> <a id="8531" href="Effect.Theory.FirstOrder.html#1198" class="Generalizable">c₂</a> <a id="8534" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="8537" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="8539" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="8541" href="Effect.Theory.FirstOrder.html#1201" class="Generalizable">c₃</a>
            <a id="8556" class="Comment">-----------------</a>
          <a id="8584" class="Symbol">→</a> <a id="8586" href="Effect.Theory.FirstOrder.html#1195" class="Generalizable">c₁</a> <a id="8589" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="8592" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="8594" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="8596" href="Effect.Theory.FirstOrder.html#1201" class="Generalizable">c₃</a>

  <a id="_≈⟨_⟩_.≈-cong"></a><a id="8602" href="Effect.Theory.FirstOrder.html#8602" class="InductiveConstructor">≈-cong</a>  <a id="8610" class="Symbol">:</a> <a id="8612" class="Symbol">(</a><a id="8613" href="Effect.Theory.FirstOrder.html#8613" class="Bound">s</a> <a id="8615" class="Symbol">:</a> <a id="8617" href="Effect.Theory.FirstOrder.html#8312" class="Bound">ε</a> <a id="8619" class="Symbol">.</a><a id="8620" href="Core.Container.html#605" class="Field">shape</a><a id="8625" class="Symbol">)</a>
          <a id="8637" class="Symbol">→</a> <a id="8639" class="Symbol">(</a><a id="8640" href="Effect.Theory.FirstOrder.html#8640" class="Bound">p₁</a> <a id="8643" href="Effect.Theory.FirstOrder.html#8643" class="Bound">p₂</a> <a id="8646" class="Symbol">:</a> <a id="8648" href="Effect.Theory.FirstOrder.html#8312" class="Bound">ε</a> <a id="8650" class="Symbol">.</a><a id="8651" href="Core.Container.html#628" class="Field">position</a> <a id="8660" href="Effect.Theory.FirstOrder.html#8613" class="Bound">s</a> <a id="8662" class="Symbol">→</a> <a id="8664" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="8669" href="Effect.Theory.FirstOrder.html#8312" class="Bound">ε</a> <a id="8671" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="8672" class="Symbol">)</a>
          <a id="8684" class="Symbol">→</a> <a id="8686" class="Symbol">(∀</a> <a id="8689" class="Symbol">{</a><a id="8690" href="Effect.Theory.FirstOrder.html#8690" class="Bound">x</a><a id="8691" class="Symbol">}</a> <a id="8693" class="Symbol">→</a> <a id="8695" href="Effect.Theory.FirstOrder.html#8640" class="Bound">p₁</a> <a id="8698" href="Effect.Theory.FirstOrder.html#8690" class="Bound">x</a> <a id="8700" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="8703" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="8705" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="8707" href="Effect.Theory.FirstOrder.html#8643" class="Bound">p₂</a> <a id="8710" href="Effect.Theory.FirstOrder.html#8690" class="Bound">x</a><a id="8711" class="Symbol">)</a>
            <a id="8725" class="Comment">------------------------------------------</a>
          <a id="8778" class="Symbol">→</a> <a id="8780" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="8787" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="8789" href="Effect.Theory.FirstOrder.html#8613" class="Bound">s</a> <a id="8791" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8793" href="Effect.Theory.FirstOrder.html#8640" class="Bound">p₁</a> <a id="8796" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a> <a id="8798" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="8801" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="8803" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="8805" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="8812" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="8814" href="Effect.Theory.FirstOrder.html#8613" class="Bound">s</a> <a id="8816" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8818" href="Effect.Theory.FirstOrder.html#8643" class="Bound">p₂</a> <a id="8821" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a>   

  <a id="_≈⟨_⟩_.≈-eq"></a><a id="8829" href="Effect.Theory.FirstOrder.html#8829" class="InductiveConstructor">≈-eq</a>    <a id="8837" class="Symbol">:</a> <a id="8839" class="Symbol">(</a><a id="8840" href="Effect.Theory.FirstOrder.html#8840" class="Bound">eq</a> <a id="8843" class="Symbol">:</a> <a id="8845" href="Effect.Logic.html#3294" class="Record">□</a> <a id="8847" href="Effect.Theory.FirstOrder.html#1562" class="Record">Equation</a> <a id="8856" href="Effect.Theory.FirstOrder.html#8312" class="Bound">ε</a><a id="8857" class="Symbol">)</a>
          <a id="8869" class="Symbol">→</a> <a id="8871" class="Symbol">(</a><a id="8872" href="Effect.Theory.FirstOrder.html#8872" class="Bound">px</a> <a id="8875" class="Symbol">:</a> <a id="8877" href="Effect.Theory.FirstOrder.html#8840" class="Bound">eq</a> <a id="8880" href="Effect.Theory.FirstOrder.html#2919" class="Function Operator">◃</a> <a id="8882" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a><a id="8883" class="Symbol">)</a>  
          <a id="8897" class="Symbol">→</a> <a id="8899" class="Symbol">(</a><a id="8900" href="Effect.Theory.FirstOrder.html#8900" class="Bound">δ</a>  <a id="8903" class="Symbol">:</a> <a id="8905" href="Effect.Theory.FirstOrder.html#1406" class="Function">TypeContext</a> <a id="8917" class="Symbol">(</a><a id="8918" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="8928" href="Effect.Theory.FirstOrder.html#8840" class="Bound">eq</a> <a id="8931" class="Symbol">.</a><a id="8932" href="Effect.Theory.FirstOrder.html#1630" class="Field">Δ′</a><a id="8934" class="Symbol">))</a>
          <a id="8947" class="Symbol">→</a> <a id="8949" class="Symbol">(</a><a id="8950" href="Effect.Theory.FirstOrder.html#8950" class="Bound">γ</a>  <a id="8953" class="Symbol">:</a> <a id="8955" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="8965" href="Effect.Theory.FirstOrder.html#8840" class="Bound">eq</a> <a id="8968" class="Symbol">.</a><a id="8969" href="Effect.Theory.FirstOrder.html#1646" class="Field">Γ′</a> <a id="8972" href="Effect.Theory.FirstOrder.html#8900" class="Bound">δ</a><a id="8973" class="Symbol">)</a>
          <a id="8985" class="Symbol">→</a> <a id="8987" class="Symbol">(</a><a id="8988" href="Effect.Theory.FirstOrder.html#8988" class="Bound">k</a>  <a id="8991" class="Symbol">:</a> <a id="8993" href="Effect.Theory.FirstOrder.html#1649" class="Field">R′</a> <a id="8996" class="Symbol">(</a><a id="8997" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="9007" href="Effect.Theory.FirstOrder.html#8840" class="Bound">eq</a><a id="9009" class="Symbol">)</a> <a id="9011" href="Effect.Theory.FirstOrder.html#8900" class="Bound">δ</a> <a id="9013" class="Symbol">→</a> <a id="9015" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="9020" href="Effect.Theory.FirstOrder.html#8312" class="Bound">ε</a> <a id="9022" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="9023" class="Symbol">)</a> 
            <a id="9038" class="Comment">--------------------------------------------------------------</a>
          <a id="9111" class="Symbol">→</a> <a id="9113" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="9123" href="Effect.Theory.FirstOrder.html#8840" class="Bound">eq</a> <a id="9126" class="Symbol">.</a><a id="9127" href="Effect.Theory.FirstOrder.html#1685" class="Field">lhs</a> <a id="9131" href="Effect.Theory.FirstOrder.html#8900" class="Bound">δ</a> <a id="9133" href="Effect.Theory.FirstOrder.html#8950" class="Bound">γ</a> <a id="9135" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="9139" href="Effect.Theory.FirstOrder.html#8988" class="Bound">k</a> <a id="9141" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="9144" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="9146" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="9148" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="9158" href="Effect.Theory.FirstOrder.html#8840" class="Bound">eq</a> <a id="9161" class="Symbol">.</a><a id="9162" href="Effect.Theory.FirstOrder.html#1689" class="Field">rhs</a> <a id="9166" href="Effect.Theory.FirstOrder.html#8900" class="Bound">δ</a> <a id="9168" href="Effect.Theory.FirstOrder.html#8950" class="Bound">γ</a> <a id="9170" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="9174" href="Effect.Theory.FirstOrder.html#8988" class="Bound">k</a>
          

<a id="9188" class="Comment">-- Propositional equality of effect trees can (clearly) be reflected as a</a>
<a id="9262" class="Comment">-- syntactic equivalence</a>
<a id="≡-to-≈"></a><a id="9287" href="Effect.Theory.FirstOrder.html#9287" class="Function">≡-to-≈</a> <a id="9294" class="Symbol">:</a> <a id="9296" class="Symbol">{</a><a id="9297" href="Effect.Theory.FirstOrder.html#9297" class="Bound">c₁</a> <a id="9300" href="Effect.Theory.FirstOrder.html#9300" class="Bound">c₂</a> <a id="9303" class="Symbol">:</a> <a id="9305" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="9310" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="9312" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="9313" class="Symbol">}</a> <a id="9315" class="Symbol">→</a> <a id="9317" href="Effect.Theory.FirstOrder.html#9297" class="Bound">c₁</a> <a id="9320" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9322" href="Effect.Theory.FirstOrder.html#9300" class="Bound">c₂</a> <a id="9325" class="Symbol">→</a> <a id="9327" href="Effect.Theory.FirstOrder.html#9297" class="Bound">c₁</a> <a id="9330" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="9333" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="9335" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="9337" href="Effect.Theory.FirstOrder.html#9300" class="Bound">c₂</a>
<a id="9340" href="Effect.Theory.FirstOrder.html#9287" class="Function">≡-to-≈</a> <a id="9347" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9352" class="Symbol">=</a> <a id="9354" href="Effect.Theory.FirstOrder.html#8378" class="InductiveConstructor">≈-refl</a>

<a id="9362" class="Comment">{- Reflect the monad laws for Free as syntactic equivalences -}</a>

<a id="&gt;&gt;=-idˡ-≈"></a><a id="9427" href="Effect.Theory.FirstOrder.html#9427" class="Function">&gt;&gt;=-idˡ-≈</a> <a id="9437" class="Symbol">:</a> <a id="9439" class="Symbol">∀</a> <a id="9441" class="Symbol">(</a><a id="9442" href="Effect.Theory.FirstOrder.html#9442" class="Bound">k</a> <a id="9444" class="Symbol">:</a> <a id="9446" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="9448" class="Symbol">→</a> <a id="9450" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="9455" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="9457" href="Core.Functor.html#1533" class="Generalizable">B</a><a id="9458" class="Symbol">)</a> <a id="9460" href="Effect.Theory.FirstOrder.html#9460" class="Bound">x</a> <a id="9462" class="Symbol">→</a> <a id="9464" href="Core.Functor.Monad.html#348" class="Field">return</a> <a id="9471" href="Effect.Theory.FirstOrder.html#9460" class="Bound">x</a> <a id="9473" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="9477" href="Effect.Theory.FirstOrder.html#9442" class="Bound">k</a> <a id="9479" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="9482" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="9484" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="9486" href="Effect.Theory.FirstOrder.html#9442" class="Bound">k</a> <a id="9488" href="Effect.Theory.FirstOrder.html#9460" class="Bound">x</a>
<a id="9490" href="Effect.Theory.FirstOrder.html#9427" class="Function">&gt;&gt;=-idˡ-≈</a> <a id="9500" href="Effect.Theory.FirstOrder.html#9500" class="Bound">k</a> <a id="9502" href="Effect.Theory.FirstOrder.html#9502" class="Bound">x</a> <a id="9504" class="Symbol">=</a> <a id="9506" href="Effect.Theory.FirstOrder.html#9287" class="Function">≡-to-≈</a> <a id="9513" class="Symbol">(</a><a id="9514" href="Core.Functor.Monad.html#669" class="Field">&gt;&gt;=-idˡ</a> <a id="9522" href="Effect.Theory.FirstOrder.html#9502" class="Bound">x</a> <a id="9524" href="Effect.Theory.FirstOrder.html#9500" class="Bound">k</a><a id="9525" class="Symbol">)</a> 

<a id="&gt;&gt;=-idʳ-≈"></a><a id="9529" href="Effect.Theory.FirstOrder.html#9529" class="Function">&gt;&gt;=-idʳ-≈</a> <a id="9539" class="Symbol">:</a> <a id="9541" class="Symbol">(</a><a id="9542" href="Effect.Theory.FirstOrder.html#9542" class="Bound">m</a> <a id="9544" class="Symbol">:</a> <a id="9546" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="9551" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="9553" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="9554" class="Symbol">)</a> <a id="9556" class="Symbol">→</a> <a id="9558" href="Effect.Theory.FirstOrder.html#9542" class="Bound">m</a> <a id="9560" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="9564" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="9569" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="9572" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="9574" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="9576" href="Effect.Theory.FirstOrder.html#9542" class="Bound">m</a>
<a id="9578" href="Effect.Theory.FirstOrder.html#9529" class="Function">&gt;&gt;=-idʳ-≈</a> <a id="9588" href="Effect.Theory.FirstOrder.html#9588" class="Bound">m</a> <a id="9590" class="Symbol">=</a> <a id="9592" href="Effect.Theory.FirstOrder.html#9287" class="Function">≡-to-≈</a> <a id="9599" class="Symbol">(</a><a id="9600" href="Core.Functor.Monad.html#797" class="Field">&gt;&gt;=-idʳ</a> <a id="9608" href="Effect.Theory.FirstOrder.html#9588" class="Bound">m</a><a id="9609" class="Symbol">)</a> 

<a id="&gt;&gt;=-assoc-≈"></a><a id="9613" href="Effect.Theory.FirstOrder.html#9613" class="Function">&gt;&gt;=-assoc-≈</a> <a id="9625" class="Symbol">:</a> <a id="9627" class="Symbol">∀</a> <a id="9629" class="Symbol">{</a><a id="9630" href="Effect.Theory.FirstOrder.html#9630" class="Bound">D</a> <a id="9632" class="Symbol">:</a> <a id="9634" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="9637" class="Symbol">}</a> <a id="9639" class="Symbol">(</a><a id="9640" href="Effect.Theory.FirstOrder.html#9640" class="Bound">k₁</a> <a id="9643" class="Symbol">:</a> <a id="9645" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="9647" class="Symbol">→</a> <a id="9649" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="9654" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="9656" href="Core.Functor.html#1533" class="Generalizable">B</a><a id="9657" class="Symbol">)</a> <a id="9659" class="Symbol">(</a><a id="9660" href="Effect.Theory.FirstOrder.html#9660" class="Bound">k₂</a> <a id="9663" class="Symbol">:</a> <a id="9665" href="Core.Functor.html#1533" class="Generalizable">B</a> <a id="9667" class="Symbol">→</a> <a id="9669" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="9674" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="9676" href="Effect.Theory.FirstOrder.html#9630" class="Bound">D</a><a id="9677" class="Symbol">)</a> <a id="9679" class="Symbol">(</a><a id="9680" href="Effect.Theory.FirstOrder.html#9680" class="Bound">m</a> <a id="9682" class="Symbol">:</a> <a id="9684" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="9689" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="9691" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="9692" class="Symbol">)</a>
             <a id="9707" class="Symbol">→</a> <a id="9709" href="Function.Base.html#1629" class="Function">flip</a> <a id="9714" class="Symbol">(</a><a id="9715" href="Effect.Syntax.Free.html#2030" class="Function">free-monad</a> <a id="9726" href="Core.Functor.Monad.html#369" class="Field Operator">Monad.∗</a><a id="9733" class="Symbol">)</a> <a id="9735" class="Symbol">(</a><a id="9736" href="Function.Base.html#1629" class="Function">flip</a> <a id="9741" class="Symbol">(</a><a id="9742" href="Effect.Syntax.Free.html#2030" class="Function">free-monad</a> <a id="9753" href="Core.Functor.Monad.html#369" class="Field Operator">Monad.∗</a><a id="9760" class="Symbol">)</a> <a id="9762" href="Effect.Theory.FirstOrder.html#9680" class="Bound">m</a> <a id="9764" href="Effect.Theory.FirstOrder.html#9640" class="Bound">k₁</a><a id="9766" class="Symbol">)</a> <a id="9768" href="Effect.Theory.FirstOrder.html#9660" class="Bound">k₂</a> <a id="9771" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="9774" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="9776" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="9778" href="Effect.Theory.FirstOrder.html#9680" class="Bound">m</a> <a id="9780" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="9784" class="Symbol">(</a><a id="9785" href="Effect.Theory.FirstOrder.html#9640" class="Bound">k₁</a> <a id="9788" href="Core.Functor.Monad.html#475" class="Function Operator">&gt;=&gt;</a> <a id="9792" href="Effect.Theory.FirstOrder.html#9660" class="Bound">k₂</a><a id="9794" class="Symbol">)</a>
<a id="9796" href="Effect.Theory.FirstOrder.html#9613" class="Function">&gt;&gt;=-assoc-≈</a> <a id="9808" href="Effect.Theory.FirstOrder.html#9808" class="Bound">k₁</a> <a id="9811" href="Effect.Theory.FirstOrder.html#9811" class="Bound">k₂</a> <a id="9814" href="Effect.Theory.FirstOrder.html#9814" class="Bound">m</a> <a id="9816" class="Symbol">=</a> <a id="9818" href="Effect.Theory.FirstOrder.html#9287" class="Function">≡-to-≈</a> <a id="9825" class="Symbol">(</a><a id="9826" href="Core.Functor.Monad.html#904" class="Field">&gt;&gt;=-assoc</a> <a id="9836" href="Effect.Theory.FirstOrder.html#9808" class="Bound">k₁</a> <a id="9839" href="Effect.Theory.FirstOrder.html#9811" class="Bound">k₂</a> <a id="9842" href="Effect.Theory.FirstOrder.html#9814" class="Bound">m</a><a id="9843" class="Symbol">)</a>


<a id="9847" class="Keyword">open</a> <a id="9852" href="Effect.Handle.html#4054" class="Module">Handler</a>

<a id="9861" class="Comment">-- Below we define the key correctness property of handlers </a>
<a id="9922" class="Comment">-- </a>
<a id="9926" class="Comment">-- In the IFCP paper they sketch a proof that Correctness of a handler `h`</a>
<a id="10001" class="Comment">-- implies correctness of the transformation `handle h`. But this relies on</a>
<a id="10077" class="Comment">-- parametricty, so I&#39;m sceptical we can recreate the same proof here.</a>

<a id="10149" class="Comment">-- Correctness of handlers: we say that a handler is correct with respect to a</a>
<a id="10228" class="Comment">-- given theory `T` of the effect it handlers iff it&#39;s algebra respects all</a>
<a id="10304" class="Comment">-- equations of `T`.</a>
<a id="Correct"></a><a id="10325" href="Effect.Theory.FirstOrder.html#10325" class="Function">Correct</a> <a id="10333" class="Symbol">:</a> <a id="10335" class="Symbol">{</a><a id="10336" href="Effect.Theory.FirstOrder.html#10336" class="Bound">P</a> <a id="10338" class="Symbol">:</a> <a id="10340" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="10343" class="Symbol">}</a> <a id="10345" class="Symbol">→</a> <a id="10347" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="10354" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="10356" class="Symbol">→</a> <a id="10358" href="Effect.Handle.html#4054" class="Record">Handler</a> <a id="10366" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="10368" href="Effect.Theory.FirstOrder.html#10336" class="Bound">P</a> <a id="10370" href="Core.Functor.html#1552" class="Generalizable">F</a> <a id="10372" class="Symbol">→</a> <a id="10374" href="Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="10379" href="Effect.Theory.FirstOrder.html#10325" class="Function">Correct</a> <a id="10387" href="Effect.Theory.FirstOrder.html#10387" class="Bound">T</a> <a id="10389" href="Effect.Theory.FirstOrder.html#10389" class="Bound">h</a> <a id="10391" class="Symbol">=</a>
  <a id="10395" class="Symbol">∀</a> <a id="10397" class="Symbol">{</a><a id="10398" href="Effect.Theory.FirstOrder.html#10398" class="Bound">A</a> <a id="10400" href="Effect.Theory.FirstOrder.html#10400" class="Bound">ε′</a><a id="10402" class="Symbol">}</a>
  <a id="10406" class="Symbol">→</a> <a id="10408" class="Symbol">{</a><a id="10409" href="Effect.Theory.FirstOrder.html#10409" class="Bound">eq</a> <a id="10412" class="Symbol">:</a> <a id="10414" href="Effect.Logic.html#3294" class="Record">□</a> <a id="10416" href="Effect.Theory.FirstOrder.html#1562" class="Record">Equation</a> <a id="10425" class="Symbol">_}</a>
  <a id="10430" class="Symbol">→</a> <a id="10432" href="Effect.Theory.FirstOrder.html#10409" class="Bound">eq</a> <a id="10435" href="Effect.Theory.FirstOrder.html#2919" class="Function Operator">◃</a> <a id="10437" href="Effect.Theory.FirstOrder.html#10387" class="Bound">T</a>
    <a id="10443" class="Comment">--------------------------------------</a>
  <a id="10484" class="Symbol">→</a> <a id="10486" href="Effect.Theory.FirstOrder.html#2482" class="Function">Respects</a> <a id="10495" class="Symbol">(</a><a id="10496" href="Effect.Theory.FirstOrder.html#10389" class="Bound">h</a> <a id="10498" class="Symbol">.</a><a id="10499" href="Effect.Handle.html#4253" class="Field">hdl</a> <a id="10503" class="Symbol">{</a><a id="10504" class="Argument">A</a> <a id="10506" class="Symbol">=</a> <a id="10508" href="Effect.Theory.FirstOrder.html#10398" class="Bound">A</a><a id="10509" class="Symbol">}</a> <a id="10511" class="Symbol">{</a><a id="10512" class="Argument">ε′</a> <a id="10515" class="Symbol">=</a> <a id="10517" href="Effect.Theory.FirstOrder.html#10400" class="Bound">ε′</a><a id="10519" class="Symbol">})</a> <a id="10522" href="Effect.Theory.FirstOrder.html#10409" class="Bound">eq</a> 

<a id="10527" class="Keyword">module</a> <a id="≈-Reasoning"></a><a id="10534" href="Effect.Theory.FirstOrder.html#10534" class="Module">≈-Reasoning</a> <a id="10546" class="Symbol">(</a><a id="10547" href="Effect.Theory.FirstOrder.html#10547" class="Bound">T</a> <a id="10549" class="Symbol">:</a> <a id="10551" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="10558" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="10559" class="Symbol">)</a> <a id="10561" class="Keyword">where</a>

  <a id="10570" class="Keyword">infix</a> <a id="10576" class="Number">3</a> <a id="10578" href="Effect.Theory.FirstOrder.html#10584" class="Function Operator">_≈_</a>
  <a id="≈-Reasoning._≈_"></a><a id="10584" href="Effect.Theory.FirstOrder.html#10584" class="Function Operator">_≈_</a> <a id="10588" class="Symbol">:</a> <a id="10590" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="10595" href="Effect.Theory.FirstOrder.html#10558" class="Bound">ε</a> <a id="10597" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="10599" class="Symbol">→</a> <a id="10601" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="10606" href="Effect.Theory.FirstOrder.html#10558" class="Bound">ε</a> <a id="10608" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="10610" class="Symbol">→</a> <a id="10612" href="Agda.Primitive.html#388" class="Primitive">Set₁</a>
  <a id="10619" href="Effect.Theory.FirstOrder.html#10619" class="Bound">c₁</a> <a id="10622" href="Effect.Theory.FirstOrder.html#10584" class="Function Operator">≈</a> <a id="10624" href="Effect.Theory.FirstOrder.html#10624" class="Bound">c₂</a> <a id="10627" class="Symbol">=</a> <a id="10629" href="Effect.Theory.FirstOrder.html#10619" class="Bound">c₁</a> <a id="10632" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="10635" href="Effect.Theory.FirstOrder.html#10547" class="Bound">T</a> <a id="10637" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="10639" href="Effect.Theory.FirstOrder.html#10624" class="Bound">c₂</a>

  <a id="≈-Reasoning.begin_"></a><a id="10645" href="Effect.Theory.FirstOrder.html#10645" class="Function Operator">begin_</a> <a id="10652" class="Symbol">:</a> <a id="10654" class="Symbol">{</a><a id="10655" href="Effect.Theory.FirstOrder.html#10655" class="Bound">c₁</a> <a id="10658" href="Effect.Theory.FirstOrder.html#10658" class="Bound">c₂</a> <a id="10661" class="Symbol">:</a> <a id="10663" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="10668" href="Effect.Theory.FirstOrder.html#10558" class="Bound">ε</a> <a id="10670" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="10671" class="Symbol">}</a> <a id="10673" class="Symbol">→</a> <a id="10675" href="Effect.Theory.FirstOrder.html#10655" class="Bound">c₁</a> <a id="10678" href="Effect.Theory.FirstOrder.html#10584" class="Function Operator">≈</a> <a id="10680" href="Effect.Theory.FirstOrder.html#10658" class="Bound">c₂</a> <a id="10683" class="Symbol">→</a> <a id="10685" href="Effect.Theory.FirstOrder.html#10655" class="Bound">c₁</a> <a id="10688" href="Effect.Theory.FirstOrder.html#10584" class="Function Operator">≈</a> <a id="10690" href="Effect.Theory.FirstOrder.html#10658" class="Bound">c₂</a> 
  <a id="10696" href="Effect.Theory.FirstOrder.html#10645" class="Function Operator">begin</a> <a id="10702" href="Effect.Theory.FirstOrder.html#10702" class="Bound">eq</a> <a id="10705" class="Symbol">=</a> <a id="10707" href="Effect.Theory.FirstOrder.html#10702" class="Bound">eq</a> 

  <a id="≈-Reasoning._∎"></a><a id="10714" href="Effect.Theory.FirstOrder.html#10714" class="Function Operator">_∎</a> <a id="10717" class="Symbol">:</a> <a id="10719" class="Symbol">(</a><a id="10720" href="Effect.Theory.FirstOrder.html#10720" class="Bound">c</a> <a id="10722" class="Symbol">:</a> <a id="10724" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="10729" href="Effect.Theory.FirstOrder.html#10558" class="Bound">ε</a> <a id="10731" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="10732" class="Symbol">)</a> <a id="10734" class="Symbol">→</a> <a id="10736" href="Effect.Theory.FirstOrder.html#10720" class="Bound">c</a> <a id="10738" href="Effect.Theory.FirstOrder.html#10584" class="Function Operator">≈</a> <a id="10740" href="Effect.Theory.FirstOrder.html#10720" class="Bound">c</a>
  <a id="10744" href="Effect.Theory.FirstOrder.html#10744" class="Bound">c</a> <a id="10746" href="Effect.Theory.FirstOrder.html#10714" class="Function Operator">∎</a> <a id="10748" class="Symbol">=</a> <a id="10750" href="Effect.Theory.FirstOrder.html#8378" class="InductiveConstructor">≈-refl</a>

  <a id="≈-Reasoning._≈⟪⟫_"></a><a id="10760" href="Effect.Theory.FirstOrder.html#10760" class="Function Operator">_≈⟪⟫_</a> <a id="10766" class="Symbol">:</a> <a id="10768" class="Symbol">(</a><a id="10769" href="Effect.Theory.FirstOrder.html#10769" class="Bound">c₁</a> <a id="10772" class="Symbol">:</a> <a id="10774" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="10779" href="Effect.Theory.FirstOrder.html#10558" class="Bound">ε</a> <a id="10781" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="10782" class="Symbol">)</a> <a id="10784" class="Symbol">{</a><a id="10785" href="Effect.Theory.FirstOrder.html#10785" class="Bound">c₂</a> <a id="10788" class="Symbol">:</a> <a id="10790" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="10795" href="Effect.Theory.FirstOrder.html#10558" class="Bound">ε</a> <a id="10797" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="10798" class="Symbol">}</a> <a id="10800" class="Symbol">→</a> <a id="10802" href="Effect.Theory.FirstOrder.html#10769" class="Bound">c₁</a> <a id="10805" href="Effect.Theory.FirstOrder.html#10584" class="Function Operator">≈</a> <a id="10807" href="Effect.Theory.FirstOrder.html#10785" class="Bound">c₂</a> <a id="10810" class="Symbol">→</a> <a id="10812" href="Effect.Theory.FirstOrder.html#10769" class="Bound">c₁</a> <a id="10815" href="Effect.Theory.FirstOrder.html#10584" class="Function Operator">≈</a> <a id="10817" href="Effect.Theory.FirstOrder.html#10785" class="Bound">c₂</a>  
  <a id="10824" href="Effect.Theory.FirstOrder.html#10824" class="Bound">c₁</a> <a id="10827" href="Effect.Theory.FirstOrder.html#10760" class="Function Operator">≈⟪⟫</a> <a id="10831" href="Effect.Theory.FirstOrder.html#10831" class="Bound">eq</a> <a id="10834" class="Symbol">=</a> <a id="10836" href="Effect.Theory.FirstOrder.html#10831" class="Bound">eq</a>

  <a id="≈-Reasoning._≈⟪_⟫_"></a><a id="10842" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">_≈⟪_⟫_</a>  <a id="10850" class="Symbol">:</a> <a id="10852" class="Symbol">(</a><a id="10853" href="Effect.Theory.FirstOrder.html#10853" class="Bound">c₁</a> <a id="10856" class="Symbol">{</a><a id="10857" href="Effect.Theory.FirstOrder.html#10857" class="Bound">c₂</a> <a id="10860" href="Effect.Theory.FirstOrder.html#10860" class="Bound">c₃</a><a id="10862" class="Symbol">}</a> <a id="10864" class="Symbol">:</a> <a id="10866" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="10871" href="Effect.Theory.FirstOrder.html#10558" class="Bound">ε</a> <a id="10873" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="10874" class="Symbol">)</a> <a id="10876" class="Symbol">→</a> <a id="10878" href="Effect.Theory.FirstOrder.html#10853" class="Bound">c₁</a> <a id="10881" href="Effect.Theory.FirstOrder.html#10584" class="Function Operator">≈</a> <a id="10883" href="Effect.Theory.FirstOrder.html#10857" class="Bound">c₂</a> <a id="10886" class="Symbol">→</a> <a id="10888" href="Effect.Theory.FirstOrder.html#10857" class="Bound">c₂</a> <a id="10891" href="Effect.Theory.FirstOrder.html#10584" class="Function Operator">≈</a> <a id="10893" href="Effect.Theory.FirstOrder.html#10860" class="Bound">c₃</a> <a id="10896" class="Symbol">→</a> <a id="10898" href="Effect.Theory.FirstOrder.html#10853" class="Bound">c₁</a> <a id="10901" href="Effect.Theory.FirstOrder.html#10584" class="Function Operator">≈</a> <a id="10903" href="Effect.Theory.FirstOrder.html#10860" class="Bound">c₃</a>
  <a id="10908" href="Effect.Theory.FirstOrder.html#10908" class="Bound">c₁</a> <a id="10911" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">≈⟪</a> <a id="10914" href="Effect.Theory.FirstOrder.html#10914" class="Bound">eq₁</a> <a id="10918" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">⟫</a> <a id="10920" href="Effect.Theory.FirstOrder.html#10920" class="Bound">eq₂</a> <a id="10924" class="Symbol">=</a> <a id="10926" href="Effect.Theory.FirstOrder.html#8496" class="InductiveConstructor">≈-trans</a> <a id="10934" href="Effect.Theory.FirstOrder.html#10914" class="Bound">eq₁</a> <a id="10938" href="Effect.Theory.FirstOrder.html#10920" class="Bound">eq₂</a>

  <a id="10945" class="Keyword">infix</a> <a id="10951" class="Number">1</a> <a id="10953" href="Effect.Theory.FirstOrder.html#10645" class="Function Operator">begin_</a>
  <a id="10962" class="Keyword">infixr</a> <a id="10969" class="Number">2</a> <a id="10971" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">_≈⟪_⟫_</a> <a id="10978" href="Effect.Theory.FirstOrder.html#10760" class="Function Operator">_≈⟪⟫_</a>
  <a id="10986" class="Keyword">infix</a> <a id="10992" class="Number">3</a> <a id="10994" href="Effect.Theory.FirstOrder.html#10714" class="Function Operator">_∎</a>

<a id="10998" class="Comment">-- Equivalence following from equations of the theory, specialized to empty continuations</a>
<a id="≈-eq′"></a><a id="11088" href="Effect.Theory.FirstOrder.html#11088" class="Function">≈-eq′</a> <a id="11094" class="Symbol">:</a> <a id="11096" class="Symbol">(</a><a id="11097" href="Effect.Theory.FirstOrder.html#11097" class="Bound">eq</a> <a id="11100" class="Symbol">:</a> <a id="11102" href="Effect.Logic.html#3294" class="Record">□</a> <a id="11104" href="Effect.Theory.FirstOrder.html#1562" class="Record">Equation</a> <a id="11113" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="11114" class="Symbol">)</a>
      <a id="11122" class="Symbol">→</a> <a id="11124" href="Effect.Theory.FirstOrder.html#11097" class="Bound">eq</a> <a id="11127" href="Effect.Theory.FirstOrder.html#2919" class="Function Operator">◃</a> <a id="11129" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="11131" class="Symbol">→</a> <a id="11133" class="Symbol">{</a><a id="11134" href="Effect.Theory.FirstOrder.html#11134" class="Bound">δ</a> <a id="11136" class="Symbol">:</a> <a id="11138" href="Effect.Theory.FirstOrder.html#1406" class="Function">TypeContext</a> <a id="11150" class="Symbol">(</a><a id="11151" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="11161" href="Effect.Theory.FirstOrder.html#11097" class="Bound">eq</a> <a id="11164" class="Symbol">.</a><a id="11165" href="Effect.Theory.FirstOrder.html#1630" class="Field">Δ′</a><a id="11167" class="Symbol">)}</a>
      <a id="11176" class="Symbol">→</a> <a id="11178" class="Symbol">{</a><a id="11179" href="Effect.Theory.FirstOrder.html#11179" class="Bound">γ</a> <a id="11181" class="Symbol">:</a> <a id="11183" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="11193" href="Effect.Theory.FirstOrder.html#11097" class="Bound">eq</a> <a id="11196" class="Symbol">.</a><a id="11197" href="Effect.Theory.FirstOrder.html#1646" class="Field">Γ′</a> <a id="11200" href="Effect.Theory.FirstOrder.html#11134" class="Bound">δ</a><a id="11201" class="Symbol">}</a>
        <a id="11211" class="Comment">--------------------------------------------------</a>
      <a id="11268" class="Symbol">→</a> <a id="11270" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="11280" href="Effect.Theory.FirstOrder.html#11097" class="Bound">eq</a> <a id="11283" class="Symbol">.</a><a id="11284" href="Effect.Theory.FirstOrder.html#1685" class="Field">lhs</a> <a id="11288" href="Effect.Theory.FirstOrder.html#11134" class="Bound">δ</a> <a id="11290" href="Effect.Theory.FirstOrder.html#11179" class="Bound">γ</a> <a id="11292" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="11295" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="11297" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="11299" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="11309" href="Effect.Theory.FirstOrder.html#11097" class="Bound">eq</a> <a id="11312" class="Symbol">.</a><a id="11313" href="Effect.Theory.FirstOrder.html#1689" class="Field">rhs</a> <a id="11317" href="Effect.Theory.FirstOrder.html#11134" class="Bound">δ</a> <a id="11319" href="Effect.Theory.FirstOrder.html#11179" class="Bound">γ</a>
      
<a id="11328" href="Effect.Theory.FirstOrder.html#11088" class="Function">≈-eq′</a> <a id="11334" href="Effect.Theory.FirstOrder.html#11334" class="Bound">eq</a> <a id="11337" href="Effect.Theory.FirstOrder.html#11337" class="Bound">px</a> <a id="11340" class="Symbol">{</a><a id="11341" href="Effect.Theory.FirstOrder.html#11341" class="Bound">δ</a><a id="11342" class="Symbol">}</a> <a id="11344" class="Symbol">{</a><a id="11345" href="Effect.Theory.FirstOrder.html#11345" class="Bound">γ</a><a id="11346" class="Symbol">}</a> <a id="11348" class="Symbol">=</a>
  <a id="11352" href="Effect.Theory.FirstOrder.html#10645" class="Function Operator">begin</a>
    <a id="11362" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="11372" href="Effect.Theory.FirstOrder.html#11334" class="Bound">eq</a> <a id="11375" class="Symbol">.</a><a id="11376" href="Effect.Theory.FirstOrder.html#1685" class="Field">lhs</a> <a id="11380" href="Effect.Theory.FirstOrder.html#11341" class="Bound">δ</a> <a id="11382" href="Effect.Theory.FirstOrder.html#11345" class="Bound">γ</a>
  <a id="11386" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">≈⟪</a> <a id="11389" href="Effect.Theory.FirstOrder.html#8425" class="InductiveConstructor">≈-sym</a> <a id="11395" class="Symbol">(</a><a id="11396" href="Effect.Theory.FirstOrder.html#9529" class="Function">&gt;&gt;=-idʳ-≈</a> <a id="11406" class="Symbol">_)</a> <a id="11409" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">⟫</a>
    <a id="11415" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="11425" href="Effect.Theory.FirstOrder.html#11334" class="Bound">eq</a> <a id="11428" class="Symbol">.</a><a id="11429" href="Effect.Theory.FirstOrder.html#1685" class="Field">lhs</a> <a id="11433" href="Effect.Theory.FirstOrder.html#11341" class="Bound">δ</a> <a id="11435" href="Effect.Theory.FirstOrder.html#11345" class="Bound">γ</a> <a id="11437" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="11441" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a>
  <a id="11448" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">≈⟪</a> <a id="11451" href="Effect.Theory.FirstOrder.html#8829" class="InductiveConstructor">≈-eq</a> <a id="11456" href="Effect.Theory.FirstOrder.html#11334" class="Bound">eq</a> <a id="11459" href="Effect.Theory.FirstOrder.html#11337" class="Bound">px</a> <a id="11462" href="Effect.Theory.FirstOrder.html#11341" class="Bound">δ</a> <a id="11464" href="Effect.Theory.FirstOrder.html#11345" class="Bound">γ</a> <a id="11466" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="11471" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">⟫</a>
    <a id="11477" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="11487" href="Effect.Theory.FirstOrder.html#11334" class="Bound">eq</a> <a id="11490" class="Symbol">.</a><a id="11491" href="Effect.Theory.FirstOrder.html#1689" class="Field">rhs</a> <a id="11495" href="Effect.Theory.FirstOrder.html#11341" class="Bound">δ</a> <a id="11497" href="Effect.Theory.FirstOrder.html#11345" class="Bound">γ</a> <a id="11499" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="11503" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> 
  <a id="11511" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">≈⟪</a> <a id="11514" href="Effect.Theory.FirstOrder.html#9529" class="Function">&gt;&gt;=-idʳ-≈</a> <a id="11524" class="Symbol">_</a> <a id="11526" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">⟫</a>
    <a id="11532" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="11542" href="Effect.Theory.FirstOrder.html#11334" class="Bound">eq</a> <a id="11545" class="Symbol">.</a><a id="11546" href="Effect.Theory.FirstOrder.html#1689" class="Field">rhs</a> <a id="11550" href="Effect.Theory.FirstOrder.html#11341" class="Bound">δ</a> <a id="11552" href="Effect.Theory.FirstOrder.html#11345" class="Bound">γ</a>
  <a id="11556" href="Effect.Theory.FirstOrder.html#10714" class="Function Operator">∎</a> 
  <a id="11561" class="Keyword">where</a> <a id="11567" class="Keyword">open</a> <a id="11572" href="Effect.Theory.FirstOrder.html#10534" class="Module">≈-Reasoning</a> <a id="11584" class="Symbol">_</a>

<a id="11587" class="Comment">-- monadic bind respects syntactic equivalence of effect trees in the left position </a>
<a id="&gt;&gt;=-resp-≈ˡ"></a><a id="11672" href="Effect.Theory.FirstOrder.html#11672" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="11684" class="Symbol">:</a> <a id="11686" class="Symbol">{</a><a id="11687" href="Effect.Theory.FirstOrder.html#11687" class="Bound">m₁</a> <a id="11690" href="Effect.Theory.FirstOrder.html#11690" class="Bound">m₂</a> <a id="11693" class="Symbol">:</a> <a id="11695" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="11700" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="11702" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="11703" class="Symbol">}</a> <a id="11705" class="Symbol">(</a><a id="11706" href="Effect.Theory.FirstOrder.html#11706" class="Bound">k</a> <a id="11708" class="Symbol">:</a> <a id="11710" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="11712" class="Symbol">→</a> <a id="11714" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="11719" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="11721" href="Core.Functor.html#1533" class="Generalizable">B</a><a id="11722" class="Symbol">)</a> <a id="11724" class="Symbol">→</a> <a id="11726" href="Effect.Theory.FirstOrder.html#11687" class="Bound">m₁</a> <a id="11729" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="11732" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="11734" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="11736" href="Effect.Theory.FirstOrder.html#11690" class="Bound">m₂</a> <a id="11739" class="Symbol">→</a> <a id="11741" href="Effect.Theory.FirstOrder.html#11687" class="Bound">m₁</a> <a id="11744" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="11748" href="Effect.Theory.FirstOrder.html#11706" class="Bound">k</a> <a id="11750" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="11753" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="11755" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="11757" href="Effect.Theory.FirstOrder.html#11690" class="Bound">m₂</a> <a id="11760" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="11764" href="Effect.Theory.FirstOrder.html#11706" class="Bound">k</a>
<a id="11766" href="Effect.Theory.FirstOrder.html#11672" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="11778" href="Effect.Theory.FirstOrder.html#11778" class="Bound">k</a> <a id="11780" href="Effect.Theory.FirstOrder.html#8378" class="InductiveConstructor">≈-refl</a>                      <a id="11808" class="Symbol">=</a> <a id="11810" href="Effect.Theory.FirstOrder.html#8378" class="InductiveConstructor">≈-refl</a>
<a id="11817" href="Effect.Theory.FirstOrder.html#11672" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="11829" href="Effect.Theory.FirstOrder.html#11829" class="Bound">k</a> <a id="11831" class="Symbol">(</a><a id="11832" href="Effect.Theory.FirstOrder.html#8425" class="InductiveConstructor">≈-sym</a> <a id="11838" href="Effect.Theory.FirstOrder.html#11838" class="Bound">eq</a><a id="11840" class="Symbol">)</a>                  <a id="11859" class="Symbol">=</a> <a id="11861" href="Effect.Theory.FirstOrder.html#8425" class="InductiveConstructor">≈-sym</a> <a id="11867" class="Symbol">(</a><a id="11868" href="Effect.Theory.FirstOrder.html#11672" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="11880" href="Effect.Theory.FirstOrder.html#11829" class="Bound">k</a> <a id="11882" href="Effect.Theory.FirstOrder.html#11838" class="Bound">eq</a><a id="11884" class="Symbol">)</a>
<a id="11886" href="Effect.Theory.FirstOrder.html#11672" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="11898" href="Effect.Theory.FirstOrder.html#11898" class="Bound">k</a> <a id="11900" class="Symbol">(</a><a id="11901" href="Effect.Theory.FirstOrder.html#8496" class="InductiveConstructor">≈-trans</a> <a id="11909" href="Effect.Theory.FirstOrder.html#11909" class="Bound">eq₁</a> <a id="11913" href="Effect.Theory.FirstOrder.html#11913" class="Bound">eq₂</a><a id="11916" class="Symbol">)</a>           <a id="11928" class="Symbol">=</a> <a id="11930" href="Effect.Theory.FirstOrder.html#8496" class="InductiveConstructor">≈-trans</a> <a id="11938" class="Symbol">(</a><a id="11939" href="Effect.Theory.FirstOrder.html#11672" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="11951" href="Effect.Theory.FirstOrder.html#11898" class="Bound">k</a> <a id="11953" href="Effect.Theory.FirstOrder.html#11909" class="Bound">eq₁</a><a id="11956" class="Symbol">)</a> <a id="11958" class="Symbol">(</a><a id="11959" href="Effect.Theory.FirstOrder.html#11672" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="11971" href="Effect.Theory.FirstOrder.html#11898" class="Bound">k</a> <a id="11973" href="Effect.Theory.FirstOrder.html#11913" class="Bound">eq₂</a><a id="11976" class="Symbol">)</a>
<a id="11978" href="Effect.Theory.FirstOrder.html#11672" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="11990" href="Effect.Theory.FirstOrder.html#11990" class="Bound">k</a> <a id="11992" class="Symbol">(</a><a id="11993" href="Effect.Theory.FirstOrder.html#8602" class="InductiveConstructor">≈-cong</a> <a id="12000" href="Effect.Theory.FirstOrder.html#12000" class="Bound">s</a> <a id="12002" href="Effect.Theory.FirstOrder.html#12002" class="Bound">p₁</a> <a id="12005" href="Effect.Theory.FirstOrder.html#12005" class="Bound">p₂</a> <a id="12008" href="Effect.Theory.FirstOrder.html#12008" class="Bound">x</a><a id="12009" class="Symbol">)</a>          <a id="12020" class="Symbol">=</a> <a id="12022" href="Effect.Theory.FirstOrder.html#8602" class="InductiveConstructor">≈-cong</a> <a id="12029" href="Effect.Theory.FirstOrder.html#12000" class="Bound">s</a> <a id="12031" class="Symbol">((</a><a id="12033" href="Core.Functor.Monad.html#423" class="Function Operator">_&gt;&gt;=</a> <a id="12038" href="Effect.Theory.FirstOrder.html#11990" class="Bound">k</a><a id="12039" class="Symbol">)</a> <a id="12041" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="12043" href="Effect.Theory.FirstOrder.html#12002" class="Bound">p₁</a><a id="12045" class="Symbol">)</a> <a id="12047" class="Symbol">((</a><a id="12049" href="Core.Functor.Monad.html#423" class="Function Operator">_&gt;&gt;=</a> <a id="12054" href="Effect.Theory.FirstOrder.html#11990" class="Bound">k</a><a id="12055" class="Symbol">)</a> <a id="12057" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="12059" href="Effect.Theory.FirstOrder.html#12005" class="Bound">p₂</a><a id="12061" class="Symbol">)</a> <a id="12063" class="Symbol">λ</a> <a id="12065" class="Symbol">{</a><a id="12066" href="Effect.Theory.FirstOrder.html#12066" class="Bound">v</a><a id="12067" class="Symbol">}</a> <a id="12069" class="Symbol">→</a> <a id="12071" href="Effect.Theory.FirstOrder.html#11672" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="12083" href="Effect.Theory.FirstOrder.html#11990" class="Bound">k</a> <a id="12085" class="Symbol">(</a><a id="12086" href="Effect.Theory.FirstOrder.html#12008" class="Bound">x</a> <a id="12088" class="Symbol">{</a><a id="12089" href="Effect.Theory.FirstOrder.html#12066" class="Bound">v</a><a id="12090" class="Symbol">})</a>
<a id="12093" href="Effect.Theory.FirstOrder.html#11672" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="12105" href="Effect.Theory.FirstOrder.html#12105" class="Bound">k</a> <a id="12107" class="Symbol">(</a><a id="12108" href="Effect.Theory.FirstOrder.html#8829" class="InductiveConstructor">≈-eq</a> <a id="12113" href="Effect.Theory.FirstOrder.html#12113" class="Bound">eq</a> <a id="12116" href="Effect.Theory.FirstOrder.html#12116" class="Bound">px</a> <a id="12119" href="Effect.Theory.FirstOrder.html#12119" class="Bound">δ</a> <a id="12121" href="Effect.Theory.FirstOrder.html#12121" class="Bound">γ</a> <a id="12123" href="Effect.Theory.FirstOrder.html#12123" class="Bound">k′</a><a id="12125" class="Symbol">)</a>         <a id="12135" class="Symbol">=</a>
  <a id="12139" href="Effect.Theory.FirstOrder.html#10645" class="Function Operator">begin</a>
    <a id="12149" class="Symbol">(</a><a id="12150" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="12160" href="Effect.Theory.FirstOrder.html#12113" class="Bound">eq</a> <a id="12163" class="Symbol">.</a><a id="12164" href="Effect.Theory.FirstOrder.html#1685" class="Field">lhs</a> <a id="12168" href="Effect.Theory.FirstOrder.html#12119" class="Bound">δ</a> <a id="12170" href="Effect.Theory.FirstOrder.html#12121" class="Bound">γ</a> <a id="12172" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="12176" href="Effect.Theory.FirstOrder.html#12123" class="Bound">k′</a><a id="12178" class="Symbol">)</a> <a id="12180" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="12184" href="Effect.Theory.FirstOrder.html#12105" class="Bound">k</a>
  <a id="12188" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">≈⟪</a> <a id="12191" href="Effect.Theory.FirstOrder.html#9613" class="Function">&gt;&gt;=-assoc-≈</a> <a id="12203" href="Effect.Theory.FirstOrder.html#12123" class="Bound">k′</a> <a id="12206" href="Effect.Theory.FirstOrder.html#12105" class="Bound">k</a> <a id="12208" class="Symbol">(</a><a id="12209" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="12219" href="Effect.Theory.FirstOrder.html#12113" class="Bound">eq</a> <a id="12222" class="Symbol">.</a><a id="12223" href="Effect.Theory.FirstOrder.html#1685" class="Field">lhs</a> <a id="12227" href="Effect.Theory.FirstOrder.html#12119" class="Bound">δ</a> <a id="12229" href="Effect.Theory.FirstOrder.html#12121" class="Bound">γ</a><a id="12230" class="Symbol">)</a> <a id="12232" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">⟫</a>
    <a id="12238" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="12248" href="Effect.Theory.FirstOrder.html#12113" class="Bound">eq</a> <a id="12251" class="Symbol">.</a><a id="12252" href="Effect.Theory.FirstOrder.html#1685" class="Field">lhs</a> <a id="12256" href="Effect.Theory.FirstOrder.html#12119" class="Bound">δ</a> <a id="12258" href="Effect.Theory.FirstOrder.html#12121" class="Bound">γ</a> <a id="12260" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="12264" class="Symbol">(</a><a id="12265" href="Effect.Theory.FirstOrder.html#12123" class="Bound">k′</a> <a id="12268" href="Core.Functor.Monad.html#475" class="Function Operator">&gt;=&gt;</a> <a id="12272" href="Effect.Theory.FirstOrder.html#12105" class="Bound">k</a><a id="12273" class="Symbol">)</a>
  <a id="12277" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">≈⟪</a> <a id="12280" href="Effect.Theory.FirstOrder.html#8829" class="InductiveConstructor">≈-eq</a> <a id="12285" href="Effect.Theory.FirstOrder.html#12113" class="Bound">eq</a> <a id="12288" href="Effect.Theory.FirstOrder.html#12116" class="Bound">px</a> <a id="12291" href="Effect.Theory.FirstOrder.html#12119" class="Bound">δ</a> <a id="12293" href="Effect.Theory.FirstOrder.html#12121" class="Bound">γ</a> <a id="12295" class="Symbol">(</a><a id="12296" href="Effect.Theory.FirstOrder.html#12123" class="Bound">k′</a> <a id="12299" href="Core.Functor.Monad.html#475" class="Function Operator">&gt;=&gt;</a> <a id="12303" href="Effect.Theory.FirstOrder.html#12105" class="Bound">k</a><a id="12304" class="Symbol">)</a> <a id="12306" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">⟫</a>
    <a id="12312" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="12322" href="Effect.Theory.FirstOrder.html#12113" class="Bound">eq</a> <a id="12325" class="Symbol">.</a><a id="12326" href="Effect.Theory.FirstOrder.html#1689" class="Field">rhs</a> <a id="12330" href="Effect.Theory.FirstOrder.html#12119" class="Bound">δ</a> <a id="12332" href="Effect.Theory.FirstOrder.html#12121" class="Bound">γ</a> <a id="12334" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="12338" class="Symbol">(</a><a id="12339" href="Effect.Theory.FirstOrder.html#12123" class="Bound">k′</a> <a id="12342" href="Core.Functor.Monad.html#475" class="Function Operator">&gt;=&gt;</a> <a id="12346" href="Effect.Theory.FirstOrder.html#12105" class="Bound">k</a><a id="12347" class="Symbol">)</a>
  <a id="12351" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">≈⟪</a> <a id="12354" href="Effect.Theory.FirstOrder.html#8425" class="InductiveConstructor">≈-sym</a> <a id="12360" class="Symbol">(</a><a id="12361" href="Effect.Theory.FirstOrder.html#9613" class="Function">&gt;&gt;=-assoc-≈</a> <a id="12373" href="Effect.Theory.FirstOrder.html#12123" class="Bound">k′</a> <a id="12376" href="Effect.Theory.FirstOrder.html#12105" class="Bound">k</a> <a id="12378" class="Symbol">(</a><a id="12379" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="12389" href="Effect.Theory.FirstOrder.html#12113" class="Bound">eq</a> <a id="12392" class="Symbol">.</a><a id="12393" href="Effect.Theory.FirstOrder.html#1689" class="Field">rhs</a> <a id="12397" href="Effect.Theory.FirstOrder.html#12119" class="Bound">δ</a> <a id="12399" href="Effect.Theory.FirstOrder.html#12121" class="Bound">γ</a><a id="12400" class="Symbol">))</a> <a id="12403" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">⟫</a>
    <a id="12409" class="Symbol">(</a><a id="12410" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="12420" href="Effect.Theory.FirstOrder.html#12113" class="Bound">eq</a> <a id="12423" class="Symbol">.</a><a id="12424" href="Effect.Theory.FirstOrder.html#1689" class="Field">rhs</a> <a id="12428" href="Effect.Theory.FirstOrder.html#12119" class="Bound">δ</a> <a id="12430" href="Effect.Theory.FirstOrder.html#12121" class="Bound">γ</a> <a id="12432" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="12436" href="Effect.Theory.FirstOrder.html#12123" class="Bound">k′</a><a id="12438" class="Symbol">)</a> <a id="12440" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="12444" href="Effect.Theory.FirstOrder.html#12105" class="Bound">k</a> 
  <a id="12449" href="Effect.Theory.FirstOrder.html#10714" class="Function Operator">∎</a>
  <a id="12453" class="Keyword">where</a> <a id="12459" class="Keyword">open</a> <a id="12464" href="Effect.Theory.FirstOrder.html#10534" class="Module">≈-Reasoning</a> <a id="12476" class="Symbol">_</a>


<a id="12480" class="Comment">-- monadic bind respects syntactic equivalence of effect trees in the right position </a>
<a id="&gt;&gt;=-resp-≈ʳ"></a><a id="12566" href="Effect.Theory.FirstOrder.html#12566" class="Function">&gt;&gt;=-resp-≈ʳ</a> <a id="12578" class="Symbol">:</a> <a id="12580" class="Symbol">{</a><a id="12581" href="Effect.Theory.FirstOrder.html#12581" class="Bound">k₁</a> <a id="12584" href="Effect.Theory.FirstOrder.html#12584" class="Bound">k₂</a> <a id="12587" class="Symbol">:</a> <a id="12589" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="12591" class="Symbol">→</a> <a id="12593" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="12598" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="12600" href="Core.Functor.html#1533" class="Generalizable">B</a><a id="12601" class="Symbol">}</a> <a id="12603" class="Symbol">(</a><a id="12604" href="Effect.Theory.FirstOrder.html#12604" class="Bound">m</a> <a id="12606" class="Symbol">:</a> <a id="12608" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="12613" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="12615" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="12616" class="Symbol">)</a> <a id="12618" class="Symbol">→</a> <a id="12620" class="Symbol">(∀</a> <a id="12623" href="Effect.Theory.FirstOrder.html#12623" class="Bound">a</a> <a id="12625" class="Symbol">→</a> <a id="12627" href="Effect.Theory.FirstOrder.html#12581" class="Bound">k₁</a> <a id="12630" href="Effect.Theory.FirstOrder.html#12623" class="Bound">a</a> <a id="12632" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="12635" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="12637" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="12639" href="Effect.Theory.FirstOrder.html#12584" class="Bound">k₂</a> <a id="12642" href="Effect.Theory.FirstOrder.html#12623" class="Bound">a</a><a id="12643" class="Symbol">)</a> <a id="12645" class="Symbol">→</a> <a id="12647" href="Effect.Theory.FirstOrder.html#12604" class="Bound">m</a> <a id="12649" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="12653" href="Effect.Theory.FirstOrder.html#12581" class="Bound">k₁</a> <a id="12656" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">≈⟨</a> <a id="12659" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="12661" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩</a> <a id="12663" href="Effect.Theory.FirstOrder.html#12604" class="Bound">m</a> <a id="12665" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="12669" href="Effect.Theory.FirstOrder.html#12584" class="Bound">k₂</a> 
<a id="12673" href="Effect.Theory.FirstOrder.html#12566" class="Function">&gt;&gt;=-resp-≈ʳ</a> <a id="12685" class="Symbol">(</a><a id="12686" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="12691" href="Effect.Theory.FirstOrder.html#12691" class="Bound">x</a><a id="12692" class="Symbol">)</a> <a id="12694" href="Effect.Theory.FirstOrder.html#12694" class="Bound">eq</a> <a id="12697" class="Symbol">=</a> <a id="12699" href="Effect.Theory.FirstOrder.html#12694" class="Bound">eq</a> <a id="12702" class="Symbol">_</a>
<a id="12704" href="Effect.Theory.FirstOrder.html#12566" class="Function">&gt;&gt;=-resp-≈ʳ</a> <a id="12716" class="Symbol">{</a><a id="12717" class="Argument">k₁</a> <a id="12720" class="Symbol">=</a> <a id="12722" href="Effect.Theory.FirstOrder.html#12722" class="Bound">k₁</a><a id="12724" class="Symbol">}</a> <a id="12726" class="Symbol">{</a><a id="12727" href="Effect.Theory.FirstOrder.html#12727" class="Bound">k₂</a><a id="12729" class="Symbol">}</a> <a id="12731" class="Symbol">(</a><a id="12732" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="12739" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="12741" href="Effect.Theory.FirstOrder.html#12741" class="Bound">c</a> <a id="12743" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12745" href="Effect.Theory.FirstOrder.html#12745" class="Bound">r</a> <a id="12747" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a><a id="12748" class="Symbol">)</a> <a id="12750" href="Effect.Theory.FirstOrder.html#12750" class="Bound">eq</a> <a id="12753" class="Symbol">=</a>
  <a id="12757" href="Effect.Theory.FirstOrder.html#10645" class="Function Operator">begin</a>
    <a id="12767" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="12774" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="12776" href="Effect.Theory.FirstOrder.html#12741" class="Bound">c</a> <a id="12778" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12780" href="Effect.Theory.FirstOrder.html#12745" class="Bound">r</a> <a id="12782" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a> <a id="12784" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="12788" href="Effect.Theory.FirstOrder.html#12722" class="Bound">k₁</a>
  <a id="12793" href="Effect.Theory.FirstOrder.html#10760" class="Function Operator">≈⟪⟫</a> <a id="12797" class="Comment">{- Definition of &gt;&gt;= -}</a> 
    <a id="12826" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="12833" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="12835" href="Effect.Theory.FirstOrder.html#12741" class="Bound">c</a> <a id="12837" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12839" class="Symbol">(</a><a id="12840" href="Core.Functor.Monad.html#423" class="Function Operator">_&gt;&gt;=</a> <a id="12845" href="Effect.Theory.FirstOrder.html#12722" class="Bound">k₁</a><a id="12847" class="Symbol">)</a> <a id="12849" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="12851" href="Effect.Theory.FirstOrder.html#12745" class="Bound">r</a> <a id="12853" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a>  
  <a id="12859" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">≈⟪</a> <a id="12862" href="Effect.Theory.FirstOrder.html#8602" class="InductiveConstructor">≈-cong</a> <a id="12869" href="Effect.Theory.FirstOrder.html#12741" class="Bound">c</a> <a id="12871" class="Symbol">((</a><a id="12873" href="Core.Functor.Monad.html#423" class="Function Operator">_&gt;&gt;=</a> <a id="12878" href="Effect.Theory.FirstOrder.html#12722" class="Bound">k₁</a><a id="12880" class="Symbol">)</a> <a id="12882" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="12884" href="Effect.Theory.FirstOrder.html#12745" class="Bound">r</a><a id="12885" class="Symbol">)</a> <a id="12887" class="Symbol">((</a><a id="12889" href="Core.Functor.Monad.html#423" class="Function Operator">_&gt;&gt;=</a> <a id="12894" href="Effect.Theory.FirstOrder.html#12727" class="Bound">k₂</a><a id="12896" class="Symbol">)</a> <a id="12898" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="12900" href="Effect.Theory.FirstOrder.html#12745" class="Bound">r</a><a id="12901" class="Symbol">)</a> <a id="12903" class="Symbol">(</a><a id="12904" href="Effect.Theory.FirstOrder.html#12566" class="Function">&gt;&gt;=-resp-≈ʳ</a> <a id="12916" class="Symbol">(</a><a id="12917" href="Effect.Theory.FirstOrder.html#12745" class="Bound">r</a> <a id="12919" class="Symbol">_)</a> <a id="12922" href="Effect.Theory.FirstOrder.html#12750" class="Bound">eq</a><a id="12924" class="Symbol">)</a> <a id="12926" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">⟫</a>
    <a id="12932" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="12939" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="12941" href="Effect.Theory.FirstOrder.html#12741" class="Bound">c</a> <a id="12943" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12945" class="Symbol">(</a><a id="12946" href="Core.Functor.Monad.html#423" class="Function Operator">_&gt;&gt;=</a> <a id="12951" href="Effect.Theory.FirstOrder.html#12727" class="Bound">k₂</a><a id="12953" class="Symbol">)</a> <a id="12955" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="12957" href="Effect.Theory.FirstOrder.html#12745" class="Bound">r</a> <a id="12959" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a>  
  <a id="12965" href="Effect.Theory.FirstOrder.html#10760" class="Function Operator">≈⟪⟫</a> <a id="12969" class="Comment">{- Definition of &gt;&gt;= -}</a>  
    <a id="12999" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="13006" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="13008" href="Effect.Theory.FirstOrder.html#12741" class="Bound">c</a> <a id="13010" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13012" href="Effect.Theory.FirstOrder.html#12745" class="Bound">r</a> <a id="13014" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a> <a id="13016" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="13020" href="Effect.Theory.FirstOrder.html#12727" class="Bound">k₂</a>
  <a id="13025" href="Effect.Theory.FirstOrder.html#10714" class="Function Operator">∎</a>
  <a id="13029" class="Keyword">where</a> <a id="13035" class="Keyword">open</a> <a id="13040" href="Effect.Theory.FirstOrder.html#10534" class="Module">≈-Reasoning</a> <a id="13052" class="Symbol">_</a> 

<a id="impure-injectiveˡ"></a><a id="13056" href="Effect.Theory.FirstOrder.html#13056" class="Function">impure-injectiveˡ</a> <a id="13074" class="Symbol">:</a>
  <a id="13078" class="Symbol">∀</a> <a id="13080" class="Symbol">{</a><a id="13081" href="Effect.Theory.FirstOrder.html#13081" class="Bound">ε</a><a id="13082" class="Symbol">}</a> <a id="13084" class="Symbol">{</a><a id="13085" href="Effect.Theory.FirstOrder.html#13085" class="Bound">c₁</a> <a id="13088" href="Effect.Theory.FirstOrder.html#13088" class="Bound">c₂</a> <a id="13091" class="Symbol">:</a> <a id="13093" href="Effect.Theory.FirstOrder.html#13081" class="Bound">ε</a> <a id="13095" class="Symbol">.</a><a id="13096" href="Core.Container.html#605" class="Field">shape</a><a id="13101" class="Symbol">}</a> <a id="13103" class="Symbol">{</a><a id="13104" href="Effect.Theory.FirstOrder.html#13104" class="Bound">k₁</a> <a id="13107" class="Symbol">:</a> <a id="13109" href="Effect.Theory.FirstOrder.html#13081" class="Bound">ε</a> <a id="13111" class="Symbol">.</a><a id="13112" href="Core.Container.html#628" class="Field">position</a> <a id="13121" href="Effect.Theory.FirstOrder.html#13085" class="Bound">c₁</a> <a id="13124" class="Symbol">→</a> <a id="13126" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="13131" href="Effect.Theory.FirstOrder.html#13081" class="Bound">ε</a> <a id="13133" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="13134" class="Symbol">}</a> <a id="13136" class="Symbol">{</a><a id="13137" href="Effect.Theory.FirstOrder.html#13137" class="Bound">k₂</a> <a id="13140" class="Symbol">:</a> <a id="13142" href="Effect.Theory.FirstOrder.html#13081" class="Bound">ε</a> <a id="13144" class="Symbol">.</a><a id="13145" href="Core.Container.html#628" class="Field">position</a> <a id="13154" href="Effect.Theory.FirstOrder.html#13088" class="Bound">c₂</a> <a id="13157" class="Symbol">→</a> <a id="13159" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="13164" href="Effect.Theory.FirstOrder.html#13081" class="Bound">ε</a> <a id="13166" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="13167" class="Symbol">}</a>
  <a id="13171" class="Symbol">→</a> <a id="13173" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="13180" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="13182" href="Effect.Theory.FirstOrder.html#13085" class="Bound">c₁</a> <a id="13185" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13187" href="Effect.Theory.FirstOrder.html#13104" class="Bound">k₁</a> <a id="13190" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a> <a id="13192" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13194" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="13201" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="13203" href="Effect.Theory.FirstOrder.html#13088" class="Bound">c₂</a> <a id="13206" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13208" href="Effect.Theory.FirstOrder.html#13137" class="Bound">k₂</a> <a id="13211" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a> <a id="13213" class="Symbol">→</a> <a id="13215" href="Effect.Theory.FirstOrder.html#13085" class="Bound">c₁</a> <a id="13218" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13220" href="Effect.Theory.FirstOrder.html#13088" class="Bound">c₂</a>
<a id="13223" href="Effect.Theory.FirstOrder.html#13056" class="Function">impure-injectiveˡ</a> <a id="13241" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="13246" class="Symbol">=</a> <a id="13248" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
 
<a id="impure-injectiveʳ"></a><a id="13255" href="Effect.Theory.FirstOrder.html#13255" class="Function">impure-injectiveʳ</a> <a id="13273" class="Symbol">:</a>
  <a id="13277" class="Symbol">∀</a> <a id="13279" class="Symbol">{</a><a id="13280" href="Effect.Theory.FirstOrder.html#13280" class="Bound">ε</a><a id="13281" class="Symbol">}</a> <a id="13283" class="Symbol">{</a><a id="13284" href="Effect.Theory.FirstOrder.html#13284" class="Bound">c₁</a> <a id="13287" href="Effect.Theory.FirstOrder.html#13287" class="Bound">c₂</a> <a id="13290" class="Symbol">:</a> <a id="13292" href="Effect.Theory.FirstOrder.html#13280" class="Bound">ε</a> <a id="13294" class="Symbol">.</a><a id="13295" href="Core.Container.html#605" class="Field">shape</a><a id="13300" class="Symbol">}</a> <a id="13302" class="Symbol">{</a><a id="13303" href="Effect.Theory.FirstOrder.html#13303" class="Bound">k₁</a> <a id="13306" class="Symbol">:</a> <a id="13308" href="Effect.Theory.FirstOrder.html#13280" class="Bound">ε</a> <a id="13310" class="Symbol">.</a><a id="13311" href="Core.Container.html#628" class="Field">position</a> <a id="13320" href="Effect.Theory.FirstOrder.html#13284" class="Bound">c₁</a> <a id="13323" class="Symbol">→</a> <a id="13325" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="13330" href="Effect.Theory.FirstOrder.html#13280" class="Bound">ε</a> <a id="13332" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="13333" class="Symbol">}</a> <a id="13335" class="Symbol">{</a><a id="13336" href="Effect.Theory.FirstOrder.html#13336" class="Bound">k₂</a> <a id="13339" class="Symbol">:</a> <a id="13341" href="Effect.Theory.FirstOrder.html#13280" class="Bound">ε</a> <a id="13343" class="Symbol">.</a><a id="13344" href="Core.Container.html#628" class="Field">position</a> <a id="13353" href="Effect.Theory.FirstOrder.html#13287" class="Bound">c₂</a> <a id="13356" class="Symbol">→</a> <a id="13358" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="13363" href="Effect.Theory.FirstOrder.html#13280" class="Bound">ε</a> <a id="13365" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="13366" class="Symbol">}</a>
  <a id="13370" class="Symbol">→</a> <a id="13372" class="Symbol">(</a><a id="13373" href="Effect.Theory.FirstOrder.html#13373" class="Bound">eq</a> <a id="13376" class="Symbol">:</a> <a id="13378" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="13385" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="13387" href="Effect.Theory.FirstOrder.html#13284" class="Bound">c₁</a> <a id="13390" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13392" href="Effect.Theory.FirstOrder.html#13303" class="Bound">k₁</a> <a id="13395" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a> <a id="13397" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13399" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="13406" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="13408" href="Effect.Theory.FirstOrder.html#13287" class="Bound">c₂</a> <a id="13411" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13413" href="Effect.Theory.FirstOrder.html#13336" class="Bound">k₂</a> <a id="13416" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a><a id="13417" class="Symbol">)</a> <a id="13419" class="Symbol">→</a> <a id="13421" href="Relation.Binary.PropositionalEquality.Core.html#1780" class="Function">subst</a> <a id="13427" class="Symbol">_</a> <a id="13429" class="Symbol">(</a><a id="13430" href="Effect.Theory.FirstOrder.html#13056" class="Function">impure-injectiveˡ</a> <a id="13448" href="Effect.Theory.FirstOrder.html#13373" class="Bound">eq</a><a id="13450" class="Symbol">)</a> <a id="13452" href="Effect.Theory.FirstOrder.html#13303" class="Bound">k₁</a> <a id="13455" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13457" href="Effect.Theory.FirstOrder.html#13336" class="Bound">k₂</a>
<a id="13460" href="Effect.Theory.FirstOrder.html#13255" class="Function">impure-injectiveʳ</a> <a id="13478" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="13483" class="Symbol">=</a> <a id="13485" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre></body></html>