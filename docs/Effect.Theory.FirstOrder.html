<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Effect.Theory.FirstOrder</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Symbol">#-}</a> 

<a id="31" class="Keyword">open</a> <a id="36" class="Keyword">import</a> <a id="43" href="Effect.Base.html" class="Module">Effect.Base</a>
<a id="55" class="Keyword">open</a> <a id="60" class="Keyword">import</a> <a id="67" href="Effect.Handle.html" class="Module">Effect.Handle</a>
<a id="81" class="Keyword">open</a> <a id="86" class="Keyword">import</a> <a id="93" href="Effect.Syntax.Free.html" class="Module">Effect.Syntax.Free</a>

<a id="113" class="Keyword">open</a> <a id="118" class="Keyword">import</a> <a id="125" href="Effect.Relation.Ternary.FirstOrderSeparation.html" class="Module">Effect.Relation.Ternary.FirstOrderSeparation</a>
<a id="170" class="Keyword">open</a> <a id="175" class="Keyword">import</a> <a id="182" href="Effect.Relation.Binary.FirstOrderInclusion.html" class="Module">Effect.Relation.Binary.FirstOrderInclusion</a>

<a id="226" class="Keyword">open</a> <a id="231" class="Keyword">import</a> <a id="238" href="Data.Product.html" class="Module">Data.Product</a> <a id="251" class="Keyword">hiding</a> <a id="258" class="Symbol">(</a><a id="259" href="Data.Product.Base.html#2173" class="Function">map</a><a id="262" class="Symbol">)</a>
<a id="264" class="Keyword">open</a> <a id="269" class="Keyword">import</a> <a id="276" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="285" class="Keyword">hiding</a> <a id="292" class="Symbol">(</a><a id="293" href="Data.Sum.Base.html#1253" class="Function">map</a><a id="296" class="Symbol">)</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Data.Unit.html" class="Module">Data.Unit</a>

<a id="321" class="Keyword">open</a> <a id="326" class="Keyword">import</a> <a id="333" href="Data.List.html" class="Module">Data.List</a> <a id="343" class="Keyword">hiding</a> <a id="350" class="Symbol">(</a><a id="351" href="Data.List.Base.html#5244" class="Function Operator">[_]</a><a id="354" class="Symbol">)</a>
<a id="356" class="Keyword">open</a> <a id="361" class="Keyword">import</a> <a id="368" href="Data.List.Membership.Propositional.html" class="Module">Data.List.Membership.Propositional</a>
<a id="403" class="Keyword">open</a> <a id="408" class="Keyword">import</a> <a id="415" href="Data.List.Membership.Propositional.Properties.html" class="Module">Data.List.Membership.Propositional.Properties</a>
<a id="461" class="Keyword">open</a> <a id="466" class="Keyword">import</a> <a id="473" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a> <a id="502" class="Keyword">hiding</a> <a id="509" class="Symbol">(</a><a id="510" href="Data.List.Relation.Unary.Any.html#1650" class="Function">map</a><a id="513" class="Symbol">)</a>
<a id="515" class="Keyword">open</a> <a id="520" class="Keyword">import</a> <a id="527" href="Data.List.Relation.Unary.All.html" class="Module">Data.List.Relation.Unary.All</a> <a id="556" class="Keyword">renaming</a> <a id="565" class="Symbol">(</a><a id="566" href="Data.List.Relation.Unary.All.html#3121" class="Function">map</a> <a id="570" class="Symbol">to</a> <a id="573" class="Function">map-all</a> <a id="581" class="Symbol">;</a> <a id="583" href="Data.List.Relation.Unary.All.html#5953" class="Function">lookup</a> <a id="590" class="Symbol">to</a> <a id="593" class="Function">lookup-all</a><a id="603" class="Symbol">)</a>
<a id="605" class="Keyword">open</a> <a id="610" class="Keyword">import</a> <a id="617" href="Data.List.Relation.Unary.All.Properties.html" class="Module">Data.List.Relation.Unary.All.Properties</a> <a id="657" class="Keyword">using</a> <a id="663" class="Symbol">(</a><a id="664" href="Data.List.Relation.Unary.All.Properties.html#14712" class="Function">++⁺</a><a id="667" class="Symbol">)</a>

<a id="670" class="Keyword">open</a> <a id="675" class="Keyword">import</a> <a id="682" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="691" class="Keyword">open</a> <a id="696" class="Keyword">import</a> <a id="703" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="712" class="Keyword">hiding</a> <a id="719" class="Symbol">(</a><a id="720" href="Data.Vec.Base.html#2947" class="Function">map</a> <a id="724" class="Symbol">;</a> <a id="726" href="Data.Vec.Base.html#3068" class="Function Operator">_++_</a> <a id="731" class="Symbol">;</a> <a id="733" href="Data.Vec.Base.html#6475" class="Function Operator">[_]</a><a id="736" class="Symbol">)</a>
<a id="738" class="Keyword">open</a> <a id="743" class="Keyword">import</a> <a id="750" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="761" class="Keyword">using</a> <a id="767" class="Symbol">(</a><a id="768" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="774" class="Symbol">;</a> <a id="776" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="781" class="Symbol">;</a> <a id="783" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="791" class="Symbol">;</a> <a id="793" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a><a id="799" class="Symbol">)</a>

<a id="802" class="Keyword">open</a> <a id="807" class="Keyword">import</a> <a id="814" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="829" class="Keyword">hiding</a> <a id="836" class="Symbol">(</a><a id="837" href="Relation.Unary.html#1654" class="Function Operator">_∈_</a> <a id="841" class="Symbol">;</a> <a id="843" href="Relation.Unary.html#1882" class="Function Operator">_⊆_</a> <a id="847" class="Symbol">;</a> <a id="849" href="Relation.Unary.html#5941" class="Function Operator">_⟨⊎⟩_</a><a id="854" class="Symbol">)</a>
<a id="856" class="Keyword">open</a> <a id="861" class="Keyword">import</a> <a id="868" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="884" class="Keyword">using</a> <a id="890" class="Symbol">(</a><a id="891" href="Relation.Binary.Bundles.html#2121" class="Record">Preorder</a><a id="899" class="Symbol">)</a>
<a id="901" class="Keyword">open</a> <a id="906" class="Keyword">import</a> <a id="913" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="951" class="Keyword">hiding</a> <a id="958" class="Symbol">(</a><a id="959" href="Relation.Binary.PropositionalEquality.html#1557" class="Function Operator">_≗_</a> <a id="963" class="Symbol">;</a> <a id="965" href="Relation.Binary.PropositionalEquality.html#4403" class="InductiveConstructor Operator">[_]</a><a id="968" class="Symbol">)</a>
<a id="970" class="Keyword">open</a> <a id="975" class="Keyword">import</a> <a id="982" href="Data.Empty.html" class="Module">Data.Empty</a>

<a id="994" class="Keyword">open</a> <a id="999" class="Keyword">import</a> <a id="1006" href="Core.Functor.html" class="Module">Core.Functor</a>
<a id="1019" class="Keyword">open</a> <a id="1024" class="Keyword">import</a> <a id="1031" href="Core.Ternary.html" class="Module">Core.Ternary</a>
<a id="1044" class="Keyword">open</a> <a id="1049" class="Keyword">import</a> <a id="1056" href="Core.Functor.Monad.html" class="Module">Core.Functor.Monad</a>

<a id="1076" class="Keyword">open</a> <a id="1081" class="Keyword">import</a> <a id="1088" href="Core.Container.html" class="Module">Core.Container</a>
<a id="1103" class="Keyword">open</a> <a id="1108" class="Keyword">import</a> <a id="1115" href="Core.Logic.html" class="Module">Core.Logic</a>
<a id="1126" class="Keyword">open</a> <a id="1131" class="Keyword">import</a> <a id="1138" href="Core.MonotonePredicate.html" class="Module">Core.MonotonePredicate</a> <a id="1161" href="Effect.Base.html#735" class="Function">Effect</a> <a id="1168" href="Core.Ternary.html#666" class="Field Operator">_≲_</a> 
<a id="1173" class="Keyword">open</a> <a id="1178" class="Keyword">import</a> <a id="1185" href="Core.Extensionality.html" class="Module">Core.Extensionality</a>

<a id="1206" class="Keyword">open</a> <a id="1211" class="Keyword">import</a> <a id="1218" href="Function.html" class="Module">Function</a>
<a id="1227" class="Keyword">open</a> <a id="1232" class="Keyword">import</a> <a id="1239" href="Function.Construct.Symmetry.html" class="Module">Function.Construct.Symmetry</a> <a id="1267" class="Keyword">using</a> <a id="1273" class="Symbol">(</a><a id="1274" href="Function.Construct.Symmetry.html#6808" class="Function">↔-sym</a><a id="1279" class="Symbol">)</a>
<a id="1281" class="Keyword">open</a> <a id="1286" class="Keyword">import</a> <a id="1293" href="Function.Construct.Composition.html" class="Module">Function.Construct.Composition</a> <a id="1324" class="Keyword">using</a> <a id="1330" class="Symbol">(</a><a id="1331" href="Function.Construct.Composition.html#8703" class="Function Operator">_↔-∘_</a><a id="1336" class="Symbol">)</a>
<a id="1338" class="Keyword">open</a> <a id="1343" class="Keyword">import</a> <a id="1350" href="Level.html" class="Module">Level</a>

<a id="1357" class="Keyword">module</a> <a id="1364" href="Effect.Theory.FirstOrder.html" class="Module">Effect.Theory.FirstOrder</a> <a id="1389" class="Keyword">where</a>

<a id="1396" class="Keyword">variable</a> <a id="1405" href="Effect.Theory.FirstOrder.html#1405" class="Generalizable">c</a> <a id="1407" href="Effect.Theory.FirstOrder.html#1407" class="Generalizable">c₁</a> <a id="1410" href="Effect.Theory.FirstOrder.html#1410" class="Generalizable">c₂</a> <a id="1413" href="Effect.Theory.FirstOrder.html#1413" class="Generalizable">c₃</a> <a id="1416" class="Symbol">:</a> <a id="1418" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="1423" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="1425" href="Core.Functor.html#1514" class="Generalizable">A</a>

<a id="1428" class="Comment">-- We define type contexts as a product by induction over the length rather than</a>
<a id="1509" class="Comment">-- a vector. This gives us some useful η-eqalities that save some pattern</a>
<a id="1583" class="Comment">-- matches when defining theories.</a>
<a id="TypeContext"></a><a id="1618" href="Effect.Theory.FirstOrder.html#1618" class="Function">TypeContext</a> <a id="1630" class="Symbol">:</a> <a id="1632" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1634" class="Symbol">→</a> <a id="1636" href="Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="1641" href="Effect.Theory.FirstOrder.html#1618" class="Function">TypeContext</a> <a id="1653" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>    <a id="1661" class="Symbol">=</a> <a id="1663" href="Level.html#409" class="Record">Lift</a> <a id="1668" class="Symbol">_</a> <a id="1670" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="1672" href="Effect.Theory.FirstOrder.html#1618" class="Function">TypeContext</a> <a id="1684" class="Symbol">(</a><a id="1685" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1689" href="Effect.Theory.FirstOrder.html#1689" class="Bound">n</a><a id="1690" class="Symbol">)</a> <a id="1692" class="Symbol">=</a> <a id="1694" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1698" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1700" href="Effect.Theory.FirstOrder.html#1618" class="Function">TypeContext</a> <a id="1712" href="Effect.Theory.FirstOrder.html#1689" class="Bound">n</a>

<a id="1715" class="Comment">-- Equations, packaged together with their context </a>
<a id="1767" class="Keyword">record</a> <a id="Equation"></a><a id="1774" href="Effect.Theory.FirstOrder.html#1774" class="Record">Equation</a> <a id="1783" class="Symbol">(</a><a id="1784" href="Effect.Theory.FirstOrder.html#1784" class="Bound">ε</a> <a id="1786" class="Symbol">:</a> <a id="1788" href="Effect.Base.html#735" class="Function">Effect</a><a id="1794" class="Symbol">)</a> <a id="1796" class="Symbol">:</a> <a id="1798" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> <a id="1803" class="Keyword">where</a>
  <a id="1811" class="Keyword">constructor</a> <a id="_≗_"></a><a id="1823" href="Effect.Theory.FirstOrder.html#1823" class="InductiveConstructor Operator">_≗_</a>  
  <a id="1831" class="Keyword">field</a>
    <a id="1841" class="Symbol">{</a><a id="Equation.Δ′"></a><a id="1842" href="Effect.Theory.FirstOrder.html#1842" class="Field">Δ′</a><a id="1844" class="Symbol">}</a>    <a id="1849" class="Symbol">:</a> <a id="1851" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="1857" class="Symbol">{</a><a id="Equation.Γ′"></a><a id="1858" href="Effect.Theory.FirstOrder.html#1858" class="Field">Γ′</a> <a id="Equation.R′"></a><a id="1861" href="Effect.Theory.FirstOrder.html#1861" class="Field">R′</a><a id="1863" class="Symbol">}</a> <a id="1865" class="Symbol">:</a> <a id="1867" href="Effect.Theory.FirstOrder.html#1618" class="Function">TypeContext</a> <a id="1879" href="Effect.Theory.FirstOrder.html#1842" class="Field">Δ′</a> <a id="1882" class="Symbol">→</a> <a id="1884" href="Agda.Primitive.html#388" class="Primitive">Set</a>
    
    <a id="Equation.lhs"></a><a id="1897" href="Effect.Theory.FirstOrder.html#1897" class="Field">lhs</a> <a id="Equation.rhs"></a><a id="1901" href="Effect.Theory.FirstOrder.html#1901" class="Field">rhs</a> <a id="1905" class="Symbol">:</a> <a id="1907" href="Relation.Unary.html#3491" class="Function">Π[</a> <a id="1910" href="Effect.Theory.FirstOrder.html#1858" class="Field">Γ′</a> <a id="1913" href="Relation.Unary.html#4621" class="Function Operator">⇒</a> <a id="1915" href="Effect.Theory.FirstOrder.html#1861" class="Field">R′</a> <a id="1918" href="Relation.Unary.html#5366" class="Function Operator">⊢</a> <a id="1920" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="1925" href="Effect.Theory.FirstOrder.html#1784" class="Bound">ε</a> <a id="1927" href="Relation.Unary.html#3491" class="Function">]</a> 

<a id="1931" class="Keyword">open</a> <a id="1936" href="Effect.Theory.FirstOrder.html#1774" class="Module">Equation</a> <a id="1945" class="Keyword">public</a> 

<a id="1954" class="Keyword">variable</a> <a id="1963" href="Effect.Theory.FirstOrder.html#1963" class="Generalizable">Δ</a> <a id="1965" href="Effect.Theory.FirstOrder.html#1965" class="Generalizable">Δ₁</a> <a id="1968" href="Effect.Theory.FirstOrder.html#1968" class="Generalizable">Δ₂</a> <a id="1971" class="Symbol">:</a> <a id="1973" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> 
         <a id="1985" href="Effect.Theory.FirstOrder.html#1985" class="Generalizable">Γ</a> <a id="1987" href="Effect.Theory.FirstOrder.html#1987" class="Generalizable">Γ₁</a> <a id="1990" href="Effect.Theory.FirstOrder.html#1990" class="Generalizable">Γ₂</a> <a id="1993" href="Effect.Theory.FirstOrder.html#1993" class="Generalizable">R</a> <a id="1995" class="Symbol">:</a> <a id="1997" href="Data.Vec.Base.html#1111" class="Datatype">Vec</a> <a id="2001" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2005" href="Effect.Theory.FirstOrder.html#1963" class="Generalizable">Δ</a> <a id="2007" class="Symbol">→</a> <a id="2009" href="Agda.Primitive.html#388" class="Primitive">Set</a> 

<a id="2015" class="Keyword">instance</a> <a id="eq-monotone"></a><a id="2024" href="Effect.Theory.FirstOrder.html#2024" class="Function">eq-monotone</a> <a id="2036" class="Symbol">:</a> <a id="2038" href="Core.MonotonePredicate.html#1406" class="Record">Monotone</a> <a id="2047" href="Effect.Theory.FirstOrder.html#1774" class="Record">Equation</a>
<a id="2056" href="Effect.Theory.FirstOrder.html#2024" class="Function">eq-monotone</a> <a id="2068" class="Symbol">.</a><a id="2069" href="Core.MonotonePredicate.html#1472" class="Field">weaken</a> <a id="2076" href="Effect.Theory.FirstOrder.html#2076" class="Bound">i</a> <a id="2078" href="Effect.Theory.FirstOrder.html#2078" class="Bound">eq</a> <a id="2081" class="Symbol">=</a> <a id="2083" class="Symbol">(</a><a id="2084" href="Effect.Relation.Binary.FirstOrderInclusion.html#2013" class="Function">♯</a> <a id="2086" class="Symbol">⦃</a> <a id="2088" href="Effect.Theory.FirstOrder.html#2076" class="Bound">i</a> <a id="2090" class="Symbol">⦄</a> <a id="2092" href="Function.Base.html#1303" class="Function Operator">∘₂</a> <a id="2095" href="Effect.Theory.FirstOrder.html#2078" class="Bound">eq</a> <a id="2098" class="Symbol">.</a><a id="2099" href="Effect.Theory.FirstOrder.html#1897" class="Field">lhs</a><a id="2102" class="Symbol">)</a> <a id="2104" href="Effect.Theory.FirstOrder.html#1823" class="InductiveConstructor Operator">≗</a> <a id="2106" class="Symbol">(</a><a id="2107" href="Effect.Relation.Binary.FirstOrderInclusion.html#2013" class="Function">♯</a> <a id="2109" class="Symbol">⦃</a> <a id="2111" href="Effect.Theory.FirstOrder.html#2076" class="Bound">i</a> <a id="2113" class="Symbol">⦄</a> <a id="2115" href="Function.Base.html#1303" class="Function Operator">∘₂</a> <a id="2118" href="Effect.Theory.FirstOrder.html#2078" class="Bound">eq</a> <a id="2121" class="Symbol">.</a><a id="2122" href="Effect.Theory.FirstOrder.html#1901" class="Field">rhs</a><a id="2125" class="Symbol">)</a> 

<a id="2129" class="Comment">-- Equations are functors over the category of containers and container morphisms </a>
<a id="hmap-eq"></a><a id="2212" href="Effect.Theory.FirstOrder.html#2212" class="Function">hmap-eq</a> <a id="2220" class="Symbol">:</a> <a id="2222" href="Effect.Base.html#921" class="Generalizable">ε₁</a> <a id="2225" href="Core.Container.html#1619" class="Function Operator">↦</a> <a id="2227" href="Effect.Base.html#924" class="Generalizable">ε₂</a> <a id="2230" class="Symbol">→</a> <a id="2232" href="Effect.Theory.FirstOrder.html#1774" class="Record">Equation</a> <a id="2241" href="Effect.Base.html#921" class="Generalizable">ε₁</a> <a id="2244" class="Symbol">→</a> <a id="2246" href="Effect.Theory.FirstOrder.html#1774" class="Record">Equation</a> <a id="2255" href="Effect.Base.html#924" class="Generalizable">ε₂</a>
<a id="2258" href="Effect.Theory.FirstOrder.html#2212" class="Function">hmap-eq</a> <a id="2266" href="Effect.Theory.FirstOrder.html#2266" class="Bound">θ</a> <a id="2268" href="Effect.Theory.FirstOrder.html#2268" class="Bound">eq</a> <a id="2271" class="Symbol">=</a> <a id="2273" class="Symbol">(</a><a id="2274" href="Effect.Syntax.Free.html#1715" class="Function">hmap-free</a> <a id="2284" href="Effect.Theory.FirstOrder.html#2266" class="Bound">θ</a> <a id="2286" href="Function.Base.html#1303" class="Function Operator">∘₂</a> <a id="2289" href="Effect.Theory.FirstOrder.html#2268" class="Bound">eq</a> <a id="2292" class="Symbol">.</a><a id="2293" href="Effect.Theory.FirstOrder.html#1897" class="Field">lhs</a><a id="2296" class="Symbol">)</a> <a id="2298" href="Effect.Theory.FirstOrder.html#1823" class="InductiveConstructor Operator">≗</a> <a id="2300" class="Symbol">(</a><a id="2301" href="Effect.Syntax.Free.html#1715" class="Function">hmap-free</a> <a id="2311" href="Effect.Theory.FirstOrder.html#2266" class="Bound">θ</a> <a id="2313" href="Function.Base.html#1303" class="Function Operator">∘₂</a> <a id="2316" href="Effect.Theory.FirstOrder.html#2268" class="Bound">eq</a> <a id="2319" class="Symbol">.</a><a id="2320" href="Effect.Theory.FirstOrder.html#1901" class="Field">rhs</a><a id="2323" class="Symbol">)</a>

<a id="2326" class="Comment">-- We can re-brand equations over a given effect to equations for a different</a>
<a id="2404" class="Comment">-- but equivalent effect</a>
<a id="eq-resp-⇿"></a><a id="2429" href="Effect.Theory.FirstOrder.html#2429" class="Function">eq-resp-⇿</a> <a id="2439" class="Symbol">:</a> <a id="2441" href="Effect.Base.html#921" class="Generalizable">ε₁</a> <a id="2444" href="Core.Container.html#1725" class="Record Operator">⇿</a> <a id="2446" href="Effect.Base.html#924" class="Generalizable">ε₂</a> <a id="2449" class="Symbol">→</a> <a id="2451" href="Effect.Theory.FirstOrder.html#1774" class="Record">Equation</a> <a id="2460" href="Effect.Base.html#921" class="Generalizable">ε₁</a> <a id="2463" class="Symbol">→</a> <a id="2465" href="Effect.Theory.FirstOrder.html#1774" class="Record">Equation</a> <a id="2474" href="Effect.Base.html#924" class="Generalizable">ε₂</a>
<a id="2477" href="Effect.Theory.FirstOrder.html#2429" class="Function">eq-resp-⇿</a> <a id="2487" href="Effect.Theory.FirstOrder.html#2487" class="Bound">eq</a> <a id="2490" class="Symbol">=</a> <a id="2492" href="Effect.Theory.FirstOrder.html#2212" class="Function">hmap-eq</a> <a id="2500" class="Symbol">(</a><a id="2501" href="Effect.Theory.FirstOrder.html#2487" class="Bound">eq</a> <a id="2504" class="Symbol">.</a><a id="2505" href="Core.Container.html#1779" class="Field">equivalence</a> <a id="2517" class="Symbol">_</a> <a id="2519" class="Symbol">.</a><a id="2520" href="Function.Bundles.html#7394" class="Field">Inverse.to</a><a id="2530" class="Symbol">)</a> 

<a id="2534" class="Comment">-- We say that an algebra &quot;respects&quot; an equation if folding with that algebra</a>
<a id="2612" class="Comment">-- over both the left- and right-hand-side of the equation produces equal results</a>
<a id="Respects"></a><a id="2694" href="Effect.Theory.FirstOrder.html#2694" class="Function">Respects</a> <a id="2703" class="Symbol">:</a> <a id="2705" href="Core.Container.html#803" class="Record">Algebraᶜ</a> <a id="2714" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="2716" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="2718" class="Symbol">→</a> <a id="2720" href="Effect.Theory.FirstOrder.html#1774" class="Record">Equation</a> <a id="2729" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="2731" class="Symbol">→</a> <a id="2733" href="Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="2738" href="Effect.Theory.FirstOrder.html#2694" class="Function">Respects</a> <a id="2747" href="Effect.Theory.FirstOrder.html#2747" class="Bound">alg</a> <a id="2751" href="Effect.Theory.FirstOrder.html#2751" class="Bound">eq</a> <a id="2754" class="Symbol">=</a>
  <a id="2758" class="Symbol">∀</a> <a id="2760" class="Symbol">{</a><a id="2761" href="Effect.Theory.FirstOrder.html#2761" class="Bound">δ</a> <a id="2763" href="Effect.Theory.FirstOrder.html#2763" class="Bound">γ</a> <a id="2765" href="Effect.Theory.FirstOrder.html#2765" class="Bound">k</a><a id="2766" class="Symbol">}</a>
  <a id="2770" class="Symbol">→</a>   <a id="2774" href="Effect.Syntax.Free.html#946" class="Function">fold-free</a> <a id="2784" href="Effect.Theory.FirstOrder.html#2765" class="Bound">k</a> <a id="2786" href="Effect.Theory.FirstOrder.html#2747" class="Bound">alg</a> <a id="2790" class="Symbol">(</a><a id="2791" href="Effect.Theory.FirstOrder.html#2751" class="Bound">eq</a> <a id="2794" class="Symbol">.</a><a id="2795" href="Effect.Theory.FirstOrder.html#1897" class="Field">lhs</a> <a id="2799" href="Effect.Theory.FirstOrder.html#2761" class="Bound">δ</a> <a id="2801" href="Effect.Theory.FirstOrder.html#2763" class="Bound">γ</a><a id="2802" class="Symbol">)</a>
    <a id="2808" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2810" href="Effect.Syntax.Free.html#946" class="Function">fold-free</a> <a id="2820" href="Effect.Theory.FirstOrder.html#2765" class="Bound">k</a> <a id="2822" href="Effect.Theory.FirstOrder.html#2747" class="Bound">alg</a> <a id="2826" class="Symbol">(</a><a id="2827" href="Effect.Theory.FirstOrder.html#2751" class="Bound">eq</a> <a id="2830" class="Symbol">.</a><a id="2831" href="Effect.Theory.FirstOrder.html#1901" class="Field">rhs</a> <a id="2835" href="Effect.Theory.FirstOrder.html#2761" class="Bound">δ</a> <a id="2837" href="Effect.Theory.FirstOrder.html#2763" class="Bound">γ</a><a id="2838" class="Symbol">)</a> 

<a id="2842" class="Comment">-- Witnesses that an equations respects (extensional) equivalence of inclusion</a>
<a id="2921" class="Comment">-- witnesses</a>
<a id="2934" class="Comment">--</a>
<a id="2937" class="Comment">-- Equations are defined as a Kripke function space, and this requirement states</a>
<a id="3018" class="Comment">-- that the function used to define an equation can only *use* the fact that its</a>
<a id="3099" class="Comment">-- lower bound is included in the index, but not make any assumptions about</a>
<a id="3175" class="Comment">-- *how* this inclusion is constructed. In practice, we only use the inclusions</a>
<a id="3255" class="Comment">-- for injecting smart constructors, so it makes sense that extensional</a>
<a id="3327" class="Comment">-- equivalence of the witness used to inject results in identical trees.</a>
<a id="3400" class="Comment">--</a>
<a id="3403" class="Comment">-- (TODO) remark on the relation w/ functor laws for monotone predicates, which</a>
<a id="3483" class="Comment">-- would also be suffictient, but extremely tedious to maintain for every</a>
<a id="3557" class="Comment">-- predicate used throughout the development.</a>
<a id="3603" class="Keyword">record</a> <a id="Respects-⇔≲"></a><a id="3610" href="Effect.Theory.FirstOrder.html#3610" class="Record">Respects-⇔≲</a> <a id="3622" class="Symbol">{</a><a id="3623" href="Effect.Theory.FirstOrder.html#3623" class="Bound">P</a> <a id="3625" class="Symbol">:</a> <a id="3627" href="Effect.Base.html#735" class="Function">Effect</a> <a id="3634" class="Symbol">→</a> <a id="3636" href="Agda.Primitive.html#388" class="Primitive">Set₁</a><a id="3640" class="Symbol">}</a> <a id="3642" class="Symbol">(</a><a id="3643" href="Effect.Theory.FirstOrder.html#3643" class="Bound">x</a> <a id="3645" class="Symbol">:</a> <a id="3647" href="Core.Logic.html#2908" class="Record">□</a> <a id="3649" href="Effect.Theory.FirstOrder.html#3623" class="Bound">P</a> <a id="3651" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="3652" class="Symbol">)</a> <a id="3654" class="Symbol">:</a> <a id="3656" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> <a id="3661" class="Keyword">where</a>
  <a id="3669" class="Keyword">field</a>
    <a id="Respects-⇔≲.respects-⇔≲"></a><a id="3679" href="Effect.Theory.FirstOrder.html#3679" class="Field">respects-⇔≲</a> <a id="3691" class="Symbol">:</a> <a id="3693" class="Symbol">∀</a> <a id="3695" class="Symbol">(</a><a id="3696" href="Effect.Theory.FirstOrder.html#3696" class="Bound">i₁</a> <a id="3699" href="Effect.Theory.FirstOrder.html#3699" class="Bound">i₂</a> <a id="3702" class="Symbol">:</a> <a id="3704" href="Effect.Theory.FirstOrder.html#3651" class="Bound">ε</a> <a id="3706" href="Core.Ternary.html#666" class="Field Operator">≲</a> <a id="3708" href="Effect.Base.html#930" class="Generalizable">ε′</a><a id="3710" class="Symbol">)</a> <a id="3712" class="Symbol">→</a> <a id="3714" href="Effect.Theory.FirstOrder.html#3696" class="Bound">i₁</a> <a id="3717" href="Effect.Relation.Binary.FirstOrderInclusion.html#4100" class="Record Operator">⇔≲</a> <a id="3720" href="Effect.Theory.FirstOrder.html#3699" class="Bound">i₂</a> <a id="3723" class="Symbol">→</a>  <a id="3726" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="3729" href="Effect.Theory.FirstOrder.html#3643" class="Bound">x</a> <a id="3731" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="3733" href="Effect.Theory.FirstOrder.html#3696" class="Bound">i₁</a> <a id="3736" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3738" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="3741" href="Effect.Theory.FirstOrder.html#3643" class="Bound">x</a> <a id="3743" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="3745" href="Effect.Theory.FirstOrder.html#3699" class="Bound">i₂</a> 

<a id="3750" class="Keyword">open</a> <a id="3755" href="Effect.Theory.FirstOrder.html#3610" class="Module">Respects-⇔≲</a>

<a id="3768" class="Comment">-- A theory of an effect `ε` is simply a collection of equations</a>
<a id="3833" class="Comment">--</a>
<a id="3836" class="Comment">-- </a>
<a id="3840" class="Keyword">record</a> <a id="Theory"></a><a id="3847" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="3854" class="Symbol">(</a><a id="3855" href="Effect.Theory.FirstOrder.html#3855" class="Bound">ε</a> <a id="3857" class="Symbol">:</a> <a id="3859" href="Effect.Base.html#735" class="Function">Effect</a><a id="3865" class="Symbol">)</a> <a id="3867" class="Symbol">:</a> <a id="3869" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> <a id="3874" class="Keyword">where</a>
  <a id="3882" class="Keyword">field</a>
    <a id="Theory.arity"></a><a id="3892" href="Effect.Theory.FirstOrder.html#3892" class="Field">arity</a>  <a id="3899" class="Symbol">:</a> <a id="3901" href="Agda.Primitive.html#388" class="Primitive">Set</a> 
    <a id="Theory.eqs"></a><a id="3910" href="Effect.Theory.FirstOrder.html#3910" class="Field">eqs</a>    <a id="3917" class="Symbol">:</a> <a id="3919" href="Effect.Theory.FirstOrder.html#3892" class="Field">arity</a> <a id="3925" class="Symbol">→</a> <a id="3927" href="Core.Logic.html#2908" class="Record">□</a> <a id="3929" href="Effect.Theory.FirstOrder.html#1774" class="Record">Equation</a> <a id="3938" href="Effect.Theory.FirstOrder.html#3855" class="Bound">ε</a>
    <a id="Theory.lawful"></a><a id="3944" href="Effect.Theory.FirstOrder.html#3944" class="Field">lawful</a> <a id="3951" class="Symbol">:</a> <a id="3953" href="Relation.Unary.html#3629" class="Function">∀[</a> <a id="3956" href="Effect.Theory.FirstOrder.html#3910" class="Field">eqs</a> <a id="3960" href="Relation.Unary.html#5366" class="Function Operator">⊢</a> <a id="3962" href="Effect.Theory.FirstOrder.html#3610" class="Record">Respects-⇔≲</a> <a id="3974" href="Relation.Unary.html#3629" class="Function">]</a>

<a id="3977" class="Keyword">open</a> <a id="3982" href="Effect.Theory.FirstOrder.html#3847" class="Module">Theory</a> <a id="3989" class="Keyword">public</a>

<a id="3997" class="Keyword">instance</a> <a id="ext-theory-monotone"></a><a id="4006" href="Effect.Theory.FirstOrder.html#4006" class="Function">ext-theory-monotone</a> <a id="4026" class="Symbol">:</a> <a id="4028" href="Core.MonotonePredicate.html#1406" class="Record">Monotone</a> <a id="4037" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a>
<a id="4044" href="Effect.Theory.FirstOrder.html#3892" class="Field">arity</a>  <a id="4051" class="Symbol">(</a><a id="4052" href="Effect.Theory.FirstOrder.html#4006" class="Function">ext-theory-monotone</a> <a id="4072" class="Symbol">.</a><a id="4073" href="Core.MonotonePredicate.html#1472" class="Field">weaken</a> <a id="4080" href="Effect.Theory.FirstOrder.html#4080" class="Bound">i</a> <a id="4082" href="Effect.Theory.FirstOrder.html#4082" class="Bound">T</a><a id="4083" class="Symbol">)</a>                       <a id="4107" class="Symbol">=</a> <a id="4109" href="Effect.Theory.FirstOrder.html#4082" class="Bound">T</a> <a id="4111" class="Symbol">.</a><a id="4112" href="Effect.Theory.FirstOrder.html#3892" class="Field">arity</a>
<a id="4118" href="Effect.Theory.FirstOrder.html#3910" class="Field">eqs</a>    <a id="4125" class="Symbol">(</a><a id="4126" href="Effect.Theory.FirstOrder.html#4006" class="Function">ext-theory-monotone</a> <a id="4146" class="Symbol">.</a><a id="4147" href="Core.MonotonePredicate.html#1472" class="Field">weaken</a> <a id="4154" href="Effect.Theory.FirstOrder.html#4154" class="Bound">i</a> <a id="4156" href="Effect.Theory.FirstOrder.html#4156" class="Bound">T</a><a id="4157" class="Symbol">)</a>                       <a id="4181" class="Symbol">=</a> <a id="4183" class="Symbol">λ</a> <a id="4185" href="Effect.Theory.FirstOrder.html#4185" class="Bound">a</a> <a id="4187" class="Symbol">→</a> <a id="4189" href="Core.Logic.html#2981" class="InductiveConstructor">necessary</a> <a id="4199" class="Symbol">λ</a> <a id="4201" href="Effect.Theory.FirstOrder.html#4201" class="Bound">i′</a> <a id="4204" class="Symbol">→</a> <a id="4206" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="4209" href="Effect.Theory.FirstOrder.html#4156" class="Bound">T</a> <a id="4211" class="Symbol">.</a><a id="4212" href="Effect.Theory.FirstOrder.html#3910" class="Field">eqs</a> <a id="4216" href="Effect.Theory.FirstOrder.html#4185" class="Bound">a</a> <a id="4218" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="4220" href="Effect.Relation.Binary.FirstOrderInclusion.html#889" class="Function">≲-trans</a> <a id="4228" href="Effect.Theory.FirstOrder.html#4154" class="Bound">i</a> <a id="4230" href="Effect.Theory.FirstOrder.html#4201" class="Bound">i′</a>
<a id="4233" href="Effect.Theory.FirstOrder.html#3944" class="Field">lawful</a> <a id="4240" class="Symbol">(</a><a id="4241" href="Effect.Theory.FirstOrder.html#4006" class="Function">ext-theory-monotone</a> <a id="4261" class="Symbol">.</a><a id="4262" href="Core.MonotonePredicate.html#1472" class="Field">weaken</a> <a id="4269" href="Effect.Theory.FirstOrder.html#4269" class="Bound">i</a> <a id="4271" href="Effect.Theory.FirstOrder.html#4271" class="Bound">T</a><a id="4272" class="Symbol">)</a> <a id="4274" class="Symbol">.</a><a id="4275" href="Effect.Theory.FirstOrder.html#3679" class="Field">respects-⇔≲</a> <a id="4287" href="Effect.Theory.FirstOrder.html#4287" class="Bound">i₁</a> <a id="4290" href="Effect.Theory.FirstOrder.html#4290" class="Bound">i₂</a> <a id="4293" href="Effect.Theory.FirstOrder.html#4293" class="Bound">eq</a> <a id="4296" class="Symbol">=</a> <a id="4298" href="Effect.Theory.FirstOrder.html#4271" class="Bound">T</a> <a id="4300" class="Symbol">.</a><a id="4301" href="Effect.Theory.FirstOrder.html#3944" class="Field">lawful</a> <a id="4308" class="Symbol">.</a><a id="4309" href="Effect.Theory.FirstOrder.html#3679" class="Field">respects-⇔≲</a> <a id="4321" class="Symbol">_</a> <a id="4323" class="Symbol">_</a> <a id="4325" class="Symbol">(</a><a id="4326" href="Effect.Relation.Binary.FirstOrderInclusion.html#5279" class="Function">⇔≲-trans-congᵣ</a> <a id="4341" href="Effect.Theory.FirstOrder.html#4269" class="Bound">i</a> <a id="4343" href="Effect.Theory.FirstOrder.html#4287" class="Bound">i₁</a> <a id="4346" href="Effect.Theory.FirstOrder.html#4290" class="Bound">i₂</a> <a id="4349" href="Effect.Theory.FirstOrder.html#4293" class="Bound">eq</a><a id="4351" class="Symbol">)</a>

<a id="4354" class="Keyword">infix</a> <a id="4360" class="Number">2</a> <a id="4362" href="Effect.Theory.FirstOrder.html#4433" class="Function Operator">_◂_</a>
<a id="4366" class="Comment">-- A predicate asserting that a given equation is part of a theory</a>
<a id="_◂_"></a><a id="4433" href="Effect.Theory.FirstOrder.html#4433" class="Function Operator">_◂_</a> <a id="4437" class="Symbol">:</a> <a id="4439" href="Core.Logic.html#2908" class="Record">□</a> <a id="4441" href="Effect.Theory.FirstOrder.html#1774" class="Record">Equation</a> <a id="4450" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="4452" class="Symbol">→</a> <a id="4454" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="4461" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="4463" class="Symbol">→</a> <a id="4465" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> 
<a id="4471" href="Effect.Theory.FirstOrder.html#4471" class="Bound">eq</a> <a id="4474" href="Effect.Theory.FirstOrder.html#4433" class="Function Operator">◂</a> <a id="4476" href="Effect.Theory.FirstOrder.html#4476" class="Bound">T</a> <a id="4478" class="Symbol">=</a> <a id="4480" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="4482" class="Symbol">λ</a> <a id="4484" href="Effect.Theory.FirstOrder.html#4484" class="Bound">a</a> <a id="4486" class="Symbol">→</a> <a id="4488" href="Effect.Theory.FirstOrder.html#4476" class="Bound">T</a> <a id="4490" class="Symbol">.</a><a id="4491" href="Effect.Theory.FirstOrder.html#3910" class="Field">eqs</a> <a id="4495" href="Effect.Theory.FirstOrder.html#4484" class="Bound">a</a> <a id="4497" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4499" href="Effect.Theory.FirstOrder.html#4471" class="Bound">eq</a>

<a id="4503" class="Comment">-- Heterogeneous theory inclusion</a>
<a id="4537" class="Keyword">module</a> <a id="4544" href="Effect.Theory.FirstOrder.html#4544" class="Module">_</a> <a id="4546" class="Keyword">where</a>

  <a id="4555" class="Comment">-- Use a record to help type inference </a>
  <a id="4597" class="Keyword">record</a> <a id="4604" href="Effect.Theory.FirstOrder.html#4604" class="Record Operator">_≪_</a> <a id="4608" class="Symbol">(</a><a id="4609" href="Effect.Theory.FirstOrder.html#4609" class="Bound">T₁</a> <a id="4612" class="Symbol">:</a> <a id="4614" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="4621" href="Effect.Base.html#921" class="Generalizable">ε₁</a><a id="4623" class="Symbol">)</a> <a id="4625" class="Symbol">(</a><a id="4626" href="Effect.Theory.FirstOrder.html#4626" class="Bound">T₂</a> <a id="4629" class="Symbol">:</a> <a id="4631" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="4638" href="Effect.Base.html#924" class="Generalizable">ε₂</a><a id="4640" class="Symbol">)</a> <a id="4642" class="Symbol">:</a> <a id="4644" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> <a id="4649" class="Keyword">where</a>
    <a id="4659" class="Keyword">field</a>
      <a id="4671" class="Symbol">⦃</a> <a id="4673" href="Effect.Theory.FirstOrder.html#4673" class="Field">≲-eff</a> <a id="4679" class="Symbol">⦄</a> <a id="4681" class="Symbol">:</a> <a id="4683" href="Effect.Theory.FirstOrder.html#4621" class="Bound">ε₁</a> <a id="4686" href="Core.Ternary.html#666" class="Field Operator">≲</a> <a id="4688" href="Effect.Theory.FirstOrder.html#4638" class="Bound">ε₂</a>
      <a id="4697" href="Effect.Theory.FirstOrder.html#4697" class="Field">sub</a>     <a id="4705" class="Symbol">:</a> <a id="4707" class="Symbol">∀</a> <a id="4709" class="Symbol">{</a><a id="4710" href="Effect.Theory.FirstOrder.html#4710" class="Bound">eq</a><a id="4712" class="Symbol">}</a> 
              <a id="4729" class="Symbol">→</a> <a id="4731" href="Effect.Theory.FirstOrder.html#4710" class="Bound">eq</a> <a id="4734" href="Effect.Theory.FirstOrder.html#4433" class="Function Operator">◂</a> <a id="4736" href="Effect.Theory.FirstOrder.html#4609" class="Bound">T₁</a>
              <a id="4753" class="Symbol">→</a> <a id="4755" href="Core.Logic.html#2981" class="InductiveConstructor">necessary</a> <a id="4765" class="Symbol">(λ</a> <a id="4768" href="Effect.Theory.FirstOrder.html#4768" class="Bound">i</a> <a id="4770" class="Symbol">→</a> <a id="4772" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="4775" href="Effect.Theory.FirstOrder.html#4710" class="Bound">eq</a> <a id="4778" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="4780" href="Effect.Relation.Binary.FirstOrderInclusion.html#889" class="Function">≲-trans</a> <a id="4788" href="Effect.Theory.FirstOrder.html#4673" class="Field">≲-eff</a> <a id="4794" href="Effect.Theory.FirstOrder.html#4768" class="Bound">i</a><a id="4795" class="Symbol">)</a> <a id="4797" href="Effect.Theory.FirstOrder.html#4433" class="Function Operator">◂</a> <a id="4799" href="Effect.Theory.FirstOrder.html#4626" class="Bound">T₂</a> 

  <a id="4806" class="Keyword">open</a> <a id="4811" href="Effect.Theory.FirstOrder.html#4604" class="Module Operator">_≪_</a> <a id="4815" class="Keyword">public</a> 


  <a id="4827" class="Comment">-- The following two lemmas witness that heterogeneous theory inclusion</a>
  <a id="4901" class="Comment">-- is a preorder</a>

  <a id="4921" class="Keyword">module</a> <a id="4928" href="Effect.Theory.FirstOrder.html#4928" class="Module">_</a> <a id="4930" class="Symbol">{</a><a id="4931" href="Effect.Theory.FirstOrder.html#4931" class="Bound">T</a> <a id="4933" class="Symbol">:</a> <a id="4935" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="4942" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="4943" class="Symbol">}</a> <a id="4945" class="Keyword">where</a>


    <a id="4957" href="Effect.Theory.FirstOrder.html#4957" class="Function">≪-refl</a> <a id="4964" class="Symbol">:</a> <a id="4966" href="Effect.Theory.FirstOrder.html#4931" class="Bound">T</a> <a id="4968" href="Effect.Theory.FirstOrder.html#4604" class="Record Operator">≪</a> <a id="4970" href="Effect.Theory.FirstOrder.html#4931" class="Bound">T</a>
    <a id="4976" href="Effect.Theory.FirstOrder.html#4673" class="Field">≲-eff</a> <a id="4982" href="Effect.Theory.FirstOrder.html#4957" class="Function">≪-refl</a> <a id="4989" class="Symbol">=</a> <a id="4991" href="Effect.Relation.Binary.FirstOrderInclusion.html#844" class="Function">≲-refl</a>
    <a id="5002" href="Effect.Theory.FirstOrder.html#4697" class="Field">sub</a> <a id="5006" href="Effect.Theory.FirstOrder.html#4957" class="Function">≪-refl</a> <a id="5013" class="Symbol">(</a><a id="5014" href="Effect.Theory.FirstOrder.html#5014" class="Bound">a</a> <a id="5016" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5018" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5022" class="Symbol">)</a> <a id="5024" class="Symbol">=</a> <a id="5026" href="Effect.Theory.FirstOrder.html#5014" class="Bound">a</a> <a id="5028" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5030" class="Symbol">(</a>
      <a id="5038" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
        <a id="5052" href="Effect.Theory.FirstOrder.html#4931" class="Bound">T</a> <a id="5054" class="Symbol">.</a><a id="5055" href="Effect.Theory.FirstOrder.html#3910" class="Field">eqs</a> <a id="5059" href="Effect.Theory.FirstOrder.html#5014" class="Bound">a</a>
      <a id="5067" href="Relation.Binary.Reasoning.Syntax.html#11017" class="Function">≡⟨⟩</a>
        <a id="5079" class="Symbol">(</a><a id="5080" href="Core.Logic.html#2981" class="InductiveConstructor">necessary</a> <a id="5090" class="Symbol">λ</a> <a id="5092" href="Effect.Theory.FirstOrder.html#5092" class="Bound">i</a> <a id="5094" class="Symbol">→</a> <a id="5096" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="5099" href="Effect.Theory.FirstOrder.html#4931" class="Bound">T</a> <a id="5101" class="Symbol">.</a><a id="5102" href="Effect.Theory.FirstOrder.html#3910" class="Field">eqs</a> <a id="5106" href="Effect.Theory.FirstOrder.html#5014" class="Bound">a</a> <a id="5108" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="5110" href="Effect.Theory.FirstOrder.html#5092" class="Bound">i</a><a id="5111" class="Symbol">)</a> 
      <a id="5120" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="5123" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="5128" class="Symbol">(λ</a> <a id="5131" href="Effect.Theory.FirstOrder.html#5131" class="Bound">○</a> <a id="5133" class="Symbol">→</a> <a id="5135" href="Core.Logic.html#2981" class="InductiveConstructor">necessary</a> <a id="5145" class="Symbol">λ</a> <a id="5147" class="Symbol">{</a><a id="5148" href="Effect.Theory.FirstOrder.html#5148" class="Bound">ε</a><a id="5149" class="Symbol">}</a> <a id="5151" class="Symbol">→</a> <a id="5153" href="Effect.Theory.FirstOrder.html#5131" class="Bound">○</a> <a id="5155" href="Effect.Theory.FirstOrder.html#5148" class="Bound">ε</a><a id="5156" class="Symbol">)</a> <a id="5158" class="Symbol">(</a><a id="5159" href="Core.Extensionality.html#365" class="Function">pfext</a> <a id="5165" class="Symbol">_</a> <a id="5167" class="Symbol">_</a> <a id="5169" class="Symbol">λ</a> <a id="5171" href="Effect.Theory.FirstOrder.html#5171" class="Bound">ε</a> <a id="5173" class="Symbol">→</a> <a id="5175" href="Core.Extensionality.html#365" class="Function">pfext</a> <a id="5181" class="Symbol">_</a> <a id="5183" class="Symbol">_</a> <a id="5185" class="Symbol">λ</a> <a id="5187" href="Effect.Theory.FirstOrder.html#5187" class="Bound">i</a> <a id="5189" class="Symbol">→</a> <a id="5191" href="Effect.Theory.FirstOrder.html#3679" class="Field">respects-⇔≲</a> <a id="5203" class="Symbol">(</a><a id="5204" href="Effect.Theory.FirstOrder.html#4931" class="Bound">T</a> <a id="5206" class="Symbol">.</a><a id="5207" href="Effect.Theory.FirstOrder.html#3944" class="Field">lawful</a><a id="5213" class="Symbol">)</a> <a id="5215" href="Effect.Theory.FirstOrder.html#5187" class="Bound">i</a> <a id="5217" class="Symbol">_</a> <a id="5219" class="Symbol">(</a><a id="5220" href="Effect.Relation.Binary.FirstOrderInclusion.html#4387" class="Function">⇔≲-sym</a> <a id="5227" class="Symbol">_</a> <a id="5229" class="Symbol">_</a> <a id="5231" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="5233" class="Symbol">(</a><a id="5234" href="Effect.Relation.Binary.FirstOrderInclusion.html#4732" class="Function">⇔≲-identityˡ</a> <a id="5247" href="Effect.Theory.FirstOrder.html#5187" class="Bound">i</a><a id="5248" class="Symbol">)))</a> <a id="5252" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="5262" href="Core.Logic.html#2981" class="InductiveConstructor">necessary</a> <a id="5272" class="Symbol">(λ</a> <a id="5275" href="Effect.Theory.FirstOrder.html#5275" class="Bound">i′</a> <a id="5278" class="Symbol">→</a> <a id="5280" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="5283" href="Effect.Theory.FirstOrder.html#4931" class="Bound">T</a> <a id="5285" class="Symbol">.</a><a id="5286" href="Effect.Theory.FirstOrder.html#3910" class="Field">eqs</a> <a id="5290" href="Effect.Theory.FirstOrder.html#5014" class="Bound">a</a> <a id="5292" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="5294" href="Effect.Relation.Binary.FirstOrderInclusion.html#889" class="Function">≲-trans</a> <a id="5302" class="Symbol">(</a><a id="5303" href="Effect.Theory.FirstOrder.html#4673" class="Field">≲-eff</a> <a id="5309" href="Effect.Theory.FirstOrder.html#4957" class="Function">≪-refl</a><a id="5315" class="Symbol">)</a> <a id="5317" href="Effect.Theory.FirstOrder.html#5275" class="Bound">i′</a><a id="5319" class="Symbol">)</a>
      <a id="5327" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a> <a id="5329" class="Symbol">)</a> 
      <a id="5338" class="Keyword">where</a> <a id="5344" class="Keyword">open</a> <a id="5349" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">≡-Reasoning</a> 

  <a id="5365" class="Keyword">module</a> <a id="5372" href="Effect.Theory.FirstOrder.html#5372" class="Module">_</a> <a id="5374" class="Symbol">{</a><a id="5375" href="Effect.Theory.FirstOrder.html#5375" class="Bound">T₁</a> <a id="5378" class="Symbol">:</a> <a id="5380" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="5387" href="Effect.Base.html#921" class="Generalizable">ε₁</a><a id="5389" class="Symbol">}</a> <a id="5391" class="Symbol">{</a><a id="5392" href="Effect.Theory.FirstOrder.html#5392" class="Bound">T₂</a> <a id="5395" class="Symbol">:</a> <a id="5397" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="5404" href="Effect.Base.html#924" class="Generalizable">ε₂</a><a id="5406" class="Symbol">}</a> <a id="5408" class="Symbol">{</a><a id="5409" href="Effect.Theory.FirstOrder.html#5409" class="Bound">T₃</a> <a id="5412" class="Symbol">:</a> <a id="5414" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="5421" href="Effect.Base.html#927" class="Generalizable">ε₃</a><a id="5423" class="Symbol">}</a> <a id="5425" class="Keyword">where</a>

    <a id="5436" href="Effect.Theory.FirstOrder.html#5436" class="Function">≪-trans</a> <a id="5444" class="Symbol">:</a> <a id="5446" href="Effect.Theory.FirstOrder.html#5375" class="Bound">T₁</a> <a id="5449" href="Effect.Theory.FirstOrder.html#4604" class="Record Operator">≪</a> <a id="5451" href="Effect.Theory.FirstOrder.html#5392" class="Bound">T₂</a> <a id="5454" class="Symbol">→</a> <a id="5456" href="Effect.Theory.FirstOrder.html#5392" class="Bound">T₂</a> <a id="5459" href="Effect.Theory.FirstOrder.html#4604" class="Record Operator">≪</a> <a id="5461" href="Effect.Theory.FirstOrder.html#5409" class="Bound">T₃</a> <a id="5464" class="Symbol">→</a> <a id="5466" href="Effect.Theory.FirstOrder.html#5375" class="Bound">T₁</a> <a id="5469" href="Effect.Theory.FirstOrder.html#4604" class="Record Operator">≪</a> <a id="5471" href="Effect.Theory.FirstOrder.html#5409" class="Bound">T₃</a>
    <a id="5478" href="Effect.Theory.FirstOrder.html#4673" class="Field">≲-eff</a> <a id="5484" class="Symbol">(</a><a id="5485" href="Effect.Theory.FirstOrder.html#5436" class="Function">≪-trans</a> <a id="5493" href="Effect.Theory.FirstOrder.html#5493" class="Bound">sub₁</a> <a id="5498" href="Effect.Theory.FirstOrder.html#5498" class="Bound">sub₂</a><a id="5502" class="Symbol">)</a> <a id="5504" class="Symbol">=</a> <a id="5506" href="Effect.Relation.Binary.FirstOrderInclusion.html#889" class="Function">≲-trans</a> <a id="5514" class="Symbol">(</a><a id="5515" href="Effect.Theory.FirstOrder.html#5493" class="Bound">sub₁</a> <a id="5520" class="Symbol">.</a><a id="5521" href="Effect.Theory.FirstOrder.html#4673" class="Field">≲-eff</a><a id="5526" class="Symbol">)</a> <a id="5528" class="Symbol">(</a><a id="5529" href="Effect.Theory.FirstOrder.html#5498" class="Bound">sub₂</a> <a id="5534" class="Symbol">.</a><a id="5535" href="Effect.Theory.FirstOrder.html#4673" class="Field">≲-eff</a><a id="5540" class="Symbol">)</a>
    <a id="5546" href="Effect.Theory.FirstOrder.html#4697" class="Field">sub</a>   <a id="5552" class="Symbol">(</a><a id="5553" href="Effect.Theory.FirstOrder.html#5436" class="Function">≪-trans</a> <a id="5561" href="Effect.Theory.FirstOrder.html#5561" class="Bound">sub₁</a> <a id="5566" href="Effect.Theory.FirstOrder.html#5566" class="Bound">sub₂</a><a id="5570" class="Symbol">)</a> <a id="5572" class="Symbol">(</a><a id="5573" href="Effect.Theory.FirstOrder.html#5573" class="Bound">a</a> <a id="5575" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5577" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5581" class="Symbol">)</a> <a id="5583" class="Keyword">with</a> <a id="5588" href="Effect.Theory.FirstOrder.html#5561" class="Bound">sub₁</a> <a id="5593" class="Symbol">.</a><a id="5594" href="Effect.Theory.FirstOrder.html#4697" class="Field">sub</a> <a id="5598" class="Symbol">(</a><a id="5599" href="Effect.Theory.FirstOrder.html#5573" class="Bound">a</a> <a id="5601" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5603" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5607" class="Symbol">)</a>
    <a id="5613" href="Effect.Theory.FirstOrder.html#4697" class="Field">sub</a>   <a id="5619" class="Symbol">(</a><a id="5620" href="Effect.Theory.FirstOrder.html#5436" class="Function">≪-trans</a> <a id="5628" href="Effect.Theory.FirstOrder.html#5628" class="Bound">sub₁</a> <a id="5633" href="Effect.Theory.FirstOrder.html#5633" class="Bound">sub₂</a><a id="5637" class="Symbol">)</a> <a id="5639" class="Symbol">(</a><a id="5640" href="Effect.Theory.FirstOrder.html#5640" class="Bound">a</a>  <a id="5643" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5645" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5649" class="Symbol">)</a>
      <a id="5657" class="Symbol">|</a> <a id="5659" href="Effect.Theory.FirstOrder.html#5659" class="Bound">a′</a> <a id="5662" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5664" href="Effect.Theory.FirstOrder.html#5664" class="Bound">eq′</a> <a id="5668" class="Keyword">with</a> <a id="5673" href="Effect.Theory.FirstOrder.html#5633" class="Bound">sub₂</a> <a id="5678" class="Symbol">.</a><a id="5679" href="Effect.Theory.FirstOrder.html#4697" class="Field">sub</a> <a id="5683" class="Symbol">(</a><a id="5684" href="Effect.Theory.FirstOrder.html#5659" class="Bound">a′</a> <a id="5687" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5689" href="Effect.Theory.FirstOrder.html#5664" class="Bound">eq′</a><a id="5692" class="Symbol">)</a>
    <a id="5698" class="Symbol">...</a> <a id="5702" class="Symbol">|</a> <a id="5704" href="Effect.Theory.FirstOrder.html#5704" class="Bound">a′′</a> <a id="5708" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5710" href="Effect.Theory.FirstOrder.html#5710" class="Bound">eq′′</a> <a id="5715" class="Symbol">=</a> <a id="5717" href="Effect.Theory.FirstOrder.html#5704" class="Bound">a′′</a> <a id="5721" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5723" class="Symbol">(</a>
      <a id="5731" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
        <a id="5745" href="Effect.Theory.FirstOrder.html#5409" class="Bound">T₃</a> <a id="5748" class="Symbol">.</a><a id="5749" href="Effect.Theory.FirstOrder.html#3910" class="Field">eqs</a> <a id="5753" href="Effect.Theory.FirstOrder.html#5704" class="Bound">a′′</a>
      <a id="5763" href="Relation.Binary.Reasoning.Syntax.html#11017" class="Function">≡⟨⟩</a>
        <a id="5775" href="Core.Logic.html#2981" class="InductiveConstructor">necessary</a> <a id="5785" class="Symbol">(λ</a> <a id="5788" href="Effect.Theory.FirstOrder.html#5788" class="Bound">i</a> <a id="5790" class="Symbol">→</a> <a id="5792" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="5795" href="Effect.Theory.FirstOrder.html#5409" class="Bound">T₃</a> <a id="5798" class="Symbol">.</a><a id="5799" href="Effect.Theory.FirstOrder.html#3910" class="Field">eqs</a> <a id="5803" href="Effect.Theory.FirstOrder.html#5704" class="Bound">a′′</a> <a id="5807" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="5809" href="Effect.Theory.FirstOrder.html#5788" class="Bound">i</a><a id="5810" class="Symbol">)</a>
      <a id="5818" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="5821" href="Effect.Theory.FirstOrder.html#5710" class="Bound">eq′′</a> <a id="5826" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a> 
        <a id="5837" class="Symbol">(</a><a id="5838" href="Core.Logic.html#2981" class="InductiveConstructor">necessary</a> <a id="5848" class="Symbol">λ</a> <a id="5850" href="Effect.Theory.FirstOrder.html#5850" class="Bound">i</a> <a id="5852" class="Symbol">→</a> <a id="5854" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="5857" href="Effect.Theory.FirstOrder.html#5375" class="Bound">T₁</a> <a id="5860" class="Symbol">.</a><a id="5861" href="Effect.Theory.FirstOrder.html#3910" class="Field">eqs</a> <a id="5865" class="Bound">a</a> <a id="5867" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="5869" href="Effect.Relation.Binary.FirstOrderInclusion.html#889" class="Function">≲-trans</a> <a id="5877" class="Symbol">(</a><a id="5878" class="Bound">sub₁</a> <a id="5883" class="Symbol">.</a><a id="5884" href="Effect.Theory.FirstOrder.html#4673" class="Field">≲-eff</a><a id="5889" class="Symbol">)</a> <a id="5891" class="Symbol">(</a><a id="5892" href="Effect.Relation.Binary.FirstOrderInclusion.html#889" class="Function">≲-trans</a> <a id="5900" class="Symbol">(</a><a id="5901" class="Bound">sub₂</a> <a id="5906" class="Symbol">.</a><a id="5907" href="Effect.Theory.FirstOrder.html#4673" class="Field">≲-eff</a><a id="5912" class="Symbol">)</a> <a id="5914" href="Effect.Theory.FirstOrder.html#5850" class="Bound">i</a><a id="5915" class="Symbol">))</a>
      <a id="5924" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="5927" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a>
           <a id="5943" class="Symbol">(λ</a> <a id="5946" href="Effect.Theory.FirstOrder.html#5946" class="Bound">○</a> <a id="5948" class="Symbol">→</a> <a id="5950" href="Core.Logic.html#2981" class="InductiveConstructor">necessary</a> <a id="5960" class="Symbol">λ</a> <a id="5962" class="Symbol">{</a><a id="5963" href="Effect.Theory.FirstOrder.html#5963" class="Bound">ε</a><a id="5964" class="Symbol">}</a> <a id="5966" class="Symbol">→</a> <a id="5968" href="Effect.Theory.FirstOrder.html#5946" class="Bound">○</a> <a id="5970" href="Effect.Theory.FirstOrder.html#5963" class="Bound">ε</a><a id="5971" class="Symbol">)</a>
           <a id="5984" class="Symbol">(</a><a id="5985" href="Core.Extensionality.html#365" class="Function">pfext</a> <a id="5991" class="Symbol">_</a> <a id="5993" class="Symbol">_</a> <a id="5995" class="Symbol">λ</a> <a id="5997" href="Effect.Theory.FirstOrder.html#5997" class="Bound">ε</a> <a id="5999" class="Symbol">→</a> <a id="6001" href="Core.Extensionality.html#365" class="Function">pfext</a> <a id="6007" class="Symbol">_</a> <a id="6009" class="Symbol">_</a> <a id="6011" class="Symbol">λ</a> <a id="6013" href="Effect.Theory.FirstOrder.html#6013" class="Bound">i</a> <a id="6015" class="Symbol">→</a> <a id="6017" href="Effect.Theory.FirstOrder.html#3679" class="Field">respects-⇔≲</a> <a id="6029" class="Symbol">(</a><a id="6030" href="Effect.Theory.FirstOrder.html#5375" class="Bound">T₁</a> <a id="6033" class="Symbol">.</a><a id="6034" href="Effect.Theory.FirstOrder.html#3944" class="Field">lawful</a><a id="6040" class="Symbol">)</a> <a id="6042" class="Symbol">_</a> <a id="6044" class="Symbol">_</a> <a id="6046" class="Symbol">(</a><a id="6047" href="Effect.Relation.Binary.FirstOrderInclusion.html#4387" class="Function">⇔≲-sym</a> <a id="6054" class="Symbol">_</a> <a id="6056" class="Symbol">_</a> <a id="6058" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6060" href="Effect.Relation.Binary.FirstOrderInclusion.html#4930" class="Function">⇔≲-assoc</a> <a id="6069" class="Symbol">(</a><a id="6070" class="Bound">sub₁</a> <a id="6075" class="Symbol">.</a><a id="6076" href="Effect.Theory.FirstOrder.html#4673" class="Field">≲-eff</a><a id="6081" class="Symbol">)</a> <a id="6083" class="Symbol">(</a><a id="6084" class="Bound">sub₂</a> <a id="6089" class="Symbol">.</a><a id="6090" href="Effect.Theory.FirstOrder.html#4673" class="Field">≲-eff</a><a id="6095" class="Symbol">)</a> <a id="6097" href="Effect.Theory.FirstOrder.html#6013" class="Bound">i</a><a id="6098" class="Symbol">))</a> 
        <a id="6110" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a> 
        <a id="6121" href="Core.Logic.html#2981" class="InductiveConstructor">necessary</a> <a id="6131" class="Symbol">(λ</a> <a id="6134" href="Effect.Theory.FirstOrder.html#6134" class="Bound">i</a> <a id="6136" class="Symbol">→</a> <a id="6138" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="6141" href="Effect.Theory.FirstOrder.html#5375" class="Bound">T₁</a> <a id="6144" class="Symbol">.</a><a id="6145" href="Effect.Theory.FirstOrder.html#3910" class="Field">eqs</a> <a id="6149" class="Bound">a</a> <a id="6151" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="6153" href="Effect.Relation.Binary.FirstOrderInclusion.html#889" class="Function">≲-trans</a> <a id="6161" class="Symbol">(</a><a id="6162" href="Effect.Relation.Binary.FirstOrderInclusion.html#889" class="Function">≲-trans</a> <a id="6170" class="Symbol">(</a><a id="6171" class="Bound">sub₁</a> <a id="6176" class="Symbol">.</a><a id="6177" href="Effect.Theory.FirstOrder.html#4673" class="Field">≲-eff</a><a id="6182" class="Symbol">)</a> <a id="6184" class="Symbol">(</a><a id="6185" class="Bound">sub₂</a> <a id="6190" class="Symbol">.</a><a id="6191" href="Effect.Theory.FirstOrder.html#4673" class="Field">≲-eff</a><a id="6196" class="Symbol">))</a> <a id="6199" href="Effect.Theory.FirstOrder.html#6134" class="Bound">i</a><a id="6200" class="Symbol">)</a>
      <a id="6208" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a> <a id="6210" class="Symbol">)</a>
      <a id="6218" class="Keyword">where</a> <a id="6224" class="Keyword">open</a> <a id="6229" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">≡-Reasoning</a> 
  
<a id="6245" class="Comment">-- eq-lawful :</a>
<a id="6260" class="Comment">--   ∀ {ε}</a>
<a id="6271" class="Comment">--   → {ctx ret : {Effect} → TypeContext Δ → Set}</a>
<a id="6321" class="Comment">--   → {lhs rhs : {ε′ : Effect} → ⦃ ε ≲ ε′ ⦄ → Π[ ctx {ε′} ⇒ ret {ε′} ⊢ Free ε′ ]}</a>
<a id="6404" class="Comment">--   → ( ∀ {ε′}</a>
<a id="6420" class="Comment">--       → (i₁ i₂ : ε ≲ ε′) {δ : TypeContext Δ} {γ : ctx δ}</a>
<a id="6480" class="Comment">--       → i₁ ⇔≲ i₂ </a>
<a id="6501" class="Comment">--       → lhs ⦃ i₁ ⦄ δ γ ≡ lhs ⦃ i₂ ⦄ δ γ</a>
<a id="6544" class="Comment">--     )</a>
<a id="6553" class="Comment">--   → ( ∀ {ε′}</a>
<a id="6569" class="Comment">--       → (i₁ i₂ : ε ≲ ε′) {δ : TypeContext Δ} {γ : ctx δ}</a>
<a id="6629" class="Comment">--       → i₁ ⇔≲ i₂ </a>
<a id="6650" class="Comment">--       → rhs ⦃ i₁ ⦄ δ γ ≡ rhs ⦃ i₂ ⦄ δ γ</a>
<a id="6693" class="Comment">--     )</a>
<a id="6702" class="Comment">--     ------------------------------------------------------</a>
<a id="6764" class="Comment">--   → Respects-⇔≲ (necessary λ {ε} i → lhs ⦃ i ⦄ ≗ rhs ⦃ i ⦄)</a>
<a id="6827" class="Comment">-- respects-⇔≲ (eq-lawful l r) i₁ i₂ eqv =</a>
<a id="6870" class="Comment">--   cong₂ _≗_</a>
<a id="6885" class="Comment">--     (pfext _ _ λ δ → pfext _ _ λ γ → l i₁ i₂ eqv)</a>
<a id="6938" class="Comment">--     (pfext _ _ λ δ → pfext _ _ λ γ → r i₁ i₂ eqv)</a>

<a id="6992" class="Keyword">open</a> <a id="6997" href="Effect.Relation.Binary.FirstOrderInclusion.html#4100" class="Module Operator">_⇔≲_</a> 

<a id="♯-resp-⇔≲"></a><a id="7004" href="Effect.Theory.FirstOrder.html#7004" class="Function">♯-resp-⇔≲</a> <a id="7014" class="Symbol">:</a> <a id="7016" class="Symbol">{</a><a id="7017" href="Effect.Theory.FirstOrder.html#7017" class="Bound">i₁</a> <a id="7020" href="Effect.Theory.FirstOrder.html#7020" class="Bound">i₂</a> <a id="7023" class="Symbol">:</a> <a id="7025" href="Effect.Base.html#921" class="Generalizable">ε₁</a> <a id="7028" href="Core.Ternary.html#666" class="Field Operator">≲</a> <a id="7030" href="Effect.Base.html#924" class="Generalizable">ε₂</a><a id="7032" class="Symbol">}</a> <a id="7034" class="Symbol">→</a> <a id="7036" href="Effect.Theory.FirstOrder.html#7017" class="Bound">i₁</a> <a id="7039" href="Effect.Relation.Binary.FirstOrderInclusion.html#4100" class="Record Operator">⇔≲</a> <a id="7042" href="Effect.Theory.FirstOrder.html#7020" class="Bound">i₂</a> <a id="7045" class="Symbol">→</a> <a id="7047" class="Symbol">(</a><a id="7048" href="Effect.Theory.FirstOrder.html#7048" class="Bound">m</a> <a id="7050" class="Symbol">:</a> <a id="7052" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="7057" href="Effect.Base.html#921" class="Generalizable">ε₁</a> <a id="7060" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="7061" class="Symbol">)</a> <a id="7063" class="Symbol">→</a> <a id="7065" href="Effect.Relation.Binary.FirstOrderInclusion.html#2013" class="Function">♯</a> <a id="7067" class="Symbol">⦃</a> <a id="7069" href="Effect.Theory.FirstOrder.html#7017" class="Bound">i₁</a> <a id="7072" class="Symbol">⦄</a> <a id="7074" href="Effect.Theory.FirstOrder.html#7048" class="Bound">m</a> <a id="7076" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7078" href="Effect.Relation.Binary.FirstOrderInclusion.html#2013" class="Function">♯</a> <a id="7080" class="Symbol">⦃</a> <a id="7082" href="Effect.Theory.FirstOrder.html#7020" class="Bound">i₂</a> <a id="7085" class="Symbol">⦄</a> <a id="7087" href="Effect.Theory.FirstOrder.html#7048" class="Bound">m</a>
<a id="7089" href="Effect.Theory.FirstOrder.html#7004" class="Function">♯-resp-⇔≲</a> <a id="7099" href="Effect.Theory.FirstOrder.html#7099" class="Bound">eqv</a> <a id="7103" class="Symbol">(</a><a id="7104" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="7109" href="Effect.Theory.FirstOrder.html#7109" class="Bound">x</a><a id="7110" class="Symbol">)</a>           <a id="7122" class="Symbol">=</a> <a id="7124" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="7129" href="Effect.Theory.FirstOrder.html#7004" class="Function">♯-resp-⇔≲</a> <a id="7139" class="Symbol">{</a><a id="7140" class="Argument">i₁</a> <a id="7143" class="Symbol">=</a> <a id="7145" href="Effect.Theory.FirstOrder.html#7145" class="Bound">i₁</a><a id="7147" class="Symbol">}</a> <a id="7149" class="Symbol">{</a><a id="7150" href="Effect.Theory.FirstOrder.html#7150" class="Bound">i₂</a><a id="7152" class="Symbol">}</a> <a id="7154" href="Effect.Theory.FirstOrder.html#7154" class="Bound">eqv</a> <a id="7158" class="Symbol">(</a><a id="7159" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="7166" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="7168" href="Effect.Theory.FirstOrder.html#7168" class="Bound">c</a> <a id="7170" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7172" href="Effect.Theory.FirstOrder.html#7172" class="Bound">k</a> <a id="7174" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a><a id="7175" class="Symbol">)</a> <a id="7177" class="Symbol">=</a>
  <a id="7181" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
    <a id="7191" href="Effect.Relation.Binary.FirstOrderInclusion.html#2013" class="Function">♯</a> <a id="7193" class="Symbol">⦃</a> <a id="7195" href="Effect.Theory.FirstOrder.html#7145" class="Bound">i₁</a> <a id="7198" class="Symbol">⦄</a> <a id="7200" class="Symbol">(</a><a id="7201" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="7208" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="7210" href="Effect.Theory.FirstOrder.html#7168" class="Bound">c</a> <a id="7212" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7214" href="Effect.Theory.FirstOrder.html#7172" class="Bound">k</a> <a id="7216" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a><a id="7217" class="Symbol">)</a>
  <a id="7221" href="Relation.Binary.Reasoning.Syntax.html#11017" class="Function">≡⟨⟩</a> 
    <a id="7230" href="Effect.Syntax.Free.html#1715" class="Function">hmap-free</a> <a id="7240" class="Symbol">(</a><a id="7241" href="Effect.Relation.Binary.FirstOrderInclusion.html#1690" class="Function">inj</a> <a id="7245" class="Symbol">⦃</a> <a id="7247" href="Effect.Theory.FirstOrder.html#7145" class="Bound">i₁</a> <a id="7250" class="Symbol">⦄)</a> <a id="7253" class="Symbol">(</a><a id="7254" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="7261" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="7263" href="Effect.Theory.FirstOrder.html#7168" class="Bound">c</a> <a id="7265" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7267" href="Effect.Theory.FirstOrder.html#7172" class="Bound">k</a> <a id="7269" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a><a id="7270" class="Symbol">)</a>
  <a id="7274" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="7277" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="7282" class="Symbol">(λ</a> <a id="7285" href="Effect.Theory.FirstOrder.html#7285" class="Bound">○</a> <a id="7287" class="Symbol">→</a> <a id="7289" href="Effect.Syntax.Free.html#1715" class="Function">hmap-free</a> <a id="7299" class="Symbol">(λ</a> <a id="7302" class="Symbol">{</a><a id="7303" href="Effect.Theory.FirstOrder.html#7303" class="Bound">X</a><a id="7304" class="Symbol">}</a> <a id="7306" href="Effect.Theory.FirstOrder.html#7306" class="Bound">x</a> <a id="7308" class="Symbol">→</a> <a id="7310" href="Effect.Theory.FirstOrder.html#7285" class="Bound">○</a> <a id="7312" href="Effect.Theory.FirstOrder.html#7303" class="Bound">X</a> <a id="7314" href="Effect.Theory.FirstOrder.html#7306" class="Bound">x</a><a id="7315" class="Symbol">)</a> <a id="7317" class="Symbol">(</a><a id="7318" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="7325" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="7327" href="Effect.Theory.FirstOrder.html#7168" class="Bound">c</a> <a id="7329" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7331" href="Effect.Theory.FirstOrder.html#7172" class="Bound">k</a> <a id="7333" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a><a id="7334" class="Symbol">))</a> <a id="7337" class="Symbol">(</a><a id="7338" href="Core.Extensionality.html#365" class="Function">pfext</a> <a id="7344" class="Symbol">_</a> <a id="7346" class="Symbol">_</a> <a id="7348" class="Symbol">λ</a> <a id="7350" href="Effect.Theory.FirstOrder.html#7350" class="Bound">X</a> <a id="7352" class="Symbol">→</a> <a id="7354" href="Core.Extensionality.html#365" class="Function">pfext</a> <a id="7360" class="Symbol">_</a> <a id="7362" class="Symbol">_</a> <a id="7364" class="Symbol">λ</a> <a id="7366" href="Effect.Theory.FirstOrder.html#7366" class="Bound">x</a> <a id="7368" class="Symbol">→</a> <a id="7370" href="Effect.Theory.FirstOrder.html#7154" class="Bound">eqv</a> <a id="7374" class="Symbol">.</a><a id="7375" href="Effect.Relation.Binary.FirstOrderInclusion.html#4169" class="Field">≗-inj</a> <a id="7381" class="Symbol">{</a><a id="7382" href="Effect.Theory.FirstOrder.html#7350" class="Bound">X</a><a id="7383" class="Symbol">}</a> <a id="7385" class="Symbol">{</a><a id="7386" href="Effect.Theory.FirstOrder.html#7366" class="Bound">x</a><a id="7387" class="Symbol">})</a> <a id="7390" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="7396" href="Effect.Syntax.Free.html#1715" class="Function">hmap-free</a> <a id="7406" class="Symbol">(</a><a id="7407" href="Effect.Relation.Binary.FirstOrderInclusion.html#1690" class="Function">inj</a> <a id="7411" class="Symbol">⦃</a> <a id="7413" href="Effect.Theory.FirstOrder.html#7150" class="Bound">i₂</a> <a id="7416" class="Symbol">⦄)</a> <a id="7419" class="Symbol">(</a><a id="7420" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="7427" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="7429" href="Effect.Theory.FirstOrder.html#7168" class="Bound">c</a> <a id="7431" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7433" href="Effect.Theory.FirstOrder.html#7172" class="Bound">k</a> <a id="7435" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a><a id="7436" class="Symbol">)</a> 
  <a id="7441" href="Relation.Binary.Reasoning.Syntax.html#11017" class="Function">≡⟨⟩</a> 
    <a id="7450" href="Effect.Relation.Binary.FirstOrderInclusion.html#2013" class="Function">♯</a> <a id="7452" class="Symbol">⦃</a> <a id="7454" href="Effect.Theory.FirstOrder.html#7150" class="Bound">i₂</a> <a id="7457" class="Symbol">⦄</a> <a id="7459" class="Symbol">(</a><a id="7460" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="7467" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="7469" href="Effect.Theory.FirstOrder.html#7168" class="Bound">c</a> <a id="7471" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7473" href="Effect.Theory.FirstOrder.html#7172" class="Bound">k</a> <a id="7475" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a><a id="7476" class="Symbol">)</a>
  <a id="7480" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>
  <a id="7484" class="Keyword">where</a> <a id="7490" class="Keyword">open</a> <a id="7495" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">≡-Reasoning</a>

<a id="&gt;&gt;=-resp-⇔≲"></a><a id="7508" href="Effect.Theory.FirstOrder.html#7508" class="Function">&gt;&gt;=-resp-⇔≲</a> <a id="7520" class="Symbol">:</a>
  <a id="7524" class="Symbol">∀</a> <a id="7526" class="Symbol">{</a><a id="7527" href="Effect.Theory.FirstOrder.html#7527" class="Bound">i₁</a> <a id="7530" href="Effect.Theory.FirstOrder.html#7530" class="Bound">i₂</a> <a id="7533" class="Symbol">:</a> <a id="7535" href="Effect.Base.html#921" class="Generalizable">ε₁</a> <a id="7538" href="Core.Ternary.html#666" class="Field Operator">≲</a> <a id="7540" href="Effect.Base.html#924" class="Generalizable">ε₂</a><a id="7542" class="Symbol">}</a> <a id="7544" class="Symbol">→</a> <a id="7546" href="Effect.Theory.FirstOrder.html#7527" class="Bound">i₁</a> <a id="7549" href="Effect.Relation.Binary.FirstOrderInclusion.html#4100" class="Record Operator">⇔≲</a> <a id="7552" href="Effect.Theory.FirstOrder.html#7530" class="Bound">i₂</a> 
  <a id="7558" class="Symbol">→</a> <a id="7560" class="Symbol">(</a><a id="7561" href="Effect.Theory.FirstOrder.html#7561" class="Bound">m</a> <a id="7563" class="Symbol">:</a> <a id="7565" href="Effect.Base.html#921" class="Generalizable">ε₁</a> <a id="7568" href="Core.Ternary.html#666" class="Field Operator">≲</a> <a id="7570" href="Effect.Base.html#924" class="Generalizable">ε₂</a> <a id="7573" class="Symbol">→</a> <a id="7575" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="7580" href="Effect.Base.html#924" class="Generalizable">ε₂</a> <a id="7583" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="7584" class="Symbol">)</a>
  <a id="7588" class="Symbol">→</a> <a id="7590" class="Symbol">(</a><a id="7591" href="Effect.Theory.FirstOrder.html#7591" class="Bound">k</a> <a id="7593" class="Symbol">:</a> <a id="7595" href="Effect.Base.html#921" class="Generalizable">ε₁</a> <a id="7598" href="Core.Ternary.html#666" class="Field Operator">≲</a> <a id="7600" href="Effect.Base.html#924" class="Generalizable">ε₂</a> <a id="7603" class="Symbol">→</a> <a id="7605" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="7607" class="Symbol">→</a> <a id="7609" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="7614" href="Effect.Base.html#924" class="Generalizable">ε₂</a> <a id="7617" href="Core.Functor.html#1533" class="Generalizable">B</a><a id="7618" class="Symbol">)</a>
  <a id="7622" class="Symbol">→</a> <a id="7624" href="Effect.Theory.FirstOrder.html#7561" class="Bound">m</a> <a id="7626" href="Effect.Theory.FirstOrder.html#7527" class="Bound">i₁</a> <a id="7629" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7631" href="Effect.Theory.FirstOrder.html#7561" class="Bound">m</a> <a id="7633" href="Effect.Theory.FirstOrder.html#7530" class="Bound">i₂</a>
  <a id="7638" class="Symbol">→</a> <a id="7640" class="Symbol">(∀</a> <a id="7643" href="Effect.Theory.FirstOrder.html#7643" class="Bound">x</a> <a id="7645" class="Symbol">→</a> <a id="7647" href="Effect.Theory.FirstOrder.html#7591" class="Bound">k</a> <a id="7649" href="Effect.Theory.FirstOrder.html#7527" class="Bound">i₁</a> <a id="7652" href="Effect.Theory.FirstOrder.html#7643" class="Bound">x</a> <a id="7654" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7656" href="Effect.Theory.FirstOrder.html#7591" class="Bound">k</a> <a id="7658" href="Effect.Theory.FirstOrder.html#7530" class="Bound">i₂</a> <a id="7661" href="Effect.Theory.FirstOrder.html#7643" class="Bound">x</a><a id="7662" class="Symbol">)</a>
    <a id="7668" class="Comment">-----------------------------</a>
  <a id="7700" class="Symbol">→</a> <a id="7702" href="Effect.Theory.FirstOrder.html#7561" class="Bound">m</a> <a id="7704" href="Effect.Theory.FirstOrder.html#7527" class="Bound">i₁</a> <a id="7707" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="7711" href="Effect.Theory.FirstOrder.html#7591" class="Bound">k</a> <a id="7713" href="Effect.Theory.FirstOrder.html#7527" class="Bound">i₁</a> <a id="7716" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7718" href="Effect.Theory.FirstOrder.html#7561" class="Bound">m</a> <a id="7720" href="Effect.Theory.FirstOrder.html#7530" class="Bound">i₂</a> <a id="7723" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="7727" href="Effect.Theory.FirstOrder.html#7591" class="Bound">k</a> <a id="7729" href="Effect.Theory.FirstOrder.html#7530" class="Bound">i₂</a>
<a id="7732" href="Effect.Theory.FirstOrder.html#7508" class="Function">&gt;&gt;=-resp-⇔≲</a> <a id="7744" href="Effect.Theory.FirstOrder.html#7744" class="Bound">x</a> <a id="7746" href="Effect.Theory.FirstOrder.html#7746" class="Bound">m</a> <a id="7748" href="Effect.Theory.FirstOrder.html#7748" class="Bound">k</a> <a id="7750" href="Effect.Theory.FirstOrder.html#7750" class="Bound">px</a> <a id="7753" href="Effect.Theory.FirstOrder.html#7753" class="Bound">qx</a> <a id="7756" class="Symbol">=</a> <a id="7758" href="Relation.Binary.PropositionalEquality.Core.html#1395" class="Function">cong₂</a> <a id="7764" href="Core.Functor.Monad.html#423" class="Function Operator">_&gt;&gt;=_</a> <a id="7770" href="Effect.Theory.FirstOrder.html#7750" class="Bound">px</a> <a id="7773" class="Symbol">(</a><a id="7774" href="Core.Extensionality.html#201" class="Function">extensionality</a> <a id="7789" href="Effect.Theory.FirstOrder.html#7753" class="Bound">qx</a><a id="7791" class="Symbol">)</a>

<a id="7794" class="Comment">-- Coproduct of extensible theories</a>
<a id="_⟨⊎⟩_"></a><a id="7830" href="Effect.Theory.FirstOrder.html#7830" class="Function Operator">_⟨⊎⟩_</a> <a id="7836" class="Symbol">:</a> <a id="7838" href="Relation.Unary.html#3629" class="Function">∀[</a> <a id="7841" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="7848" href="Relation.Unary.html#4621" class="Function Operator">⇒</a> <a id="7850" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="7857" href="Relation.Unary.html#4621" class="Function Operator">⇒</a> <a id="7859" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="7866" href="Relation.Unary.html#3629" class="Function">]</a>
<a id="7868" href="Effect.Theory.FirstOrder.html#3892" class="Field">arity</a>  <a id="7875" class="Symbol">(</a><a id="7876" href="Effect.Theory.FirstOrder.html#7876" class="Bound">T₁</a> <a id="7879" href="Effect.Theory.FirstOrder.html#7830" class="Function Operator">⟨⊎⟩</a> <a id="7883" href="Effect.Theory.FirstOrder.html#7883" class="Bound">T₂</a><a id="7885" class="Symbol">)</a>          <a id="7896" class="Symbol">=</a> <a id="7898" href="Effect.Theory.FirstOrder.html#7876" class="Bound">T₁</a> <a id="7901" class="Symbol">.</a><a id="7902" href="Effect.Theory.FirstOrder.html#3892" class="Field">arity</a> <a id="7908" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="7910" href="Effect.Theory.FirstOrder.html#7883" class="Bound">T₂</a> <a id="7913" class="Symbol">.</a><a id="7914" href="Effect.Theory.FirstOrder.html#3892" class="Field">arity</a>
<a id="7920" href="Effect.Theory.FirstOrder.html#3910" class="Field">eqs</a>    <a id="7927" class="Symbol">(</a><a id="7928" href="Effect.Theory.FirstOrder.html#7928" class="Bound">T₁</a> <a id="7931" href="Effect.Theory.FirstOrder.html#7830" class="Function Operator">⟨⊎⟩</a> <a id="7935" href="Effect.Theory.FirstOrder.html#7935" class="Bound">T₂</a><a id="7937" class="Symbol">)</a>          <a id="7948" class="Symbol">=</a> <a id="7950" href="Data.Sum.Base.html#811" class="Function Operator">[</a> <a id="7952" href="Effect.Theory.FirstOrder.html#7928" class="Bound">T₁</a> <a id="7955" class="Symbol">.</a><a id="7956" href="Effect.Theory.FirstOrder.html#3910" class="Field">eqs</a> <a id="7960" href="Data.Sum.Base.html#811" class="Function Operator">,</a> <a id="7962" href="Effect.Theory.FirstOrder.html#7935" class="Bound">T₂</a> <a id="7965" class="Symbol">.</a><a id="7966" href="Effect.Theory.FirstOrder.html#3910" class="Field">eqs</a> <a id="7970" href="Data.Sum.Base.html#811" class="Function Operator">]</a>
<a id="7972" href="Effect.Theory.FirstOrder.html#3944" class="Field">lawful</a> <a id="7979" class="Symbol">(</a><a id="7980" href="Effect.Theory.FirstOrder.html#7980" class="Bound">T₁</a> <a id="7983" href="Effect.Theory.FirstOrder.html#7830" class="Function Operator">⟨⊎⟩</a> <a id="7987" href="Effect.Theory.FirstOrder.html#7987" class="Bound">T₂</a><a id="7989" class="Symbol">)</a> <a id="7991" class="Symbol">{</a><a id="7992" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="7997" class="Symbol">_}</a> <a id="8000" class="Symbol">=</a> <a id="8002" href="Effect.Theory.FirstOrder.html#7980" class="Bound">T₁</a> <a id="8005" class="Symbol">.</a><a id="8006" href="Effect.Theory.FirstOrder.html#3944" class="Field">lawful</a>
<a id="8013" href="Effect.Theory.FirstOrder.html#3944" class="Field">lawful</a> <a id="8020" class="Symbol">(</a><a id="8021" href="Effect.Theory.FirstOrder.html#8021" class="Bound">T₁</a> <a id="8024" href="Effect.Theory.FirstOrder.html#7830" class="Function Operator">⟨⊎⟩</a> <a id="8028" href="Effect.Theory.FirstOrder.html#8028" class="Bound">T₂</a><a id="8030" class="Symbol">)</a> <a id="8032" class="Symbol">{</a><a id="8033" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="8038" class="Symbol">_}</a> <a id="8041" class="Symbol">=</a> <a id="8043" href="Effect.Theory.FirstOrder.html#8028" class="Bound">T₂</a> <a id="8046" class="Symbol">.</a><a id="8047" href="Effect.Theory.FirstOrder.html#3944" class="Field">lawful</a>

<a id="compose-theory"></a><a id="8055" href="Effect.Theory.FirstOrder.html#8055" class="Function">compose-theory</a> <a id="8070" class="Symbol">:</a> <a id="8072" href="Relation.Unary.html#3629" class="Function">∀[</a> <a id="8075" class="Symbol">(</a><a id="8076" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="8083" href="Core.Logic.html#677" class="Record Operator">✴</a> <a id="8085" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a><a id="8091" class="Symbol">)</a> <a id="8093" href="Relation.Unary.html#4621" class="Function Operator">⇒</a> <a id="8095" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="8102" href="Relation.Unary.html#3629" class="Function">]</a>
<a id="8104" href="Effect.Theory.FirstOrder.html#8055" class="Function">compose-theory</a> <a id="8119" class="Symbol">(</a><a id="8120" href="Effect.Theory.FirstOrder.html#8120" class="Bound">T₁</a> <a id="8123" href="Core.Logic.html#755" class="InductiveConstructor Operator">✴⟨</a> <a id="8126" href="Effect.Theory.FirstOrder.html#8126" class="Bound">σ</a> <a id="8128" href="Core.Logic.html#755" class="InductiveConstructor Operator">⟩</a> <a id="8130" href="Effect.Theory.FirstOrder.html#8130" class="Bound">T₂</a><a id="8132" class="Symbol">)</a> <a id="8134" class="Symbol">=</a> <a id="8136" href="Core.MonotonePredicate.html#1472" class="Field">weaken</a> <a id="8143" class="Symbol">(</a><a id="8144" href="Effect.Relation.Binary.FirstOrderInclusion.html#1260" class="Function">≲-∙-left</a> <a id="8153" href="Effect.Theory.FirstOrder.html#8126" class="Bound">σ</a><a id="8154" class="Symbol">)</a> <a id="8156" href="Effect.Theory.FirstOrder.html#8120" class="Bound">T₁</a> <a id="8159" href="Effect.Theory.FirstOrder.html#7830" class="Function Operator">⟨⊎⟩</a> <a id="8163" href="Core.MonotonePredicate.html#1472" class="Field">weaken</a> <a id="8170" class="Symbol">(</a><a id="8171" href="Effect.Relation.Binary.FirstOrderInclusion.html#1315" class="Function">≲-∙-right</a> <a id="8181" href="Effect.Theory.FirstOrder.html#8126" class="Bound">σ</a><a id="8182" class="Symbol">)</a> <a id="8184" href="Effect.Theory.FirstOrder.html#8130" class="Bound">T₂</a>

<a id="8188" class="Keyword">variable</a> <a id="8197" href="Effect.Theory.FirstOrder.html#8197" class="Generalizable">T</a> <a id="8199" href="Effect.Theory.FirstOrder.html#8199" class="Generalizable">T₁</a> <a id="8202" href="Effect.Theory.FirstOrder.html#8202" class="Generalizable">T₂</a> <a id="8205" href="Effect.Theory.FirstOrder.html#8205" class="Generalizable">T₃</a> <a id="8208" href="Effect.Theory.FirstOrder.html#8208" class="Generalizable">T′</a> <a id="8211" class="Symbol">:</a> <a id="8213" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="8220" href="Effect.Base.html#919" class="Generalizable">ε</a>

<a id="8223" class="Comment">-- The following data type defines syntactic equality of computations with</a>
<a id="8298" class="Comment">-- effects `ε` with respect to a given effect theory `T` of `ε`.</a>
<a id="8363" class="Keyword">infix</a> <a id="8369" class="Number">2</a> <a id="8371" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">_≈⟨_⟩_</a>
<a id="8378" class="Keyword">data</a> <a id="_≈⟨_⟩_"></a><a id="8383" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">_≈⟨_⟩_</a> <a id="8390" class="Symbol">{</a><a id="8391" href="Effect.Theory.FirstOrder.html#8391" class="Bound">ε</a> <a id="8393" href="Effect.Theory.FirstOrder.html#8393" class="Bound">ε′</a><a id="8395" class="Symbol">}</a> <a id="8397" class="Symbol">⦃</a> <a id="8399" href="Effect.Theory.FirstOrder.html#8399" class="Bound">i</a> <a id="8401" class="Symbol">:</a> <a id="8403" href="Effect.Theory.FirstOrder.html#8391" class="Bound">ε</a> <a id="8405" href="Core.Ternary.html#666" class="Field Operator">≲</a> <a id="8407" href="Effect.Theory.FirstOrder.html#8393" class="Bound">ε′</a> <a id="8410" class="Symbol">⦄</a> <a id="8412" class="Symbol">:</a> <a id="8414" class="Symbol">(</a><a id="8415" href="Effect.Theory.FirstOrder.html#8415" class="Bound">c₁</a> <a id="8418" class="Symbol">:</a> <a id="8420" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="8425" href="Effect.Theory.FirstOrder.html#8393" class="Bound">ε′</a> <a id="8428" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="8429" class="Symbol">)</a> <a id="8431" class="Symbol">→</a> <a id="8433" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="8440" href="Effect.Theory.FirstOrder.html#8391" class="Bound">ε</a> <a id="8442" class="Symbol">→</a> <a id="8444" class="Symbol">(</a><a id="8445" href="Effect.Theory.FirstOrder.html#8445" class="Bound">c₂</a> <a id="8448" class="Symbol">:</a> <a id="8450" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="8455" href="Effect.Theory.FirstOrder.html#8393" class="Bound">ε′</a> <a id="8458" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="8459" class="Symbol">)</a> <a id="8461" class="Symbol">→</a> <a id="8463" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> <a id="8468" class="Keyword">where</a>

  <a id="_≈⟨_⟩_.≈-refl"></a><a id="8477" href="Effect.Theory.FirstOrder.html#8477" class="InductiveConstructor">≈-refl</a>  <a id="8485" class="Symbol">:</a> <a id="8487" class="Comment">----------</a>
            <a id="8510" href="Effect.Theory.FirstOrder.html#1405" class="Generalizable">c</a> <a id="8512" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="8515" href="Effect.Theory.FirstOrder.html#8197" class="Generalizable">T</a> <a id="8517" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="8519" href="Effect.Theory.FirstOrder.html#1405" class="Generalizable">c</a>

  <a id="_≈⟨_⟩_.≈-sym"></a><a id="8524" href="Effect.Theory.FirstOrder.html#8524" class="InductiveConstructor">≈-sym</a>   <a id="8532" class="Symbol">:</a> <a id="8534" href="Effect.Theory.FirstOrder.html#1407" class="Generalizable">c₁</a> <a id="8537" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="8540" href="Effect.Theory.FirstOrder.html#8197" class="Generalizable">T</a> <a id="8542" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="8544" href="Effect.Theory.FirstOrder.html#1410" class="Generalizable">c₂</a>
            <a id="8559" class="Comment">-------</a>
          <a id="8577" class="Symbol">→</a> <a id="8579" href="Effect.Theory.FirstOrder.html#1410" class="Generalizable">c₂</a> <a id="8582" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="8585" href="Effect.Theory.FirstOrder.html#8197" class="Generalizable">T</a> <a id="8587" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="8589" href="Effect.Theory.FirstOrder.html#1407" class="Generalizable">c₁</a>

  <a id="_≈⟨_⟩_.≈-trans"></a><a id="8595" href="Effect.Theory.FirstOrder.html#8595" class="InductiveConstructor">≈-trans</a> <a id="8603" class="Symbol">:</a> <a id="8605" href="Effect.Theory.FirstOrder.html#1407" class="Generalizable">c₁</a> <a id="8608" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="8611" href="Effect.Theory.FirstOrder.html#8197" class="Generalizable">T</a> <a id="8613" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="8615" href="Effect.Theory.FirstOrder.html#1410" class="Generalizable">c₂</a>
          <a id="8628" class="Symbol">→</a> <a id="8630" href="Effect.Theory.FirstOrder.html#1410" class="Generalizable">c₂</a> <a id="8633" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="8636" href="Effect.Theory.FirstOrder.html#8197" class="Generalizable">T</a> <a id="8638" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="8640" href="Effect.Theory.FirstOrder.html#1413" class="Generalizable">c₃</a>
            <a id="8655" class="Comment">-----------------</a>
          <a id="8683" class="Symbol">→</a> <a id="8685" href="Effect.Theory.FirstOrder.html#1407" class="Generalizable">c₁</a> <a id="8688" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="8691" href="Effect.Theory.FirstOrder.html#8197" class="Generalizable">T</a> <a id="8693" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="8695" href="Effect.Theory.FirstOrder.html#1413" class="Generalizable">c₃</a>

  <a id="_≈⟨_⟩_.≈-cong"></a><a id="8701" href="Effect.Theory.FirstOrder.html#8701" class="InductiveConstructor">≈-cong</a>  <a id="8709" class="Symbol">:</a> <a id="8711" class="Symbol">(</a><a id="8712" href="Effect.Theory.FirstOrder.html#8712" class="Bound">s</a> <a id="8714" class="Symbol">:</a> <a id="8716" href="Effect.Theory.FirstOrder.html#8393" class="Bound">ε′</a> <a id="8719" class="Symbol">.</a><a id="8720" href="Core.Container.html#605" class="Field">shape</a><a id="8725" class="Symbol">)</a>
          <a id="8737" class="Symbol">→</a> <a id="8739" class="Symbol">(</a><a id="8740" href="Effect.Theory.FirstOrder.html#8740" class="Bound">p₁</a> <a id="8743" href="Effect.Theory.FirstOrder.html#8743" class="Bound">p₂</a> <a id="8746" class="Symbol">:</a> <a id="8748" href="Effect.Theory.FirstOrder.html#8393" class="Bound">ε′</a> <a id="8751" class="Symbol">.</a><a id="8752" href="Core.Container.html#628" class="Field">position</a> <a id="8761" href="Effect.Theory.FirstOrder.html#8712" class="Bound">s</a> <a id="8763" class="Symbol">→</a> <a id="8765" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="8770" href="Effect.Theory.FirstOrder.html#8393" class="Bound">ε′</a> <a id="8773" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="8774" class="Symbol">)</a>
          <a id="8786" class="Symbol">→</a> <a id="8788" class="Symbol">(∀</a> <a id="8791" class="Symbol">{</a><a id="8792" href="Effect.Theory.FirstOrder.html#8792" class="Bound">x</a><a id="8793" class="Symbol">}</a> <a id="8795" class="Symbol">→</a> <a id="8797" href="Effect.Theory.FirstOrder.html#8740" class="Bound">p₁</a> <a id="8800" href="Effect.Theory.FirstOrder.html#8792" class="Bound">x</a> <a id="8802" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="8805" href="Effect.Theory.FirstOrder.html#8197" class="Generalizable">T</a> <a id="8807" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="8809" href="Effect.Theory.FirstOrder.html#8743" class="Bound">p₂</a> <a id="8812" href="Effect.Theory.FirstOrder.html#8792" class="Bound">x</a><a id="8813" class="Symbol">)</a>
            <a id="8827" class="Comment">------------------------------------------</a>
          <a id="8880" class="Symbol">→</a> <a id="8882" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="8889" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="8891" href="Effect.Theory.FirstOrder.html#8712" class="Bound">s</a> <a id="8893" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8895" href="Effect.Theory.FirstOrder.html#8740" class="Bound">p₁</a> <a id="8898" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a> <a id="8900" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="8903" href="Effect.Theory.FirstOrder.html#8197" class="Generalizable">T</a> <a id="8905" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="8907" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="8914" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="8916" href="Effect.Theory.FirstOrder.html#8712" class="Bound">s</a> <a id="8918" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8920" href="Effect.Theory.FirstOrder.html#8743" class="Bound">p₂</a> <a id="8923" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a>   

  <a id="_≈⟨_⟩_.≈-eq"></a><a id="8931" href="Effect.Theory.FirstOrder.html#8931" class="InductiveConstructor">≈-eq</a>    <a id="8939" class="Symbol">:</a> <a id="8941" class="Symbol">(</a><a id="8942" href="Effect.Theory.FirstOrder.html#8942" class="Bound">eq</a> <a id="8945" class="Symbol">:</a> <a id="8947" href="Core.Logic.html#2908" class="Record">□</a> <a id="8949" href="Effect.Theory.FirstOrder.html#1774" class="Record">Equation</a> <a id="8958" href="Effect.Theory.FirstOrder.html#8391" class="Bound">ε</a><a id="8959" class="Symbol">)</a>
          <a id="8971" class="Symbol">→</a> <a id="8973" class="Symbol">(</a><a id="8974" href="Effect.Theory.FirstOrder.html#8974" class="Bound">px</a> <a id="8977" class="Symbol">:</a> <a id="8979" href="Effect.Theory.FirstOrder.html#8942" class="Bound">eq</a> <a id="8982" href="Effect.Theory.FirstOrder.html#4433" class="Function Operator">◂</a> <a id="8984" href="Effect.Theory.FirstOrder.html#8197" class="Generalizable">T</a><a id="8985" class="Symbol">)</a>
          <a id="8997" class="Symbol">→</a> <a id="8999" class="Symbol">(</a><a id="9000" href="Effect.Theory.FirstOrder.html#9000" class="Bound">δ</a>  <a id="9003" class="Symbol">:</a> <a id="9005" href="Effect.Theory.FirstOrder.html#1618" class="Function">TypeContext</a> <a id="9017" class="Symbol">((</a><a id="9019" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="9022" href="Effect.Theory.FirstOrder.html#8942" class="Bound">eq</a> <a id="9025" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="9027" href="Effect.Theory.FirstOrder.html#8399" class="Bound">i</a><a id="9028" class="Symbol">)</a> <a id="9030" class="Symbol">.</a><a id="9031" href="Effect.Theory.FirstOrder.html#1842" class="Field">Δ′</a><a id="9033" class="Symbol">))</a>
          <a id="9046" class="Symbol">→</a> <a id="9048" class="Symbol">(</a><a id="9049" href="Effect.Theory.FirstOrder.html#9049" class="Bound">γ</a>  <a id="9052" class="Symbol">:</a> <a id="9054" class="Symbol">(</a><a id="9055" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="9058" href="Effect.Theory.FirstOrder.html#8942" class="Bound">eq</a> <a id="9061" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="9063" href="Effect.Theory.FirstOrder.html#8399" class="Bound">i</a><a id="9064" class="Symbol">)</a> <a id="9066" class="Symbol">.</a><a id="9067" href="Effect.Theory.FirstOrder.html#1858" class="Field">Γ′</a> <a id="9070" href="Effect.Theory.FirstOrder.html#9000" class="Bound">δ</a><a id="9071" class="Symbol">)</a>
          <a id="9083" class="Symbol">→</a> <a id="9085" class="Symbol">(</a><a id="9086" href="Effect.Theory.FirstOrder.html#9086" class="Bound">k</a>  <a id="9089" class="Symbol">:</a> <a id="9091" class="Symbol">(</a><a id="9092" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="9095" href="Effect.Theory.FirstOrder.html#8942" class="Bound">eq</a> <a id="9098" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="9100" href="Effect.Theory.FirstOrder.html#8399" class="Bound">i</a><a id="9101" class="Symbol">)</a> <a id="9103" class="Symbol">.</a><a id="9104" href="Effect.Theory.FirstOrder.html#1861" class="Field">R′</a> <a id="9107" href="Effect.Theory.FirstOrder.html#9000" class="Bound">δ</a> <a id="9109" class="Symbol">→</a> <a id="9111" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="9116" href="Effect.Theory.FirstOrder.html#8393" class="Bound">ε′</a> <a id="9119" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="9120" class="Symbol">)</a> 
            <a id="9135" class="Comment">-------------------------------------------------------------</a>
          <a id="9207" class="Symbol">→</a> <a id="9209" class="Symbol">(</a><a id="9210" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="9213" href="Effect.Theory.FirstOrder.html#8942" class="Bound">eq</a> <a id="9216" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="9218" href="Effect.Theory.FirstOrder.html#8399" class="Bound">i</a><a id="9219" class="Symbol">)</a> <a id="9221" class="Symbol">.</a><a id="9222" href="Effect.Theory.FirstOrder.html#1897" class="Field">lhs</a> <a id="9226" href="Effect.Theory.FirstOrder.html#9000" class="Bound">δ</a> <a id="9228" href="Effect.Theory.FirstOrder.html#9049" class="Bound">γ</a> <a id="9230" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="9234" href="Effect.Theory.FirstOrder.html#9086" class="Bound">k</a> <a id="9236" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="9239" href="Effect.Theory.FirstOrder.html#8197" class="Generalizable">T</a> <a id="9241" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="9243" class="Symbol">(</a><a id="9244" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="9247" href="Effect.Theory.FirstOrder.html#8942" class="Bound">eq</a> <a id="9250" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="9252" href="Effect.Theory.FirstOrder.html#8399" class="Bound">i</a><a id="9253" class="Symbol">)</a> <a id="9255" class="Symbol">.</a><a id="9256" href="Effect.Theory.FirstOrder.html#1901" class="Field">rhs</a> <a id="9260" href="Effect.Theory.FirstOrder.html#9000" class="Bound">δ</a> <a id="9262" href="Effect.Theory.FirstOrder.html#9049" class="Bound">γ</a> <a id="9264" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="9268" href="Effect.Theory.FirstOrder.html#9086" class="Bound">k</a>

<a id="≈-weaken"></a><a id="9271" href="Effect.Theory.FirstOrder.html#9271" class="Function">≈-weaken</a> <a id="9280" class="Symbol">:</a>
  <a id="9284" class="Symbol">∀</a> <a id="9286" class="Symbol">{</a><a id="9287" href="Effect.Theory.FirstOrder.html#9287" class="Bound">T</a> <a id="9289" class="Symbol">:</a> <a id="9291" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="9298" href="Effect.Base.html#921" class="Generalizable">ε₁</a><a id="9300" class="Symbol">}</a> <a id="9302" class="Symbol">{</a><a id="9303" href="Effect.Theory.FirstOrder.html#9303" class="Bound">T′</a> <a id="9306" class="Symbol">:</a> <a id="9308" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="9315" href="Effect.Base.html#924" class="Generalizable">ε₂</a><a id="9317" class="Symbol">}</a>
  <a id="9321" class="Symbol">→</a> <a id="9323" class="Symbol">(</a><a id="9324" href="Effect.Theory.FirstOrder.html#9324" class="Bound">i</a> <a id="9326" class="Symbol">:</a> <a id="9328" href="Effect.Theory.FirstOrder.html#9287" class="Bound">T</a> <a id="9330" href="Effect.Theory.FirstOrder.html#4604" class="Record Operator">≪</a> <a id="9332" href="Effect.Theory.FirstOrder.html#9303" class="Bound">T′</a><a id="9334" class="Symbol">)</a>
  <a id="9338" class="Symbol">→</a> <a id="9340" class="Symbol">⦃</a> <a id="9342" href="Effect.Theory.FirstOrder.html#9342" class="Bound">i′</a> <a id="9345" class="Symbol">:</a> <a id="9347" href="Effect.Base.html#924" class="Generalizable">ε₂</a> <a id="9350" href="Core.Ternary.html#666" class="Field Operator">≲</a> <a id="9352" href="Effect.Base.html#930" class="Generalizable">ε′</a> <a id="9355" class="Symbol">⦄</a>
  <a id="9359" class="Symbol">→</a> <a id="9361" class="Symbol">(</a><a id="9362" href="Effect.Theory.FirstOrder.html#9362" class="Bound">m₁</a> <a id="9365" href="Effect.Theory.FirstOrder.html#9365" class="Bound">m₂</a> <a id="9368" class="Symbol">:</a> <a id="9370" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="9375" href="Effect.Base.html#930" class="Generalizable">ε′</a> <a id="9378" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="9379" class="Symbol">)</a>
  <a id="9383" class="Symbol">→</a> <a id="9385" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">_≈⟨_⟩_</a> <a id="9392" class="Symbol">⦃</a> <a id="9394" href="Effect.Relation.Binary.FirstOrderInclusion.html#889" class="Function">≲-trans</a> <a id="9402" class="Symbol">(</a><a id="9403" href="Effect.Theory.FirstOrder.html#9324" class="Bound">i</a> <a id="9405" class="Symbol">.</a><a id="9406" href="Effect.Theory.FirstOrder.html#4673" class="Field">≲-eff</a><a id="9411" class="Symbol">)</a> <a id="9413" href="Effect.Theory.FirstOrder.html#9342" class="Bound">i′</a> <a id="9416" class="Symbol">⦄</a> <a id="9418" href="Effect.Theory.FirstOrder.html#9362" class="Bound">m₁</a> <a id="9421" href="Effect.Theory.FirstOrder.html#9287" class="Bound">T</a> <a id="9423" href="Effect.Theory.FirstOrder.html#9365" class="Bound">m₂</a>
    <a id="9430" class="Comment">----------------------------------------</a>
  <a id="9473" class="Symbol">→</a> <a id="9475" href="Effect.Theory.FirstOrder.html#9362" class="Bound">m₁</a> <a id="9478" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="9481" href="Effect.Theory.FirstOrder.html#9303" class="Bound">T′</a> <a id="9484" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="9486" href="Effect.Theory.FirstOrder.html#9365" class="Bound">m₂</a>
<a id="9489" href="Effect.Theory.FirstOrder.html#9271" class="Function">≈-weaken</a> <a id="9498" href="Effect.Theory.FirstOrder.html#9498" class="Bound">i₁</a> <a id="9501" href="Effect.Theory.FirstOrder.html#9501" class="Bound">m₁</a>                   <a id="9522" class="DottedPattern Symbol">.</a><a id="9523" href="Effect.Theory.FirstOrder.html#9501" class="DottedPattern Bound">m₁</a>                  <a id="9543" href="Effect.Theory.FirstOrder.html#8477" class="InductiveConstructor">≈-refl</a>              <a id="9563" class="Symbol">=</a> <a id="9565" href="Effect.Theory.FirstOrder.html#8477" class="InductiveConstructor">≈-refl</a>
<a id="9572" href="Effect.Theory.FirstOrder.html#9271" class="Function">≈-weaken</a> <a id="9581" href="Effect.Theory.FirstOrder.html#9581" class="Bound">i₁</a> <a id="9584" href="Effect.Theory.FirstOrder.html#9584" class="Bound">m₁</a>                   <a id="9605" href="Effect.Theory.FirstOrder.html#9605" class="Bound">m₂</a>                   <a id="9626" class="Symbol">(</a><a id="9627" href="Effect.Theory.FirstOrder.html#8524" class="InductiveConstructor">≈-sym</a> <a id="9633" href="Effect.Theory.FirstOrder.html#9633" class="Bound">eq</a><a id="9635" class="Symbol">)</a>          <a id="9646" class="Symbol">=</a> <a id="9648" href="Effect.Theory.FirstOrder.html#8524" class="InductiveConstructor">≈-sym</a> <a id="9654" class="Symbol">(</a><a id="9655" href="Effect.Theory.FirstOrder.html#9271" class="Function">≈-weaken</a> <a id="9664" href="Effect.Theory.FirstOrder.html#9581" class="Bound">i₁</a> <a id="9667" href="Effect.Theory.FirstOrder.html#9605" class="Bound">m₂</a> <a id="9670" href="Effect.Theory.FirstOrder.html#9584" class="Bound">m₁</a> <a id="9673" href="Effect.Theory.FirstOrder.html#9633" class="Bound">eq</a><a id="9675" class="Symbol">)</a>
<a id="9677" href="Effect.Theory.FirstOrder.html#9271" class="Function">≈-weaken</a> <a id="9686" href="Effect.Theory.FirstOrder.html#9686" class="Bound">i₁</a> <a id="9689" href="Effect.Theory.FirstOrder.html#9689" class="Bound">m₁</a>                   <a id="9710" href="Effect.Theory.FirstOrder.html#9710" class="Bound">m₂</a>                   <a id="9731" class="Symbol">(</a><a id="9732" href="Effect.Theory.FirstOrder.html#8595" class="InductiveConstructor">≈-trans</a> <a id="9740" href="Effect.Theory.FirstOrder.html#9740" class="Bound">eq₁</a> <a id="9744" href="Effect.Theory.FirstOrder.html#9744" class="Bound">eq₂</a><a id="9747" class="Symbol">)</a>   <a id="9751" class="Symbol">=</a> <a id="9753" href="Effect.Theory.FirstOrder.html#8595" class="InductiveConstructor">≈-trans</a> <a id="9761" class="Symbol">(</a><a id="9762" href="Effect.Theory.FirstOrder.html#9271" class="Function">≈-weaken</a> <a id="9771" href="Effect.Theory.FirstOrder.html#9686" class="Bound">i₁</a> <a id="9774" href="Effect.Theory.FirstOrder.html#9689" class="Bound">m₁</a> <a id="9777" class="Symbol">_</a> <a id="9779" href="Effect.Theory.FirstOrder.html#9740" class="Bound">eq₁</a><a id="9782" class="Symbol">)</a> <a id="9784" class="Symbol">(</a><a id="9785" href="Effect.Theory.FirstOrder.html#9271" class="Function">≈-weaken</a> <a id="9794" href="Effect.Theory.FirstOrder.html#9686" class="Bound">i₁</a> <a id="9797" class="Symbol">_</a> <a id="9799" class="Symbol">_</a> <a id="9801" href="Effect.Theory.FirstOrder.html#9744" class="Bound">eq₂</a><a id="9804" class="Symbol">)</a>
<a id="9806" href="Effect.Theory.FirstOrder.html#9271" class="Function">≈-weaken</a> <a id="9815" href="Effect.Theory.FirstOrder.html#9815" class="Bound">i₁</a> <a id="9818" class="DottedPattern Symbol">.(</a><a id="9820" href="Effect.Syntax.Free.html#554" class="DottedPattern InductiveConstructor">impure</a> <a id="9827" href="Core.Container.html#719" class="DottedPattern InductiveConstructor Operator">⟨</a> <a id="9829" href="Effect.Theory.FirstOrder.html#9868" class="DottedPattern Bound">s</a> <a id="9831" href="Agda.Builtin.Sigma.html#235" class="DottedPattern InductiveConstructor Operator">,</a> <a id="9833" href="Effect.Theory.FirstOrder.html#9870" class="DottedPattern Bound">p₁</a> <a id="9836" href="Core.Container.html#719" class="DottedPattern InductiveConstructor Operator">⟩</a><a id="9837" class="DottedPattern Symbol">)</a> <a id="9839" class="DottedPattern Symbol">.(</a><a id="9841" href="Effect.Syntax.Free.html#554" class="DottedPattern InductiveConstructor">impure</a> <a id="9848" href="Core.Container.html#719" class="DottedPattern InductiveConstructor Operator">⟨</a> <a id="9850" href="Effect.Theory.FirstOrder.html#9868" class="DottedPattern Bound">s</a> <a id="9852" href="Agda.Builtin.Sigma.html#235" class="DottedPattern InductiveConstructor Operator">,</a> <a id="9854" href="Effect.Theory.FirstOrder.html#9873" class="DottedPattern Bound">p₂</a> <a id="9857" href="Core.Container.html#719" class="DottedPattern InductiveConstructor Operator">⟩</a><a id="9858" class="DottedPattern Symbol">)</a> <a id="9860" class="Symbol">(</a><a id="9861" href="Effect.Theory.FirstOrder.html#8701" class="InductiveConstructor">≈-cong</a> <a id="9868" href="Effect.Theory.FirstOrder.html#9868" class="Bound">s</a> <a id="9870" href="Effect.Theory.FirstOrder.html#9870" class="Bound">p₁</a> <a id="9873" href="Effect.Theory.FirstOrder.html#9873" class="Bound">p₂</a> <a id="9876" href="Effect.Theory.FirstOrder.html#9876" class="Bound">k</a><a id="9877" class="Symbol">)</a>  <a id="9880" class="Symbol">=</a> <a id="9882" href="Effect.Theory.FirstOrder.html#8701" class="InductiveConstructor">≈-cong</a> <a id="9889" href="Effect.Theory.FirstOrder.html#9868" class="Bound">s</a> <a id="9891" href="Effect.Theory.FirstOrder.html#9870" class="Bound">p₁</a> <a id="9894" href="Effect.Theory.FirstOrder.html#9873" class="Bound">p₂</a> <a id="9897" class="Symbol">(</a><a id="9898" href="Effect.Theory.FirstOrder.html#9271" class="Function">≈-weaken</a> <a id="9907" href="Effect.Theory.FirstOrder.html#9815" class="Bound">i₁</a> <a id="9910" class="Symbol">_</a> <a id="9912" class="Symbol">_</a> <a id="9914" href="Effect.Theory.FirstOrder.html#9876" class="Bound">k</a><a id="9915" class="Symbol">)</a>
<a id="9917" href="Effect.Theory.FirstOrder.html#9271" class="Function">≈-weaken</a> <a id="9926" href="Effect.Theory.FirstOrder.html#9926" class="Bound">i₁</a> <a id="9929" class="DottedPattern Symbol">._</a>                   <a id="9950" class="DottedPattern Symbol">._</a>                   <a id="9971" class="Symbol">(</a><a id="9972" href="Effect.Theory.FirstOrder.html#8931" class="InductiveConstructor">≈-eq</a> <a id="9977" href="Effect.Theory.FirstOrder.html#9977" class="Bound">eq</a> <a id="9980" href="Effect.Theory.FirstOrder.html#9980" class="Bound">px₁</a> <a id="9984" href="Effect.Theory.FirstOrder.html#9984" class="Bound">δ</a> <a id="9986" href="Effect.Theory.FirstOrder.html#9986" class="Bound">γ</a> <a id="9988" href="Effect.Theory.FirstOrder.html#9988" class="Bound">k</a><a id="9989" class="Symbol">)</a> <a id="9991" class="Symbol">=</a> <a id="9993" href="Effect.Theory.FirstOrder.html#8931" class="InductiveConstructor">≈-eq</a> <a id="9998" class="Symbol">(</a><a id="9999" href="Core.Logic.html#2981" class="InductiveConstructor">necessary</a> <a id="10009" class="Symbol">λ</a> <a id="10011" href="Effect.Theory.FirstOrder.html#10011" class="Bound">i</a> <a id="10013" class="Symbol">→</a> <a id="10015" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="10018" href="Effect.Theory.FirstOrder.html#9977" class="Bound">eq</a> <a id="10021" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="10023" href="Effect.Relation.Binary.FirstOrderInclusion.html#889" class="Function">≲-trans</a> <a id="10031" class="Symbol">_</a> <a id="10033" href="Effect.Theory.FirstOrder.html#10011" class="Bound">i</a><a id="10034" class="Symbol">)</a> <a id="10036" class="Symbol">(</a><a id="10037" href="Effect.Theory.FirstOrder.html#9926" class="Bound">i₁</a> <a id="10040" class="Symbol">.</a><a id="10041" href="Effect.Theory.FirstOrder.html#4697" class="Field">sub</a> <a id="10045" href="Effect.Theory.FirstOrder.html#9980" class="Bound">px₁</a><a id="10048" class="Symbol">)</a> <a id="10050" href="Effect.Theory.FirstOrder.html#9984" class="Bound">δ</a> <a id="10052" href="Effect.Theory.FirstOrder.html#9986" class="Bound">γ</a> <a id="10054" href="Effect.Theory.FirstOrder.html#9988" class="Bound">k</a>


<a id="10058" class="Keyword">module</a> <a id="10065" href="Effect.Theory.FirstOrder.html#10065" class="Module">_</a> <a id="10067" class="Symbol">{</a><a id="10068" href="Effect.Theory.FirstOrder.html#10068" class="Bound">T</a> <a id="10070" class="Symbol">:</a> <a id="10072" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="10079" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="10080" class="Symbol">}</a> <a id="10082" class="Symbol">⦃</a> <a id="10084" href="Effect.Theory.FirstOrder.html#10084" class="Bound">_</a> <a id="10086" class="Symbol">:</a> <a id="10088" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="10090" href="Core.Ternary.html#666" class="Field Operator">≲</a> <a id="10092" href="Effect.Base.html#930" class="Generalizable">ε′</a> <a id="10095" class="Symbol">⦄</a> <a id="10097" class="Keyword">where</a> 

  <a id="10107" class="Comment">-- Propositional equality of effect trees can (clearly) be reflected as a</a>
  <a id="10183" class="Comment">-- syntactic equivalence</a>
  <a id="10210" href="Effect.Theory.FirstOrder.html#10210" class="Function">≡-to-≈</a> <a id="10217" class="Symbol">:</a> <a id="10219" class="Symbol">{</a><a id="10220" href="Effect.Theory.FirstOrder.html#10220" class="Bound">c₁</a> <a id="10223" href="Effect.Theory.FirstOrder.html#10223" class="Bound">c₂</a> <a id="10226" class="Symbol">:</a> <a id="10228" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="10233" href="Effect.Theory.FirstOrder.html#10092" class="Bound">ε′</a> <a id="10236" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="10237" class="Symbol">}</a> <a id="10239" class="Symbol">→</a> <a id="10241" href="Effect.Theory.FirstOrder.html#10220" class="Bound">c₁</a> <a id="10244" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10246" href="Effect.Theory.FirstOrder.html#10223" class="Bound">c₂</a> <a id="10249" class="Symbol">→</a> <a id="10251" href="Effect.Theory.FirstOrder.html#10220" class="Bound">c₁</a> <a id="10254" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="10257" href="Effect.Theory.FirstOrder.html#10068" class="Bound">T</a> <a id="10259" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="10261" href="Effect.Theory.FirstOrder.html#10223" class="Bound">c₂</a>
  <a id="10266" href="Effect.Theory.FirstOrder.html#10210" class="Function">≡-to-≈</a> <a id="10273" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="10278" class="Symbol">=</a> <a id="10280" href="Effect.Theory.FirstOrder.html#8477" class="InductiveConstructor">≈-refl</a>

  <a id="10290" class="Comment">{- Reflect the monad laws for Free as syntactic equivalences -}</a>

  <a id="10357" href="Effect.Theory.FirstOrder.html#10357" class="Function">&gt;&gt;=-idˡ-≈</a> <a id="10367" class="Symbol">:</a> <a id="10369" class="Symbol">∀</a> <a id="10371" class="Symbol">(</a><a id="10372" href="Effect.Theory.FirstOrder.html#10372" class="Bound">k</a> <a id="10374" class="Symbol">:</a> <a id="10376" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="10378" class="Symbol">→</a> <a id="10380" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="10385" href="Effect.Theory.FirstOrder.html#10092" class="Bound">ε′</a> <a id="10388" href="Core.Functor.html#1533" class="Generalizable">B</a><a id="10389" class="Symbol">)</a> <a id="10391" href="Effect.Theory.FirstOrder.html#10391" class="Bound">x</a> <a id="10393" class="Symbol">→</a> <a id="10395" href="Core.Functor.Monad.html#348" class="Field">return</a> <a id="10402" href="Effect.Theory.FirstOrder.html#10391" class="Bound">x</a> <a id="10404" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="10408" href="Effect.Theory.FirstOrder.html#10372" class="Bound">k</a> <a id="10410" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="10413" href="Effect.Theory.FirstOrder.html#10068" class="Bound">T</a> <a id="10415" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="10417" href="Effect.Theory.FirstOrder.html#10372" class="Bound">k</a> <a id="10419" href="Effect.Theory.FirstOrder.html#10391" class="Bound">x</a>
  <a id="10423" href="Effect.Theory.FirstOrder.html#10357" class="Function">&gt;&gt;=-idˡ-≈</a> <a id="10433" href="Effect.Theory.FirstOrder.html#10433" class="Bound">k</a> <a id="10435" href="Effect.Theory.FirstOrder.html#10435" class="Bound">x</a> <a id="10437" class="Symbol">=</a> <a id="10439" href="Effect.Theory.FirstOrder.html#10210" class="Function">≡-to-≈</a> <a id="10446" class="Symbol">(</a><a id="10447" href="Core.Functor.Monad.html#669" class="Field">&gt;&gt;=-idˡ</a> <a id="10455" href="Effect.Theory.FirstOrder.html#10435" class="Bound">x</a> <a id="10457" href="Effect.Theory.FirstOrder.html#10433" class="Bound">k</a><a id="10458" class="Symbol">)</a> 
  
  <a id="10466" href="Effect.Theory.FirstOrder.html#10466" class="Function">&gt;&gt;=-idʳ-≈</a> <a id="10476" class="Symbol">:</a> <a id="10478" class="Symbol">(</a><a id="10479" href="Effect.Theory.FirstOrder.html#10479" class="Bound">m</a> <a id="10481" class="Symbol">:</a> <a id="10483" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="10488" href="Effect.Theory.FirstOrder.html#10092" class="Bound">ε′</a> <a id="10491" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="10492" class="Symbol">)</a> <a id="10494" class="Symbol">→</a> <a id="10496" href="Effect.Theory.FirstOrder.html#10479" class="Bound">m</a> <a id="10498" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="10502" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="10507" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="10510" href="Effect.Theory.FirstOrder.html#10068" class="Bound">T</a> <a id="10512" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="10514" href="Effect.Theory.FirstOrder.html#10479" class="Bound">m</a>
  <a id="10518" href="Effect.Theory.FirstOrder.html#10466" class="Function">&gt;&gt;=-idʳ-≈</a> <a id="10528" href="Effect.Theory.FirstOrder.html#10528" class="Bound">m</a> <a id="10530" class="Symbol">=</a> <a id="10532" href="Effect.Theory.FirstOrder.html#10210" class="Function">≡-to-≈</a> <a id="10539" class="Symbol">(</a><a id="10540" href="Core.Functor.Monad.html#797" class="Field">&gt;&gt;=-idʳ</a> <a id="10548" href="Effect.Theory.FirstOrder.html#10528" class="Bound">m</a><a id="10549" class="Symbol">)</a> 
  
  <a id="10557" href="Effect.Theory.FirstOrder.html#10557" class="Function">&gt;&gt;=-assoc-≈</a> <a id="10569" class="Symbol">:</a> <a id="10571" class="Symbol">∀</a> <a id="10573" class="Symbol">{</a><a id="10574" href="Effect.Theory.FirstOrder.html#10574" class="Bound">D</a> <a id="10576" class="Symbol">:</a> <a id="10578" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="10581" class="Symbol">}</a> <a id="10583" class="Symbol">(</a><a id="10584" href="Effect.Theory.FirstOrder.html#10584" class="Bound">k₁</a> <a id="10587" class="Symbol">:</a> <a id="10589" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="10591" class="Symbol">→</a> <a id="10593" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="10598" href="Effect.Theory.FirstOrder.html#10092" class="Bound">ε′</a> <a id="10601" href="Core.Functor.html#1533" class="Generalizable">B</a><a id="10602" class="Symbol">)</a> <a id="10604" class="Symbol">(</a><a id="10605" href="Effect.Theory.FirstOrder.html#10605" class="Bound">k₂</a> <a id="10608" class="Symbol">:</a> <a id="10610" href="Core.Functor.html#1533" class="Generalizable">B</a> <a id="10612" class="Symbol">→</a> <a id="10614" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="10619" href="Effect.Theory.FirstOrder.html#10092" class="Bound">ε′</a> <a id="10622" href="Effect.Theory.FirstOrder.html#10574" class="Bound">D</a><a id="10623" class="Symbol">)</a> <a id="10625" class="Symbol">(</a><a id="10626" href="Effect.Theory.FirstOrder.html#10626" class="Bound">m</a> <a id="10628" class="Symbol">:</a> <a id="10630" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="10635" href="Effect.Theory.FirstOrder.html#10092" class="Bound">ε′</a> <a id="10638" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="10639" class="Symbol">)</a>
              <a id="10655" class="Symbol">→</a> <a id="10657" href="Function.Base.html#1638" class="Function">flip</a> <a id="10662" class="Symbol">(</a><a id="10663" href="Effect.Syntax.Free.html#2030" class="Function">free-monad</a> <a id="10674" href="Core.Functor.Monad.html#369" class="Field Operator">Monad.∗</a><a id="10681" class="Symbol">)</a> <a id="10683" class="Symbol">(</a><a id="10684" href="Function.Base.html#1638" class="Function">flip</a> <a id="10689" class="Symbol">(</a><a id="10690" href="Effect.Syntax.Free.html#2030" class="Function">free-monad</a> <a id="10701" href="Core.Functor.Monad.html#369" class="Field Operator">Monad.∗</a><a id="10708" class="Symbol">)</a> <a id="10710" href="Effect.Theory.FirstOrder.html#10626" class="Bound">m</a> <a id="10712" href="Effect.Theory.FirstOrder.html#10584" class="Bound">k₁</a><a id="10714" class="Symbol">)</a> <a id="10716" href="Effect.Theory.FirstOrder.html#10605" class="Bound">k₂</a> <a id="10719" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="10722" href="Effect.Theory.FirstOrder.html#10068" class="Bound">T</a> <a id="10724" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="10726" href="Effect.Theory.FirstOrder.html#10626" class="Bound">m</a> <a id="10728" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="10732" class="Symbol">(</a><a id="10733" href="Effect.Theory.FirstOrder.html#10584" class="Bound">k₁</a> <a id="10736" href="Core.Functor.Monad.html#475" class="Function Operator">&gt;=&gt;</a> <a id="10740" href="Effect.Theory.FirstOrder.html#10605" class="Bound">k₂</a><a id="10742" class="Symbol">)</a>
  <a id="10746" href="Effect.Theory.FirstOrder.html#10557" class="Function">&gt;&gt;=-assoc-≈</a> <a id="10758" href="Effect.Theory.FirstOrder.html#10758" class="Bound">k₁</a> <a id="10761" href="Effect.Theory.FirstOrder.html#10761" class="Bound">k₂</a> <a id="10764" href="Effect.Theory.FirstOrder.html#10764" class="Bound">m</a> <a id="10766" class="Symbol">=</a> <a id="10768" href="Effect.Theory.FirstOrder.html#10210" class="Function">≡-to-≈</a> <a id="10775" class="Symbol">(</a><a id="10776" href="Core.Functor.Monad.html#904" class="Field">&gt;&gt;=-assoc</a> <a id="10786" href="Effect.Theory.FirstOrder.html#10758" class="Bound">k₁</a> <a id="10789" href="Effect.Theory.FirstOrder.html#10761" class="Bound">k₂</a> <a id="10792" href="Effect.Theory.FirstOrder.html#10764" class="Bound">m</a><a id="10793" class="Symbol">)</a>


<a id="10797" class="Keyword">open</a> <a id="10802" href="Effect.Handle.html#4146" class="Module">Handler</a>

<a id="10811" class="Comment">-- Below we define the key correctness property of handlers </a>
<a id="10872" class="Comment">-- </a>
<a id="10876" class="Comment">-- In the IFCP paper they sketch a proof that Correctness of a handler `h`</a>
<a id="10951" class="Comment">-- implies correctness of the transformation `handle h`. But this relies on</a>
<a id="11027" class="Comment">-- parametricty, so I&#39;m sceptical we can recreate the same proof here.</a>

<a id="11099" class="Comment">-- Correctness of handlers: we say that a handler is correct with respect to a</a>
<a id="11178" class="Comment">-- given theory `T` of the effect it handlers iff it&#39;s algebra respects all</a>
<a id="11254" class="Comment">-- equations of `T`.</a>

<a id="Correct"></a><a id="11276" href="Effect.Theory.FirstOrder.html#11276" class="Function">Correct</a> <a id="11284" class="Symbol">:</a> <a id="11286" class="Symbol">{</a><a id="11287" href="Effect.Theory.FirstOrder.html#11287" class="Bound">P</a> <a id="11289" class="Symbol">:</a> <a id="11291" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="11294" class="Symbol">}</a> <a id="11296" class="Symbol">→</a> <a id="11298" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="11305" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="11307" class="Symbol">→</a> <a id="11309" href="Effect.Handle.html#4146" class="Record">Handler</a> <a id="11317" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="11319" href="Effect.Theory.FirstOrder.html#11287" class="Bound">P</a> <a id="11321" href="Core.Functor.html#1552" class="Generalizable">F</a> <a id="11323" class="Symbol">→</a> <a id="11325" href="Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="11330" href="Effect.Theory.FirstOrder.html#11276" class="Function">Correct</a> <a id="11338" class="Symbol">{</a><a id="11339" class="Argument">ε</a> <a id="11341" class="Symbol">=</a> <a id="11343" href="Effect.Theory.FirstOrder.html#11343" class="Bound">ε</a><a id="11344" class="Symbol">}</a> <a id="11346" href="Effect.Theory.FirstOrder.html#11346" class="Bound">T</a> <a id="11348" href="Effect.Theory.FirstOrder.html#11348" class="Bound">H</a> <a id="11350" class="Symbol">=</a>
  <a id="11354" class="Symbol">∀</a> <a id="11356" class="Symbol">{</a><a id="11357" href="Effect.Theory.FirstOrder.html#11357" class="Bound">A</a> <a id="11359" href="Effect.Theory.FirstOrder.html#11359" class="Bound">ε′</a><a id="11361" class="Symbol">}</a> <a id="11363" class="Symbol">{</a><a id="11364" href="Effect.Theory.FirstOrder.html#11364" class="Bound">eq</a> <a id="11367" class="Symbol">:</a> <a id="11369" href="Core.Logic.html#2908" class="Record">□</a> <a id="11371" href="Effect.Theory.FirstOrder.html#1774" class="Record">Equation</a> <a id="11380" href="Effect.Theory.FirstOrder.html#11343" class="Bound">ε</a><a id="11381" class="Symbol">}</a>
  <a id="11385" class="Symbol">→</a> <a id="11387" href="Effect.Theory.FirstOrder.html#11364" class="Bound">eq</a> <a id="11390" href="Effect.Theory.FirstOrder.html#4433" class="Function Operator">◂</a> <a id="11392" href="Effect.Theory.FirstOrder.html#11346" class="Bound">T</a>
  <a id="11396" class="Symbol">→</a> <a id="11398" href="Effect.Theory.FirstOrder.html#2694" class="Function">Respects</a> <a id="11407" class="Symbol">(</a><a id="11408" href="Effect.Theory.FirstOrder.html#11348" class="Bound">H</a> <a id="11410" class="Symbol">.</a><a id="11411" href="Effect.Handle.html#4345" class="Field">hdl</a> <a id="11415" class="Symbol">{</a><a id="11416" class="Argument">A</a> <a id="11418" class="Symbol">=</a> <a id="11420" href="Effect.Theory.FirstOrder.html#11357" class="Bound">A</a><a id="11421" class="Symbol">}</a> <a id="11423" class="Symbol">{</a><a id="11424" class="Argument">ε′</a> <a id="11427" class="Symbol">=</a> <a id="11429" href="Effect.Theory.FirstOrder.html#11359" class="Bound">ε′</a><a id="11431" class="Symbol">})</a> <a id="11434" class="Symbol">(</a><a id="11435" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="11438" href="Effect.Theory.FirstOrder.html#11364" class="Bound">eq</a> <a id="11441" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="11443" href="Effect.Relation.Binary.FirstOrderInclusion.html#844" class="Function">≲-refl</a><a id="11449" class="Symbol">)</a>


<a id="11453" class="Keyword">module</a> <a id="≈-Reasoning"></a><a id="11460" href="Effect.Theory.FirstOrder.html#11460" class="Module">≈-Reasoning</a> <a id="11472" class="Symbol">(</a><a id="11473" href="Effect.Theory.FirstOrder.html#11473" class="Bound">T</a> <a id="11475" class="Symbol">:</a> <a id="11477" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="11484" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="11485" class="Symbol">)</a> <a id="11487" class="Symbol">⦃</a> <a id="11489" href="Effect.Theory.FirstOrder.html#11489" class="Bound">_</a> <a id="11491" class="Symbol">:</a> <a id="11493" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="11495" href="Core.Ternary.html#666" class="Field Operator">≲</a> <a id="11497" href="Effect.Base.html#930" class="Generalizable">ε′</a> <a id="11500" class="Symbol">⦄</a> <a id="11502" class="Keyword">where</a>

  <a id="11511" class="Keyword">infix</a> <a id="11517" class="Number">3</a> <a id="11519" href="Effect.Theory.FirstOrder.html#11525" class="Function Operator">_≈_</a>
  <a id="≈-Reasoning._≈_"></a><a id="11525" href="Effect.Theory.FirstOrder.html#11525" class="Function Operator">_≈_</a> <a id="11529" class="Symbol">:</a> <a id="11531" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="11536" href="Effect.Theory.FirstOrder.html#11497" class="Bound">ε′</a> <a id="11539" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="11541" class="Symbol">→</a> <a id="11543" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="11548" href="Effect.Theory.FirstOrder.html#11497" class="Bound">ε′</a> <a id="11551" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="11553" class="Symbol">→</a> <a id="11555" href="Agda.Primitive.html#388" class="Primitive">Set₁</a>
  <a id="11562" href="Effect.Theory.FirstOrder.html#11562" class="Bound">c₁</a> <a id="11565" href="Effect.Theory.FirstOrder.html#11525" class="Function Operator">≈</a> <a id="11567" href="Effect.Theory.FirstOrder.html#11567" class="Bound">c₂</a> <a id="11570" class="Symbol">=</a> <a id="11572" href="Effect.Theory.FirstOrder.html#11562" class="Bound">c₁</a> <a id="11575" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="11578" href="Effect.Theory.FirstOrder.html#11473" class="Bound">T</a> <a id="11580" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="11582" href="Effect.Theory.FirstOrder.html#11567" class="Bound">c₂</a>

  <a id="≈-Reasoning.begin_"></a><a id="11588" href="Effect.Theory.FirstOrder.html#11588" class="Function Operator">begin_</a> <a id="11595" class="Symbol">:</a> <a id="11597" class="Symbol">{</a><a id="11598" href="Effect.Theory.FirstOrder.html#11598" class="Bound">c₁</a> <a id="11601" href="Effect.Theory.FirstOrder.html#11601" class="Bound">c₂</a> <a id="11604" class="Symbol">:</a> <a id="11606" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="11611" href="Effect.Theory.FirstOrder.html#11497" class="Bound">ε′</a> <a id="11614" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="11615" class="Symbol">}</a> <a id="11617" class="Symbol">→</a> <a id="11619" href="Effect.Theory.FirstOrder.html#11598" class="Bound">c₁</a> <a id="11622" href="Effect.Theory.FirstOrder.html#11525" class="Function Operator">≈</a> <a id="11624" href="Effect.Theory.FirstOrder.html#11601" class="Bound">c₂</a> <a id="11627" class="Symbol">→</a> <a id="11629" href="Effect.Theory.FirstOrder.html#11598" class="Bound">c₁</a> <a id="11632" href="Effect.Theory.FirstOrder.html#11525" class="Function Operator">≈</a> <a id="11634" href="Effect.Theory.FirstOrder.html#11601" class="Bound">c₂</a> 
  <a id="11640" href="Effect.Theory.FirstOrder.html#11588" class="Function Operator">begin</a> <a id="11646" href="Effect.Theory.FirstOrder.html#11646" class="Bound">eq</a> <a id="11649" class="Symbol">=</a> <a id="11651" href="Effect.Theory.FirstOrder.html#11646" class="Bound">eq</a> 

  <a id="≈-Reasoning._∎"></a><a id="11658" href="Effect.Theory.FirstOrder.html#11658" class="Function Operator">_∎</a> <a id="11661" class="Symbol">:</a> <a id="11663" class="Symbol">(</a><a id="11664" href="Effect.Theory.FirstOrder.html#11664" class="Bound">c</a> <a id="11666" class="Symbol">:</a> <a id="11668" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="11673" href="Effect.Theory.FirstOrder.html#11497" class="Bound">ε′</a> <a id="11676" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="11677" class="Symbol">)</a> <a id="11679" class="Symbol">→</a> <a id="11681" href="Effect.Theory.FirstOrder.html#11664" class="Bound">c</a> <a id="11683" href="Effect.Theory.FirstOrder.html#11525" class="Function Operator">≈</a> <a id="11685" href="Effect.Theory.FirstOrder.html#11664" class="Bound">c</a>
  <a id="11689" href="Effect.Theory.FirstOrder.html#11689" class="Bound">c</a> <a id="11691" href="Effect.Theory.FirstOrder.html#11658" class="Function Operator">∎</a> <a id="11693" class="Symbol">=</a> <a id="11695" href="Effect.Theory.FirstOrder.html#8477" class="InductiveConstructor">≈-refl</a>

  <a id="≈-Reasoning._≈⟪⟫_"></a><a id="11705" href="Effect.Theory.FirstOrder.html#11705" class="Function Operator">_≈⟪⟫_</a> <a id="11711" class="Symbol">:</a> <a id="11713" class="Symbol">(</a><a id="11714" href="Effect.Theory.FirstOrder.html#11714" class="Bound">c₁</a> <a id="11717" class="Symbol">:</a> <a id="11719" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="11724" href="Effect.Theory.FirstOrder.html#11497" class="Bound">ε′</a> <a id="11727" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="11728" class="Symbol">)</a> <a id="11730" class="Symbol">{</a><a id="11731" href="Effect.Theory.FirstOrder.html#11731" class="Bound">c₂</a> <a id="11734" class="Symbol">:</a> <a id="11736" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="11741" href="Effect.Theory.FirstOrder.html#11497" class="Bound">ε′</a> <a id="11744" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="11745" class="Symbol">}</a> <a id="11747" class="Symbol">→</a> <a id="11749" href="Effect.Theory.FirstOrder.html#11714" class="Bound">c₁</a> <a id="11752" href="Effect.Theory.FirstOrder.html#11525" class="Function Operator">≈</a> <a id="11754" href="Effect.Theory.FirstOrder.html#11731" class="Bound">c₂</a> <a id="11757" class="Symbol">→</a> <a id="11759" href="Effect.Theory.FirstOrder.html#11714" class="Bound">c₁</a> <a id="11762" href="Effect.Theory.FirstOrder.html#11525" class="Function Operator">≈</a> <a id="11764" href="Effect.Theory.FirstOrder.html#11731" class="Bound">c₂</a>  
  <a id="11771" href="Effect.Theory.FirstOrder.html#11771" class="Bound">c₁</a> <a id="11774" href="Effect.Theory.FirstOrder.html#11705" class="Function Operator">≈⟪⟫</a> <a id="11778" href="Effect.Theory.FirstOrder.html#11778" class="Bound">eq</a> <a id="11781" class="Symbol">=</a> <a id="11783" href="Effect.Theory.FirstOrder.html#11778" class="Bound">eq</a>

  <a id="≈-Reasoning._≈⟪_⟫_"></a><a id="11789" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">_≈⟪_⟫_</a>  <a id="11797" class="Symbol">:</a> <a id="11799" class="Symbol">(</a><a id="11800" href="Effect.Theory.FirstOrder.html#11800" class="Bound">c₁</a> <a id="11803" class="Symbol">{</a><a id="11804" href="Effect.Theory.FirstOrder.html#11804" class="Bound">c₂</a> <a id="11807" href="Effect.Theory.FirstOrder.html#11807" class="Bound">c₃</a><a id="11809" class="Symbol">}</a> <a id="11811" class="Symbol">:</a> <a id="11813" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="11818" href="Effect.Theory.FirstOrder.html#11497" class="Bound">ε′</a> <a id="11821" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="11822" class="Symbol">)</a> <a id="11824" class="Symbol">→</a> <a id="11826" href="Effect.Theory.FirstOrder.html#11800" class="Bound">c₁</a> <a id="11829" href="Effect.Theory.FirstOrder.html#11525" class="Function Operator">≈</a> <a id="11831" href="Effect.Theory.FirstOrder.html#11804" class="Bound">c₂</a> <a id="11834" class="Symbol">→</a> <a id="11836" href="Effect.Theory.FirstOrder.html#11804" class="Bound">c₂</a> <a id="11839" href="Effect.Theory.FirstOrder.html#11525" class="Function Operator">≈</a> <a id="11841" href="Effect.Theory.FirstOrder.html#11807" class="Bound">c₃</a> <a id="11844" class="Symbol">→</a> <a id="11846" href="Effect.Theory.FirstOrder.html#11800" class="Bound">c₁</a> <a id="11849" href="Effect.Theory.FirstOrder.html#11525" class="Function Operator">≈</a> <a id="11851" href="Effect.Theory.FirstOrder.html#11807" class="Bound">c₃</a>
  <a id="11856" href="Effect.Theory.FirstOrder.html#11856" class="Bound">c₁</a> <a id="11859" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">≈⟪</a> <a id="11862" href="Effect.Theory.FirstOrder.html#11862" class="Bound">eq₁</a> <a id="11866" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">⟫</a> <a id="11868" href="Effect.Theory.FirstOrder.html#11868" class="Bound">eq₂</a> <a id="11872" class="Symbol">=</a> <a id="11874" href="Effect.Theory.FirstOrder.html#8595" class="InductiveConstructor">≈-trans</a> <a id="11882" href="Effect.Theory.FirstOrder.html#11862" class="Bound">eq₁</a> <a id="11886" href="Effect.Theory.FirstOrder.html#11868" class="Bound">eq₂</a>

  <a id="11893" class="Keyword">infix</a> <a id="11899" class="Number">1</a> <a id="11901" href="Effect.Theory.FirstOrder.html#11588" class="Function Operator">begin_</a>
  <a id="11910" class="Keyword">infixr</a> <a id="11917" class="Number">2</a> <a id="11919" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">_≈⟪_⟫_</a> <a id="11926" href="Effect.Theory.FirstOrder.html#11705" class="Function Operator">_≈⟪⟫_</a>
  <a id="11934" class="Keyword">infix</a> <a id="11940" class="Number">3</a> <a id="11942" href="Effect.Theory.FirstOrder.html#11658" class="Function Operator">_∎</a>

<a id="11946" class="Comment">-- Equivalence following from equations of the theory, specialized to empty continuations</a>
<a id="≈-eq′"></a><a id="12036" href="Effect.Theory.FirstOrder.html#12036" class="Function">≈-eq′</a> <a id="12042" class="Symbol">:</a> <a id="12044" class="Symbol">(</a><a id="12045" href="Effect.Theory.FirstOrder.html#12045" class="Bound">eq</a> <a id="12048" class="Symbol">:</a> <a id="12050" href="Core.Logic.html#2908" class="Record">□</a> <a id="12052" href="Effect.Theory.FirstOrder.html#1774" class="Record">Equation</a> <a id="12061" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="12062" class="Symbol">)</a>
      <a id="12070" class="Symbol">→</a> <a id="12072" href="Effect.Theory.FirstOrder.html#12045" class="Bound">eq</a> <a id="12075" href="Effect.Theory.FirstOrder.html#4433" class="Function Operator">◂</a> <a id="12077" href="Effect.Theory.FirstOrder.html#8197" class="Generalizable">T</a>
      <a id="12085" class="Symbol">→</a> <a id="12087" class="Symbol">{</a><a id="12088" href="Effect.Theory.FirstOrder.html#12088" class="Bound">ε′</a> <a id="12091" class="Symbol">:</a> <a id="12093" href="Effect.Base.html#735" class="Function">Effect</a><a id="12099" class="Symbol">}</a> <a id="12101" class="Symbol">→</a> <a id="12103" class="Symbol">⦃</a> <a id="12105" href="Effect.Theory.FirstOrder.html#12105" class="Bound">i</a> <a id="12107" class="Symbol">:</a> <a id="12109" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="12111" href="Core.Ternary.html#666" class="Field Operator">≲</a> <a id="12113" href="Effect.Theory.FirstOrder.html#12088" class="Bound">ε′</a> <a id="12116" class="Symbol">⦄</a>
      <a id="12124" class="Symbol">→</a> <a id="12126" class="Symbol">{</a><a id="12127" href="Effect.Theory.FirstOrder.html#12127" class="Bound">δ</a> <a id="12129" class="Symbol">:</a> <a id="12131" href="Effect.Theory.FirstOrder.html#1618" class="Function">TypeContext</a> <a id="12143" class="Symbol">((</a><a id="12145" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="12148" href="Effect.Theory.FirstOrder.html#12045" class="Bound">eq</a> <a id="12151" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="12153" href="Effect.Theory.FirstOrder.html#12105" class="Bound">i</a><a id="12154" class="Symbol">)</a> <a id="12156" class="Symbol">.</a><a id="12157" href="Effect.Theory.FirstOrder.html#1842" class="Field">Δ′</a><a id="12159" class="Symbol">)}</a>
      <a id="12168" class="Symbol">→</a> <a id="12170" class="Symbol">{</a><a id="12171" href="Effect.Theory.FirstOrder.html#12171" class="Bound">γ</a> <a id="12173" class="Symbol">:</a> <a id="12175" class="Symbol">(</a><a id="12176" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="12179" href="Effect.Theory.FirstOrder.html#12045" class="Bound">eq</a> <a id="12182" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="12184" href="Effect.Theory.FirstOrder.html#12105" class="Bound">i</a><a id="12185" class="Symbol">)</a> <a id="12187" class="Symbol">.</a><a id="12188" href="Effect.Theory.FirstOrder.html#1858" class="Field">Γ′</a> <a id="12191" href="Effect.Theory.FirstOrder.html#12127" class="Bound">δ</a><a id="12192" class="Symbol">}</a>
        <a id="12202" class="Comment">------------------------------------------------</a>
      <a id="12257" class="Symbol">→</a> <a id="12259" class="Symbol">(</a><a id="12260" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="12263" href="Effect.Theory.FirstOrder.html#12045" class="Bound">eq</a> <a id="12266" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="12268" href="Effect.Theory.FirstOrder.html#12105" class="Bound">i</a><a id="12269" class="Symbol">)</a> <a id="12271" class="Symbol">.</a><a id="12272" href="Effect.Theory.FirstOrder.html#1897" class="Field">lhs</a> <a id="12276" href="Effect.Theory.FirstOrder.html#12127" class="Bound">δ</a> <a id="12278" href="Effect.Theory.FirstOrder.html#12171" class="Bound">γ</a> <a id="12280" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="12283" href="Effect.Theory.FirstOrder.html#8197" class="Generalizable">T</a> <a id="12285" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="12287" class="Symbol">(</a><a id="12288" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="12291" href="Effect.Theory.FirstOrder.html#12045" class="Bound">eq</a> <a id="12294" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="12296" href="Effect.Theory.FirstOrder.html#12105" class="Bound">i</a><a id="12297" class="Symbol">)</a> <a id="12299" class="Symbol">.</a><a id="12300" href="Effect.Theory.FirstOrder.html#1901" class="Field">rhs</a> <a id="12304" href="Effect.Theory.FirstOrder.html#12127" class="Bound">δ</a> <a id="12306" href="Effect.Theory.FirstOrder.html#12171" class="Bound">γ</a>
<a id="12308" href="Effect.Theory.FirstOrder.html#12036" class="Function">≈-eq′</a> <a id="12314" href="Effect.Theory.FirstOrder.html#12314" class="Bound">eq</a> <a id="12317" href="Effect.Theory.FirstOrder.html#12317" class="Bound">px</a> <a id="12320" class="Symbol">{</a><a id="12321" class="Argument">δ</a> <a id="12323" class="Symbol">=</a> <a id="12325" href="Effect.Theory.FirstOrder.html#12325" class="Bound">δ</a><a id="12326" class="Symbol">}</a> <a id="12328" class="Symbol">{</a><a id="12329" class="Argument">γ</a> <a id="12331" class="Symbol">=</a> <a id="12333" href="Effect.Theory.FirstOrder.html#12333" class="Bound">γ</a><a id="12334" class="Symbol">}</a> <a id="12336" class="Symbol">=</a>
  <a id="12340" href="Effect.Theory.FirstOrder.html#11588" class="Function Operator">begin</a>
    <a id="12350" class="Symbol">(</a><a id="12351" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="12354" href="Effect.Theory.FirstOrder.html#12314" class="Bound">eq</a> <a id="12357" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="12359" class="Symbol">_)</a> <a id="12362" class="Symbol">.</a><a id="12363" href="Effect.Theory.FirstOrder.html#1897" class="Field">lhs</a> <a id="12367" href="Effect.Theory.FirstOrder.html#12325" class="Bound">δ</a> <a id="12369" href="Effect.Theory.FirstOrder.html#12333" class="Bound">γ</a>
  <a id="12373" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">≈⟪</a> <a id="12376" href="Effect.Theory.FirstOrder.html#8524" class="InductiveConstructor">≈-sym</a> <a id="12382" class="Symbol">(</a><a id="12383" href="Effect.Theory.FirstOrder.html#10466" class="Function">&gt;&gt;=-idʳ-≈</a> <a id="12393" class="Symbol">_)</a> <a id="12396" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">⟫</a>
    <a id="12402" class="Symbol">(</a><a id="12403" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="12406" href="Effect.Theory.FirstOrder.html#12314" class="Bound">eq</a> <a id="12409" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="12411" class="Symbol">_)</a> <a id="12414" class="Symbol">.</a><a id="12415" href="Effect.Theory.FirstOrder.html#1897" class="Field">lhs</a> <a id="12419" href="Effect.Theory.FirstOrder.html#12325" class="Bound">δ</a> <a id="12421" href="Effect.Theory.FirstOrder.html#12333" class="Bound">γ</a> <a id="12423" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="12427" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a>
  <a id="12434" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">≈⟪</a> <a id="12437" href="Effect.Theory.FirstOrder.html#8931" class="InductiveConstructor">≈-eq</a> <a id="12442" href="Effect.Theory.FirstOrder.html#12314" class="Bound">eq</a> <a id="12445" href="Effect.Theory.FirstOrder.html#12317" class="Bound">px</a> <a id="12448" href="Effect.Theory.FirstOrder.html#12325" class="Bound">δ</a> <a id="12450" href="Effect.Theory.FirstOrder.html#12333" class="Bound">γ</a> <a id="12452" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="12457" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">⟫</a>
    <a id="12463" class="Symbol">(</a><a id="12464" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="12467" href="Effect.Theory.FirstOrder.html#12314" class="Bound">eq</a> <a id="12470" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="12472" class="Symbol">_)</a> <a id="12475" class="Symbol">.</a><a id="12476" href="Effect.Theory.FirstOrder.html#1901" class="Field">rhs</a> <a id="12480" href="Effect.Theory.FirstOrder.html#12325" class="Bound">δ</a> <a id="12482" href="Effect.Theory.FirstOrder.html#12333" class="Bound">γ</a> <a id="12484" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="12488" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> 
  <a id="12496" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">≈⟪</a> <a id="12499" href="Effect.Theory.FirstOrder.html#10466" class="Function">&gt;&gt;=-idʳ-≈</a> <a id="12509" class="Symbol">_</a> <a id="12511" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">⟫</a> 
    <a id="12518" class="Symbol">(</a><a id="12519" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="12522" href="Effect.Theory.FirstOrder.html#12314" class="Bound">eq</a> <a id="12525" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="12527" class="Symbol">_)</a> <a id="12530" class="Symbol">.</a><a id="12531" href="Effect.Theory.FirstOrder.html#1901" class="Field">rhs</a> <a id="12535" href="Effect.Theory.FirstOrder.html#12325" class="Bound">δ</a> <a id="12537" href="Effect.Theory.FirstOrder.html#12333" class="Bound">γ</a>
  <a id="12541" href="Effect.Theory.FirstOrder.html#11658" class="Function Operator">∎</a>
  <a id="12545" class="Keyword">where</a> <a id="12551" class="Keyword">open</a> <a id="12556" href="Effect.Theory.FirstOrder.html#11460" class="Module">≈-Reasoning</a> <a id="12568" class="Symbol">_</a>


<a id="12572" class="Keyword">module</a> <a id="12579" href="Effect.Theory.FirstOrder.html#12579" class="Module">_</a> <a id="12581" class="Symbol">{</a><a id="12582" href="Effect.Theory.FirstOrder.html#12582" class="Bound">T</a> <a id="12584" class="Symbol">:</a> <a id="12586" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="12593" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="12594" class="Symbol">}</a> <a id="12596" class="Symbol">⦃</a> <a id="12598" href="Effect.Theory.FirstOrder.html#12598" class="Bound">_</a> <a id="12600" class="Symbol">:</a> <a id="12602" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="12604" href="Core.Ternary.html#666" class="Field Operator">≲</a> <a id="12606" href="Effect.Base.html#930" class="Generalizable">ε′</a> <a id="12609" class="Symbol">⦄</a> <a id="12611" class="Keyword">where</a> 
  
  <a id="12623" class="Comment">-- monadic bind respects syntactic equivalence of effect trees in the left position </a>
  <a id="12710" href="Effect.Theory.FirstOrder.html#12710" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="12722" class="Symbol">:</a> <a id="12724" class="Symbol">{</a><a id="12725" href="Effect.Theory.FirstOrder.html#12725" class="Bound">m₁</a> <a id="12728" href="Effect.Theory.FirstOrder.html#12728" class="Bound">m₂</a> <a id="12731" class="Symbol">:</a> <a id="12733" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="12738" href="Effect.Theory.FirstOrder.html#12606" class="Bound">ε′</a> <a id="12741" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="12742" class="Symbol">}</a> <a id="12744" class="Symbol">(</a><a id="12745" href="Effect.Theory.FirstOrder.html#12745" class="Bound">k</a> <a id="12747" class="Symbol">:</a> <a id="12749" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="12751" class="Symbol">→</a> <a id="12753" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="12758" href="Effect.Theory.FirstOrder.html#12606" class="Bound">ε′</a> <a id="12761" href="Core.Functor.html#1533" class="Generalizable">B</a><a id="12762" class="Symbol">)</a> <a id="12764" class="Symbol">→</a> <a id="12766" href="Effect.Theory.FirstOrder.html#12725" class="Bound">m₁</a> <a id="12769" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="12772" href="Effect.Theory.FirstOrder.html#12582" class="Bound">T</a> <a id="12774" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="12776" href="Effect.Theory.FirstOrder.html#12728" class="Bound">m₂</a> <a id="12779" class="Symbol">→</a> <a id="12781" href="Effect.Theory.FirstOrder.html#12725" class="Bound">m₁</a> <a id="12784" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="12788" href="Effect.Theory.FirstOrder.html#12745" class="Bound">k</a> <a id="12790" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="12793" href="Effect.Theory.FirstOrder.html#12582" class="Bound">T</a> <a id="12795" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="12797" href="Effect.Theory.FirstOrder.html#12728" class="Bound">m₂</a> <a id="12800" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="12804" href="Effect.Theory.FirstOrder.html#12745" class="Bound">k</a>
  <a id="12808" href="Effect.Theory.FirstOrder.html#12710" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="12820" href="Effect.Theory.FirstOrder.html#12820" class="Bound">k</a> <a id="12822" href="Effect.Theory.FirstOrder.html#8477" class="InductiveConstructor">≈-refl</a>                      <a id="12850" class="Symbol">=</a> <a id="12852" href="Effect.Theory.FirstOrder.html#8477" class="InductiveConstructor">≈-refl</a>
  <a id="12861" href="Effect.Theory.FirstOrder.html#12710" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="12873" href="Effect.Theory.FirstOrder.html#12873" class="Bound">k</a> <a id="12875" class="Symbol">(</a><a id="12876" href="Effect.Theory.FirstOrder.html#8524" class="InductiveConstructor">≈-sym</a> <a id="12882" href="Effect.Theory.FirstOrder.html#12882" class="Bound">eq</a><a id="12884" class="Symbol">)</a>                  <a id="12903" class="Symbol">=</a> <a id="12905" href="Effect.Theory.FirstOrder.html#8524" class="InductiveConstructor">≈-sym</a> <a id="12911" class="Symbol">(</a><a id="12912" href="Effect.Theory.FirstOrder.html#12710" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="12924" href="Effect.Theory.FirstOrder.html#12873" class="Bound">k</a> <a id="12926" href="Effect.Theory.FirstOrder.html#12882" class="Bound">eq</a><a id="12928" class="Symbol">)</a>
  <a id="12932" href="Effect.Theory.FirstOrder.html#12710" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="12944" href="Effect.Theory.FirstOrder.html#12944" class="Bound">k</a> <a id="12946" class="Symbol">(</a><a id="12947" href="Effect.Theory.FirstOrder.html#8595" class="InductiveConstructor">≈-trans</a> <a id="12955" href="Effect.Theory.FirstOrder.html#12955" class="Bound">eq₁</a> <a id="12959" href="Effect.Theory.FirstOrder.html#12959" class="Bound">eq₂</a><a id="12962" class="Symbol">)</a>           <a id="12974" class="Symbol">=</a> <a id="12976" href="Effect.Theory.FirstOrder.html#8595" class="InductiveConstructor">≈-trans</a> <a id="12984" class="Symbol">(</a><a id="12985" href="Effect.Theory.FirstOrder.html#12710" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="12997" href="Effect.Theory.FirstOrder.html#12944" class="Bound">k</a> <a id="12999" href="Effect.Theory.FirstOrder.html#12955" class="Bound">eq₁</a><a id="13002" class="Symbol">)</a> <a id="13004" class="Symbol">(</a><a id="13005" href="Effect.Theory.FirstOrder.html#12710" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="13017" href="Effect.Theory.FirstOrder.html#12944" class="Bound">k</a> <a id="13019" href="Effect.Theory.FirstOrder.html#12959" class="Bound">eq₂</a><a id="13022" class="Symbol">)</a>
  <a id="13026" href="Effect.Theory.FirstOrder.html#12710" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="13038" href="Effect.Theory.FirstOrder.html#13038" class="Bound">k</a> <a id="13040" class="Symbol">(</a><a id="13041" href="Effect.Theory.FirstOrder.html#8701" class="InductiveConstructor">≈-cong</a> <a id="13048" href="Effect.Theory.FirstOrder.html#13048" class="Bound">s</a> <a id="13050" href="Effect.Theory.FirstOrder.html#13050" class="Bound">p₁</a> <a id="13053" href="Effect.Theory.FirstOrder.html#13053" class="Bound">p₂</a> <a id="13056" href="Effect.Theory.FirstOrder.html#13056" class="Bound">x</a><a id="13057" class="Symbol">)</a>          <a id="13068" class="Symbol">=</a> <a id="13070" href="Effect.Theory.FirstOrder.html#8701" class="InductiveConstructor">≈-cong</a> <a id="13077" href="Effect.Theory.FirstOrder.html#13048" class="Bound">s</a> <a id="13079" class="Symbol">((</a><a id="13081" href="Core.Functor.Monad.html#423" class="Function Operator">_&gt;&gt;=</a> <a id="13086" href="Effect.Theory.FirstOrder.html#13038" class="Bound">k</a><a id="13087" class="Symbol">)</a> <a id="13089" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13091" href="Effect.Theory.FirstOrder.html#13050" class="Bound">p₁</a><a id="13093" class="Symbol">)</a> <a id="13095" class="Symbol">((</a><a id="13097" href="Core.Functor.Monad.html#423" class="Function Operator">_&gt;&gt;=</a> <a id="13102" href="Effect.Theory.FirstOrder.html#13038" class="Bound">k</a><a id="13103" class="Symbol">)</a> <a id="13105" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13107" href="Effect.Theory.FirstOrder.html#13053" class="Bound">p₂</a><a id="13109" class="Symbol">)</a> <a id="13111" class="Symbol">λ</a> <a id="13113" class="Symbol">{</a><a id="13114" href="Effect.Theory.FirstOrder.html#13114" class="Bound">v</a><a id="13115" class="Symbol">}</a> <a id="13117" class="Symbol">→</a> <a id="13119" href="Effect.Theory.FirstOrder.html#12710" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="13131" href="Effect.Theory.FirstOrder.html#13038" class="Bound">k</a> <a id="13133" class="Symbol">(</a><a id="13134" href="Effect.Theory.FirstOrder.html#13056" class="Bound">x</a> <a id="13136" class="Symbol">{</a><a id="13137" href="Effect.Theory.FirstOrder.html#13114" class="Bound">v</a><a id="13138" class="Symbol">})</a>
  <a id="13143" href="Effect.Theory.FirstOrder.html#12710" class="Function">&gt;&gt;=-resp-≈ˡ</a> <a id="13155" href="Effect.Theory.FirstOrder.html#13155" class="Bound">k</a> <a id="13157" class="Symbol">(</a><a id="13158" href="Effect.Theory.FirstOrder.html#8931" class="InductiveConstructor">≈-eq</a> <a id="13163" href="Effect.Theory.FirstOrder.html#13163" class="Bound">eq</a> <a id="13166" href="Effect.Theory.FirstOrder.html#13166" class="Bound">px</a> <a id="13169" href="Effect.Theory.FirstOrder.html#13169" class="Bound">δ</a> <a id="13171" href="Effect.Theory.FirstOrder.html#13171" class="Bound">γ</a> <a id="13173" href="Effect.Theory.FirstOrder.html#13173" class="Bound">k′</a><a id="13175" class="Symbol">)</a>         <a id="13185" class="Symbol">=</a>
    <a id="13191" href="Effect.Theory.FirstOrder.html#11588" class="Function Operator">begin</a>
      <a id="13203" class="Symbol">((</a><a id="13205" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="13208" href="Effect.Theory.FirstOrder.html#13163" class="Bound">eq</a> <a id="13211" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="13213" class="Symbol">_)</a> <a id="13216" class="Symbol">.</a><a id="13217" href="Effect.Theory.FirstOrder.html#1897" class="Field">lhs</a> <a id="13221" href="Effect.Theory.FirstOrder.html#13169" class="Bound">δ</a> <a id="13223" href="Effect.Theory.FirstOrder.html#13171" class="Bound">γ</a> <a id="13225" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="13229" href="Effect.Theory.FirstOrder.html#13173" class="Bound">k′</a><a id="13231" class="Symbol">)</a> <a id="13233" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="13237" href="Effect.Theory.FirstOrder.html#13155" class="Bound">k</a>
    <a id="13243" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">≈⟪</a> <a id="13246" href="Effect.Theory.FirstOrder.html#10557" class="Function">&gt;&gt;=-assoc-≈</a> <a id="13258" href="Effect.Theory.FirstOrder.html#13173" class="Bound">k′</a> <a id="13261" href="Effect.Theory.FirstOrder.html#13155" class="Bound">k</a> <a id="13263" class="Symbol">((</a><a id="13265" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="13268" href="Effect.Theory.FirstOrder.html#13163" class="Bound">eq</a> <a id="13271" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="13273" class="Symbol">_)</a> <a id="13276" class="Symbol">.</a><a id="13277" href="Effect.Theory.FirstOrder.html#1897" class="Field">lhs</a> <a id="13281" href="Effect.Theory.FirstOrder.html#13169" class="Bound">δ</a> <a id="13283" href="Effect.Theory.FirstOrder.html#13171" class="Bound">γ</a><a id="13284" class="Symbol">)</a> <a id="13286" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">⟫</a>
      <a id="13294" class="Symbol">(</a><a id="13295" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="13298" href="Effect.Theory.FirstOrder.html#13163" class="Bound">eq</a> <a id="13301" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="13303" class="Symbol">_)</a> <a id="13306" class="Symbol">.</a><a id="13307" href="Effect.Theory.FirstOrder.html#1897" class="Field">lhs</a> <a id="13311" href="Effect.Theory.FirstOrder.html#13169" class="Bound">δ</a> <a id="13313" href="Effect.Theory.FirstOrder.html#13171" class="Bound">γ</a> <a id="13315" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="13319" class="Symbol">(</a><a id="13320" href="Effect.Theory.FirstOrder.html#13173" class="Bound">k′</a> <a id="13323" href="Core.Functor.Monad.html#475" class="Function Operator">&gt;=&gt;</a> <a id="13327" href="Effect.Theory.FirstOrder.html#13155" class="Bound">k</a><a id="13328" class="Symbol">)</a>
    <a id="13334" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">≈⟪</a> <a id="13337" href="Effect.Theory.FirstOrder.html#8931" class="InductiveConstructor">≈-eq</a> <a id="13342" href="Effect.Theory.FirstOrder.html#13163" class="Bound">eq</a> <a id="13345" href="Effect.Theory.FirstOrder.html#13166" class="Bound">px</a> <a id="13348" href="Effect.Theory.FirstOrder.html#13169" class="Bound">δ</a> <a id="13350" href="Effect.Theory.FirstOrder.html#13171" class="Bound">γ</a> <a id="13352" class="Symbol">(</a><a id="13353" href="Effect.Theory.FirstOrder.html#13173" class="Bound">k′</a> <a id="13356" href="Core.Functor.Monad.html#475" class="Function Operator">&gt;=&gt;</a> <a id="13360" href="Effect.Theory.FirstOrder.html#13155" class="Bound">k</a><a id="13361" class="Symbol">)</a> <a id="13363" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">⟫</a>
      <a id="13371" class="Symbol">(</a><a id="13372" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="13375" href="Effect.Theory.FirstOrder.html#13163" class="Bound">eq</a> <a id="13378" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="13380" class="Symbol">_)</a> <a id="13383" class="Symbol">.</a><a id="13384" href="Effect.Theory.FirstOrder.html#1901" class="Field">rhs</a> <a id="13388" href="Effect.Theory.FirstOrder.html#13169" class="Bound">δ</a> <a id="13390" href="Effect.Theory.FirstOrder.html#13171" class="Bound">γ</a> <a id="13392" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="13396" class="Symbol">(</a><a id="13397" href="Effect.Theory.FirstOrder.html#13173" class="Bound">k′</a> <a id="13400" href="Core.Functor.Monad.html#475" class="Function Operator">&gt;=&gt;</a> <a id="13404" href="Effect.Theory.FirstOrder.html#13155" class="Bound">k</a><a id="13405" class="Symbol">)</a>
    <a id="13411" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">≈⟪</a> <a id="13414" href="Effect.Theory.FirstOrder.html#8524" class="InductiveConstructor">≈-sym</a> <a id="13420" class="Symbol">(</a><a id="13421" href="Effect.Theory.FirstOrder.html#10557" class="Function">&gt;&gt;=-assoc-≈</a> <a id="13433" href="Effect.Theory.FirstOrder.html#13173" class="Bound">k′</a> <a id="13436" href="Effect.Theory.FirstOrder.html#13155" class="Bound">k</a> <a id="13438" class="Symbol">((</a><a id="13440" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="13443" href="Effect.Theory.FirstOrder.html#13163" class="Bound">eq</a> <a id="13446" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="13448" class="Symbol">_)</a> <a id="13451" class="Symbol">.</a><a id="13452" href="Effect.Theory.FirstOrder.html#1901" class="Field">rhs</a> <a id="13456" href="Effect.Theory.FirstOrder.html#13169" class="Bound">δ</a> <a id="13458" href="Effect.Theory.FirstOrder.html#13171" class="Bound">γ</a><a id="13459" class="Symbol">))</a> <a id="13462" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">⟫</a>
      <a id="13470" class="Symbol">((</a><a id="13472" href="Core.Logic.html#3008" class="Field Operator">□⟨</a> <a id="13475" href="Effect.Theory.FirstOrder.html#13163" class="Bound">eq</a> <a id="13478" href="Core.Logic.html#3008" class="Field Operator">⟩</a> <a id="13480" class="Symbol">_)</a> <a id="13483" class="Symbol">.</a><a id="13484" href="Effect.Theory.FirstOrder.html#1901" class="Field">rhs</a> <a id="13488" href="Effect.Theory.FirstOrder.html#13169" class="Bound">δ</a> <a id="13490" href="Effect.Theory.FirstOrder.html#13171" class="Bound">γ</a> <a id="13492" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="13496" href="Effect.Theory.FirstOrder.html#13173" class="Bound">k′</a><a id="13498" class="Symbol">)</a> <a id="13500" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="13504" href="Effect.Theory.FirstOrder.html#13155" class="Bound">k</a> 
    <a id="13511" href="Effect.Theory.FirstOrder.html#11658" class="Function Operator">∎</a>
    <a id="13517" class="Keyword">where</a> <a id="13523" class="Keyword">open</a> <a id="13528" href="Effect.Theory.FirstOrder.html#11460" class="Module">≈-Reasoning</a> <a id="13540" class="Symbol">_</a>
  
  <a id="13547" class="Comment">-- monadic bind respects syntactic equivalence of effect trees in the right position </a>
  <a id="13635" href="Effect.Theory.FirstOrder.html#13635" class="Function">&gt;&gt;=-resp-≈ʳ</a> <a id="13647" class="Symbol">:</a> <a id="13649" class="Symbol">{</a><a id="13650" href="Effect.Theory.FirstOrder.html#13650" class="Bound">k₁</a> <a id="13653" href="Effect.Theory.FirstOrder.html#13653" class="Bound">k₂</a> <a id="13656" class="Symbol">:</a> <a id="13658" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="13660" class="Symbol">→</a> <a id="13662" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="13667" href="Effect.Theory.FirstOrder.html#12606" class="Bound">ε′</a> <a id="13670" href="Core.Functor.html#1533" class="Generalizable">B</a><a id="13671" class="Symbol">}</a> <a id="13673" class="Symbol">(</a><a id="13674" href="Effect.Theory.FirstOrder.html#13674" class="Bound">m</a> <a id="13676" class="Symbol">:</a> <a id="13678" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="13683" href="Effect.Theory.FirstOrder.html#12606" class="Bound">ε′</a> <a id="13686" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="13687" class="Symbol">)</a> <a id="13689" class="Symbol">→</a> <a id="13691" class="Symbol">(∀</a> <a id="13694" href="Effect.Theory.FirstOrder.html#13694" class="Bound">a</a> <a id="13696" class="Symbol">→</a> <a id="13698" href="Effect.Theory.FirstOrder.html#13650" class="Bound">k₁</a> <a id="13701" href="Effect.Theory.FirstOrder.html#13694" class="Bound">a</a> <a id="13703" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="13706" href="Effect.Theory.FirstOrder.html#12582" class="Bound">T</a> <a id="13708" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="13710" href="Effect.Theory.FirstOrder.html#13653" class="Bound">k₂</a> <a id="13713" href="Effect.Theory.FirstOrder.html#13694" class="Bound">a</a><a id="13714" class="Symbol">)</a> <a id="13716" class="Symbol">→</a> <a id="13718" href="Effect.Theory.FirstOrder.html#13674" class="Bound">m</a> <a id="13720" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="13724" href="Effect.Theory.FirstOrder.html#13650" class="Bound">k₁</a> <a id="13727" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">≈⟨</a> <a id="13730" href="Effect.Theory.FirstOrder.html#12582" class="Bound">T</a> <a id="13732" href="Effect.Theory.FirstOrder.html#8383" class="Datatype Operator">⟩</a> <a id="13734" href="Effect.Theory.FirstOrder.html#13674" class="Bound">m</a> <a id="13736" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="13740" href="Effect.Theory.FirstOrder.html#13653" class="Bound">k₂</a> 
  <a id="13746" href="Effect.Theory.FirstOrder.html#13635" class="Function">&gt;&gt;=-resp-≈ʳ</a> <a id="13758" class="Symbol">(</a><a id="13759" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="13764" href="Effect.Theory.FirstOrder.html#13764" class="Bound">x</a><a id="13765" class="Symbol">)</a> <a id="13767" href="Effect.Theory.FirstOrder.html#13767" class="Bound">eq</a> <a id="13770" class="Symbol">=</a> <a id="13772" href="Effect.Theory.FirstOrder.html#13767" class="Bound">eq</a> <a id="13775" class="Symbol">_</a>
  <a id="13779" href="Effect.Theory.FirstOrder.html#13635" class="Function">&gt;&gt;=-resp-≈ʳ</a> <a id="13791" class="Symbol">{</a><a id="13792" class="Argument">k₁</a> <a id="13795" class="Symbol">=</a> <a id="13797" href="Effect.Theory.FirstOrder.html#13797" class="Bound">k₁</a><a id="13799" class="Symbol">}</a> <a id="13801" class="Symbol">{</a><a id="13802" href="Effect.Theory.FirstOrder.html#13802" class="Bound">k₂</a><a id="13804" class="Symbol">}</a> <a id="13806" class="Symbol">(</a><a id="13807" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="13814" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="13816" href="Effect.Theory.FirstOrder.html#13816" class="Bound">c</a> <a id="13818" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13820" href="Effect.Theory.FirstOrder.html#13820" class="Bound">r</a> <a id="13822" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a><a id="13823" class="Symbol">)</a> <a id="13825" href="Effect.Theory.FirstOrder.html#13825" class="Bound">eq</a> <a id="13828" class="Symbol">=</a>
    <a id="13834" href="Effect.Theory.FirstOrder.html#11588" class="Function Operator">begin</a>
      <a id="13846" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="13853" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="13855" href="Effect.Theory.FirstOrder.html#13816" class="Bound">c</a> <a id="13857" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13859" href="Effect.Theory.FirstOrder.html#13820" class="Bound">r</a> <a id="13861" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a> <a id="13863" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="13867" href="Effect.Theory.FirstOrder.html#13797" class="Bound">k₁</a>
    <a id="13874" href="Effect.Theory.FirstOrder.html#11705" class="Function Operator">≈⟪⟫</a> <a id="13878" class="Comment">{- Definition of &gt;&gt;= -}</a> 
      <a id="13909" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="13916" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="13918" href="Effect.Theory.FirstOrder.html#13816" class="Bound">c</a> <a id="13920" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13922" class="Symbol">(</a><a id="13923" href="Core.Functor.Monad.html#423" class="Function Operator">_&gt;&gt;=</a> <a id="13928" href="Effect.Theory.FirstOrder.html#13797" class="Bound">k₁</a><a id="13930" class="Symbol">)</a> <a id="13932" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13934" href="Effect.Theory.FirstOrder.html#13820" class="Bound">r</a> <a id="13936" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a>  
    <a id="13944" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">≈⟪</a> <a id="13947" href="Effect.Theory.FirstOrder.html#8701" class="InductiveConstructor">≈-cong</a> <a id="13954" href="Effect.Theory.FirstOrder.html#13816" class="Bound">c</a> <a id="13956" class="Symbol">((</a><a id="13958" href="Core.Functor.Monad.html#423" class="Function Operator">_&gt;&gt;=</a> <a id="13963" href="Effect.Theory.FirstOrder.html#13797" class="Bound">k₁</a><a id="13965" class="Symbol">)</a> <a id="13967" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13969" href="Effect.Theory.FirstOrder.html#13820" class="Bound">r</a><a id="13970" class="Symbol">)</a> <a id="13972" class="Symbol">((</a><a id="13974" href="Core.Functor.Monad.html#423" class="Function Operator">_&gt;&gt;=</a> <a id="13979" href="Effect.Theory.FirstOrder.html#13802" class="Bound">k₂</a><a id="13981" class="Symbol">)</a> <a id="13983" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13985" href="Effect.Theory.FirstOrder.html#13820" class="Bound">r</a><a id="13986" class="Symbol">)</a> <a id="13988" class="Symbol">(</a><a id="13989" href="Effect.Theory.FirstOrder.html#13635" class="Function">&gt;&gt;=-resp-≈ʳ</a> <a id="14001" class="Symbol">(</a><a id="14002" href="Effect.Theory.FirstOrder.html#13820" class="Bound">r</a> <a id="14004" class="Symbol">_)</a> <a id="14007" href="Effect.Theory.FirstOrder.html#13825" class="Bound">eq</a><a id="14009" class="Symbol">)</a> <a id="14011" href="Effect.Theory.FirstOrder.html#11789" class="Function Operator">⟫</a>
      <a id="14019" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="14026" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="14028" href="Effect.Theory.FirstOrder.html#13816" class="Bound">c</a> <a id="14030" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14032" class="Symbol">(</a><a id="14033" href="Core.Functor.Monad.html#423" class="Function Operator">_&gt;&gt;=</a> <a id="14038" href="Effect.Theory.FirstOrder.html#13802" class="Bound">k₂</a><a id="14040" class="Symbol">)</a> <a id="14042" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14044" href="Effect.Theory.FirstOrder.html#13820" class="Bound">r</a> <a id="14046" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a>  
    <a id="14054" href="Effect.Theory.FirstOrder.html#11705" class="Function Operator">≈⟪⟫</a> <a id="14058" class="Comment">{- Definition of &gt;&gt;= -}</a>  
      <a id="14090" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="14097" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="14099" href="Effect.Theory.FirstOrder.html#13816" class="Bound">c</a> <a id="14101" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14103" href="Effect.Theory.FirstOrder.html#13820" class="Bound">r</a> <a id="14105" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a> <a id="14107" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="14111" href="Effect.Theory.FirstOrder.html#13802" class="Bound">k₂</a>
    <a id="14118" href="Effect.Theory.FirstOrder.html#11658" class="Function Operator">∎</a>
    <a id="14124" class="Keyword">where</a> <a id="14130" class="Keyword">open</a> <a id="14135" href="Effect.Theory.FirstOrder.html#11460" class="Module">≈-Reasoning</a> <a id="14147" class="Symbol">_</a> 
  
<a id="impure-injectiveˡ"></a><a id="14153" href="Effect.Theory.FirstOrder.html#14153" class="Function">impure-injectiveˡ</a> <a id="14171" class="Symbol">:</a>
  <a id="14175" class="Symbol">∀</a> <a id="14177" class="Symbol">{</a><a id="14178" href="Effect.Theory.FirstOrder.html#14178" class="Bound">ε</a><a id="14179" class="Symbol">}</a> <a id="14181" class="Symbol">{</a><a id="14182" href="Effect.Theory.FirstOrder.html#14182" class="Bound">c₁</a> <a id="14185" href="Effect.Theory.FirstOrder.html#14185" class="Bound">c₂</a> <a id="14188" class="Symbol">:</a> <a id="14190" href="Effect.Theory.FirstOrder.html#14178" class="Bound">ε</a> <a id="14192" class="Symbol">.</a><a id="14193" href="Core.Container.html#605" class="Field">shape</a><a id="14198" class="Symbol">}</a> <a id="14200" class="Symbol">{</a><a id="14201" href="Effect.Theory.FirstOrder.html#14201" class="Bound">k₁</a> <a id="14204" class="Symbol">:</a> <a id="14206" href="Effect.Theory.FirstOrder.html#14178" class="Bound">ε</a> <a id="14208" class="Symbol">.</a><a id="14209" href="Core.Container.html#628" class="Field">position</a> <a id="14218" href="Effect.Theory.FirstOrder.html#14182" class="Bound">c₁</a> <a id="14221" class="Symbol">→</a> <a id="14223" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="14228" href="Effect.Theory.FirstOrder.html#14178" class="Bound">ε</a> <a id="14230" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="14231" class="Symbol">}</a> <a id="14233" class="Symbol">{</a><a id="14234" href="Effect.Theory.FirstOrder.html#14234" class="Bound">k₂</a> <a id="14237" class="Symbol">:</a> <a id="14239" href="Effect.Theory.FirstOrder.html#14178" class="Bound">ε</a> <a id="14241" class="Symbol">.</a><a id="14242" href="Core.Container.html#628" class="Field">position</a> <a id="14251" href="Effect.Theory.FirstOrder.html#14185" class="Bound">c₂</a> <a id="14254" class="Symbol">→</a> <a id="14256" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="14261" href="Effect.Theory.FirstOrder.html#14178" class="Bound">ε</a> <a id="14263" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="14264" class="Symbol">}</a>
  <a id="14268" class="Symbol">→</a> <a id="14270" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="14277" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="14279" href="Effect.Theory.FirstOrder.html#14182" class="Bound">c₁</a> <a id="14282" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14284" href="Effect.Theory.FirstOrder.html#14201" class="Bound">k₁</a> <a id="14287" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a> <a id="14289" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14291" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="14298" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="14300" href="Effect.Theory.FirstOrder.html#14185" class="Bound">c₂</a> <a id="14303" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14305" href="Effect.Theory.FirstOrder.html#14234" class="Bound">k₂</a> <a id="14308" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a> <a id="14310" class="Symbol">→</a> <a id="14312" href="Effect.Theory.FirstOrder.html#14182" class="Bound">c₁</a> <a id="14315" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14317" href="Effect.Theory.FirstOrder.html#14185" class="Bound">c₂</a>
<a id="14320" href="Effect.Theory.FirstOrder.html#14153" class="Function">impure-injectiveˡ</a> <a id="14338" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="14343" class="Symbol">=</a> <a id="14345" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
 
<a id="impure-injectiveʳ"></a><a id="14352" href="Effect.Theory.FirstOrder.html#14352" class="Function">impure-injectiveʳ</a> <a id="14370" class="Symbol">:</a>
  <a id="14374" class="Symbol">∀</a> <a id="14376" class="Symbol">{</a><a id="14377" href="Effect.Theory.FirstOrder.html#14377" class="Bound">ε</a><a id="14378" class="Symbol">}</a> <a id="14380" class="Symbol">{</a><a id="14381" href="Effect.Theory.FirstOrder.html#14381" class="Bound">c₁</a> <a id="14384" href="Effect.Theory.FirstOrder.html#14384" class="Bound">c₂</a> <a id="14387" class="Symbol">:</a> <a id="14389" href="Effect.Theory.FirstOrder.html#14377" class="Bound">ε</a> <a id="14391" class="Symbol">.</a><a id="14392" href="Core.Container.html#605" class="Field">shape</a><a id="14397" class="Symbol">}</a> <a id="14399" class="Symbol">{</a><a id="14400" href="Effect.Theory.FirstOrder.html#14400" class="Bound">k₁</a> <a id="14403" class="Symbol">:</a> <a id="14405" href="Effect.Theory.FirstOrder.html#14377" class="Bound">ε</a> <a id="14407" class="Symbol">.</a><a id="14408" href="Core.Container.html#628" class="Field">position</a> <a id="14417" href="Effect.Theory.FirstOrder.html#14381" class="Bound">c₁</a> <a id="14420" class="Symbol">→</a> <a id="14422" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="14427" href="Effect.Theory.FirstOrder.html#14377" class="Bound">ε</a> <a id="14429" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="14430" class="Symbol">}</a> <a id="14432" class="Symbol">{</a><a id="14433" href="Effect.Theory.FirstOrder.html#14433" class="Bound">k₂</a> <a id="14436" class="Symbol">:</a> <a id="14438" href="Effect.Theory.FirstOrder.html#14377" class="Bound">ε</a> <a id="14440" class="Symbol">.</a><a id="14441" href="Core.Container.html#628" class="Field">position</a> <a id="14450" href="Effect.Theory.FirstOrder.html#14384" class="Bound">c₂</a> <a id="14453" class="Symbol">→</a> <a id="14455" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="14460" href="Effect.Theory.FirstOrder.html#14377" class="Bound">ε</a> <a id="14462" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="14463" class="Symbol">}</a>
  <a id="14467" class="Symbol">→</a> <a id="14469" class="Symbol">(</a><a id="14470" href="Effect.Theory.FirstOrder.html#14470" class="Bound">eq</a> <a id="14473" class="Symbol">:</a> <a id="14475" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="14482" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="14484" href="Effect.Theory.FirstOrder.html#14381" class="Bound">c₁</a> <a id="14487" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14489" href="Effect.Theory.FirstOrder.html#14400" class="Bound">k₁</a> <a id="14492" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a> <a id="14494" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14496" href="Effect.Syntax.Free.html#554" class="InductiveConstructor">impure</a> <a id="14503" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="14505" href="Effect.Theory.FirstOrder.html#14384" class="Bound">c₂</a> <a id="14508" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14510" href="Effect.Theory.FirstOrder.html#14433" class="Bound">k₂</a> <a id="14513" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a><a id="14514" class="Symbol">)</a> <a id="14516" class="Symbol">→</a> <a id="14518" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="14524" class="Symbol">_</a> <a id="14526" class="Symbol">(</a><a id="14527" href="Effect.Theory.FirstOrder.html#14153" class="Function">impure-injectiveˡ</a> <a id="14545" href="Effect.Theory.FirstOrder.html#14470" class="Bound">eq</a><a id="14547" class="Symbol">)</a> <a id="14549" href="Effect.Theory.FirstOrder.html#14400" class="Bound">k₁</a> <a id="14552" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14554" href="Effect.Theory.FirstOrder.html#14433" class="Bound">k₂</a>
<a id="14557" href="Effect.Theory.FirstOrder.html#14352" class="Function">impure-injectiveʳ</a> <a id="14575" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="14580" class="Symbol">=</a> <a id="14582" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>


<a id="14589" class="Comment">-- Heterogeneous theory inclusion respects heterogeneous composition in both positions</a>
<a id="≪-compose-left"></a><a id="14676" href="Effect.Theory.FirstOrder.html#14676" class="Function">≪-compose-left</a> <a id="14691" class="Symbol">:</a>
  <a id="14695" class="Symbol">∀</a> <a id="14697" class="Symbol">(</a><a id="14698" href="Effect.Theory.FirstOrder.html#14698" class="Bound">T₁</a> <a id="14701" class="Symbol">:</a> <a id="14703" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="14710" href="Effect.Base.html#921" class="Generalizable">ε₁</a><a id="14712" class="Symbol">)</a> <a id="14714" class="Symbol">(</a><a id="14715" href="Effect.Theory.FirstOrder.html#14715" class="Bound">T₂</a> <a id="14718" class="Symbol">:</a> <a id="14720" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="14727" href="Effect.Base.html#924" class="Generalizable">ε₂</a><a id="14729" class="Symbol">)</a>
  <a id="14733" class="Symbol">→</a> <a id="14735" class="Symbol">(</a><a id="14736" href="Effect.Theory.FirstOrder.html#14736" class="Bound">σ</a> <a id="14738" class="Symbol">:</a> <a id="14740" href="Effect.Base.html#921" class="Generalizable">ε₁</a> <a id="14743" href="Core.Ternary.html#767" class="Field Operator">∙</a> <a id="14745" href="Effect.Base.html#924" class="Generalizable">ε₂</a> <a id="14748" href="Core.Ternary.html#767" class="Field Operator">≈</a> <a id="14750" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="14751" class="Symbol">)</a>
     <a id="14758" class="Comment">-----------------------------------------------</a>
  <a id="14808" class="Symbol">→</a> <a id="14810" href="Effect.Theory.FirstOrder.html#14698" class="Bound">T₁</a> <a id="14813" href="Effect.Theory.FirstOrder.html#4604" class="Record Operator">≪</a> <a id="14815" href="Effect.Theory.FirstOrder.html#8055" class="Function">compose-theory</a> <a id="14830" class="Symbol">(</a><a id="14831" href="Effect.Theory.FirstOrder.html#14698" class="Bound">T₁</a> <a id="14834" href="Core.Logic.html#755" class="InductiveConstructor Operator">✴⟨</a> <a id="14837" href="Effect.Theory.FirstOrder.html#14736" class="Bound">σ</a> <a id="14839" href="Core.Logic.html#755" class="InductiveConstructor Operator">⟩</a> <a id="14841" href="Effect.Theory.FirstOrder.html#14715" class="Bound">T₂</a><a id="14843" class="Symbol">)</a>
<a id="14845" href="Effect.Theory.FirstOrder.html#4673" class="Field">≲-eff</a> <a id="14851" class="Symbol">(</a><a id="14852" href="Effect.Theory.FirstOrder.html#14676" class="Function">≪-compose-left</a> <a id="14867" href="Effect.Theory.FirstOrder.html#14867" class="Bound">T₁</a> <a id="14870" href="Effect.Theory.FirstOrder.html#14870" class="Bound">T₂</a> <a id="14873" href="Effect.Theory.FirstOrder.html#14873" class="Bound">σ</a><a id="14874" class="Symbol">)</a>            <a id="14887" class="Symbol">=</a> <a id="14889" href="Effect.Relation.Binary.FirstOrderInclusion.html#1260" class="Function">≲-∙-left</a> <a id="14898" href="Effect.Theory.FirstOrder.html#14873" class="Bound">σ</a>
<a id="14900" href="Effect.Theory.FirstOrder.html#4697" class="Field">sub</a>   <a id="14906" class="Symbol">(</a><a id="14907" href="Effect.Theory.FirstOrder.html#14676" class="Function">≪-compose-left</a> <a id="14922" href="Effect.Theory.FirstOrder.html#14922" class="Bound">T₁</a> <a id="14925" href="Effect.Theory.FirstOrder.html#14925" class="Bound">T₂</a> <a id="14928" href="Effect.Theory.FirstOrder.html#14928" class="Bound">σ</a><a id="14929" class="Symbol">)</a> <a id="14931" class="Symbol">(</a><a id="14932" href="Effect.Theory.FirstOrder.html#14932" class="Bound">a</a> <a id="14934" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14936" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="14940" class="Symbol">)</a> <a id="14942" class="Symbol">=</a> <a id="14944" class="Symbol">(</a><a id="14945" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="14950" href="Effect.Theory.FirstOrder.html#14932" class="Bound">a</a><a id="14951" class="Symbol">)</a> <a id="14953" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14955" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="≪-compose-right"></a><a id="14961" href="Effect.Theory.FirstOrder.html#14961" class="Function">≪-compose-right</a> <a id="14977" class="Symbol">:</a>
  <a id="14981" class="Symbol">∀</a> <a id="14983" class="Symbol">(</a><a id="14984" href="Effect.Theory.FirstOrder.html#14984" class="Bound">T₁</a> <a id="14987" class="Symbol">:</a> <a id="14989" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="14996" href="Effect.Base.html#921" class="Generalizable">ε₁</a><a id="14998" class="Symbol">)</a> <a id="15000" class="Symbol">(</a><a id="15001" href="Effect.Theory.FirstOrder.html#15001" class="Bound">T₂</a> <a id="15004" class="Symbol">:</a> <a id="15006" href="Effect.Theory.FirstOrder.html#3847" class="Record">Theory</a> <a id="15013" href="Effect.Base.html#924" class="Generalizable">ε₂</a><a id="15015" class="Symbol">)</a>
  <a id="15019" class="Symbol">→</a> <a id="15021" class="Symbol">(</a><a id="15022" href="Effect.Theory.FirstOrder.html#15022" class="Bound">σ</a> <a id="15024" class="Symbol">:</a> <a id="15026" href="Effect.Base.html#921" class="Generalizable">ε₁</a> <a id="15029" href="Core.Ternary.html#767" class="Field Operator">∙</a> <a id="15031" href="Effect.Base.html#924" class="Generalizable">ε₂</a> <a id="15034" href="Core.Ternary.html#767" class="Field Operator">≈</a> <a id="15036" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="15037" class="Symbol">)</a>
    <a id="15043" class="Comment">-------------------------------------------------</a>
  <a id="15095" class="Symbol">→</a> <a id="15097" href="Effect.Theory.FirstOrder.html#15001" class="Bound">T₂</a> <a id="15100" href="Effect.Theory.FirstOrder.html#4604" class="Record Operator">≪</a> <a id="15102" href="Effect.Theory.FirstOrder.html#8055" class="Function">compose-theory</a> <a id="15117" class="Symbol">(</a><a id="15118" href="Effect.Theory.FirstOrder.html#14984" class="Bound">T₁</a> <a id="15121" href="Core.Logic.html#755" class="InductiveConstructor Operator">✴⟨</a> <a id="15124" href="Effect.Theory.FirstOrder.html#15022" class="Bound">σ</a> <a id="15126" href="Core.Logic.html#755" class="InductiveConstructor Operator">⟩</a> <a id="15128" href="Effect.Theory.FirstOrder.html#15001" class="Bound">T₂</a><a id="15130" class="Symbol">)</a>
<a id="15132" href="Effect.Theory.FirstOrder.html#4673" class="Field">≲-eff</a> <a id="15138" class="Symbol">(</a><a id="15139" href="Effect.Theory.FirstOrder.html#14961" class="Function">≪-compose-right</a> <a id="15155" href="Effect.Theory.FirstOrder.html#15155" class="Bound">T₁</a> <a id="15158" href="Effect.Theory.FirstOrder.html#15158" class="Bound">T₂</a> <a id="15161" href="Effect.Theory.FirstOrder.html#15161" class="Bound">σ</a><a id="15162" class="Symbol">)</a> <a id="15164" class="Symbol">=</a> <a id="15166" href="Effect.Relation.Binary.FirstOrderInclusion.html#1315" class="Function">≲-∙-right</a> <a id="15176" href="Effect.Theory.FirstOrder.html#15161" class="Bound">σ</a>
<a id="15178" href="Effect.Theory.FirstOrder.html#4697" class="Field">sub</a>   <a id="15184" class="Symbol">(</a><a id="15185" href="Effect.Theory.FirstOrder.html#14961" class="Function">≪-compose-right</a> <a id="15201" href="Effect.Theory.FirstOrder.html#15201" class="Bound">T₁</a> <a id="15204" href="Effect.Theory.FirstOrder.html#15204" class="Bound">T₂</a> <a id="15207" href="Effect.Theory.FirstOrder.html#15207" class="Bound">σ</a><a id="15208" class="Symbol">)</a> <a id="15210" class="Symbol">(</a><a id="15211" href="Effect.Theory.FirstOrder.html#15211" class="Bound">a</a> <a id="15213" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15215" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="15219" class="Symbol">)</a> <a id="15221" class="Symbol">=</a> <a id="15223" class="Symbol">(</a><a id="15224" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="15229" href="Effect.Theory.FirstOrder.html#15211" class="Bound">a</a><a id="15230" class="Symbol">)</a> <a id="15232" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15234" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

</pre></body></html>