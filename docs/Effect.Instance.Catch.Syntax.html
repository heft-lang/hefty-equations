<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Effect.Instance.Catch.Syntax</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Pragma">--type-in-type</a> <a id="40" class="Symbol">#-}</a>

<a id="45" class="Keyword">open</a> <a id="50" class="Keyword">import</a> <a id="57" href="Core.Functor.html" class="Module">Core.Functor</a>
<a id="70" class="Keyword">open</a> <a id="75" class="Keyword">import</a> <a id="82" href="Core.Signature.html" class="Module">Core.Signature</a>
<a id="97" class="Keyword">open</a> <a id="102" class="Keyword">import</a> <a id="109" href="Core.Ternary.html" class="Module">Core.Ternary</a>

<a id="123" class="Keyword">open</a> <a id="128" class="Keyword">import</a> <a id="135" href="Effect.Base.html" class="Module">Effect.Base</a>
<a id="147" class="Keyword">open</a> <a id="152" class="Keyword">import</a> <a id="159" href="Effect.Syntax.Hefty.html" class="Module">Effect.Syntax.Hefty</a>

<a id="180" class="Keyword">open</a> <a id="185" class="Keyword">import</a> <a id="192" href="Effect.Relation.Ternary.HigherOrderSeparation.html" class="Module">Effect.Relation.Ternary.HigherOrderSeparation</a>
<a id="238" class="Keyword">open</a> <a id="243" class="Keyword">import</a> <a id="250" href="Effect.Relation.Binary.HigherOrderInclusion.html" class="Module">Effect.Relation.Binary.HigherOrderInclusion</a>

<a id="295" class="Keyword">open</a> <a id="300" class="Keyword">import</a> <a id="307" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="318" class="Keyword">open</a> <a id="323" class="Keyword">import</a> <a id="330" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="340" class="Keyword">open</a> <a id="345" class="Keyword">import</a> <a id="352" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="361" class="Keyword">open</a> <a id="366" class="Keyword">import</a> <a id="373" href="Data.Product.html" class="Module">Data.Product</a>

<a id="387" class="Keyword">open</a> <a id="392" class="Keyword">import</a> <a id="399" href="Function.html" class="Module">Function</a> 

<a id="410" class="Keyword">open</a> <a id="415" class="Keyword">import</a> <a id="422" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="460" class="Keyword">renaming</a> <a id="469" class="Symbol">(</a><a id="470" href="Relation.Binary.PropositionalEquality.html#4403" class="InductiveConstructor Operator">[_]</a> <a id="474" class="Symbol">to</a> <a id="477" class="InductiveConstructor Operator">≡[_]</a><a id="481" class="Symbol">)</a>

<a id="484" class="Keyword">module</a> <a id="491" href="Effect.Instance.Catch.Syntax.html" class="Module">Effect.Instance.Catch.Syntax</a> <a id="520" class="Keyword">where</a>

<a id="527" class="Keyword">data</a> <a id="CatchC"></a><a id="532" href="Effect.Instance.Catch.Syntax.html#532" class="Datatype">CatchC</a> <a id="539" class="Symbol">:</a> <a id="541" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="545" class="Keyword">where</a>
  <a id="CatchC.`throw"></a><a id="553" href="Effect.Instance.Catch.Syntax.html#553" class="InductiveConstructor">`throw</a> <a id="560" class="Symbol">:</a> <a id="562" href="Effect.Instance.Catch.Syntax.html#532" class="Datatype">CatchC</a>
  <a id="CatchC.`catch"></a><a id="571" href="Effect.Instance.Catch.Syntax.html#571" class="InductiveConstructor">`catch</a> <a id="578" class="Symbol">:</a> <a id="580" class="Symbol">(</a><a id="581" href="Effect.Instance.Catch.Syntax.html#581" class="Bound">t</a> <a id="583" class="Symbol">:</a> <a id="585" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="588" class="Symbol">)</a> <a id="590" class="Symbol">→</a> <a id="592" href="Effect.Instance.Catch.Syntax.html#532" class="Datatype">CatchC</a>
  
<a id="Catch"></a><a id="602" href="Effect.Instance.Catch.Syntax.html#602" class="Function">Catch</a> <a id="608" class="Symbol">:</a> <a id="610" href="Effect.Base.html#735" class="Function">Effect</a> <a id="617" class="Symbol">→</a> <a id="619" href="Core.Signature.html#678" class="Record">Signature</a> 
<a id="630" href="Effect.Instance.Catch.Syntax.html#602" class="Function">Catch</a> <a id="636" class="Symbol">_</a> <a id="638" class="Symbol">=</a> <a id="640" class="Keyword">record</a>
  <a id="649" class="Symbol">{</a> <a id="651" href="Core.Signature.html#731" class="Field">command</a>  <a id="660" class="Symbol">=</a> <a id="662" href="Effect.Instance.Catch.Syntax.html#532" class="Datatype">CatchC</a>
  <a id="671" class="Symbol">;</a> <a id="673" href="Core.Signature.html#750" class="Field">response</a> <a id="682" class="Symbol">=</a> <a id="684" class="Symbol">λ</a> <a id="686" class="Keyword">where</a> <a id="692" class="Symbol">(</a><a id="693" href="Effect.Instance.Catch.Syntax.html#571" class="InductiveConstructor">`catch</a> <a id="700" href="Effect.Instance.Catch.Syntax.html#700" class="Bound">t</a><a id="701" class="Symbol">)</a> <a id="703" class="Symbol">→</a> <a id="705" href="Effect.Instance.Catch.Syntax.html#700" class="Bound">t</a>
                       <a id="730" href="Effect.Instance.Catch.Syntax.html#553" class="InductiveConstructor">`throw</a>     <a id="741" class="Symbol">→</a> <a id="743" href="Data.Empty.html#895" class="Function">⊥</a> 
  <a id="748" class="Symbol">;</a> <a id="750" href="Core.Signature.html#780" class="Field">fork</a>     <a id="759" class="Symbol">=</a> <a id="761" class="Symbol">λ</a> <a id="763" class="Keyword">where</a> <a id="769" class="Symbol">(</a><a id="770" href="Effect.Instance.Catch.Syntax.html#571" class="InductiveConstructor">`catch</a> <a id="777" href="Effect.Instance.Catch.Syntax.html#777" class="Bound">A</a><a id="778" class="Symbol">)</a> <a id="780" class="Symbol">→</a> <a id="782" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="784" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="786" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
                       <a id="811" href="Effect.Instance.Catch.Syntax.html#553" class="InductiveConstructor">`throw</a>     <a id="822" class="Symbol">→</a> <a id="824" href="Data.Empty.html#895" class="Function">⊥</a> 
  <a id="829" class="Symbol">;</a> <a id="831" href="Core.Signature.html#809" class="Field">returns</a>  <a id="840" class="Symbol">=</a> <a id="842" class="Symbol">λ</a> <a id="844" class="Keyword">where</a> <a id="850" class="Symbol">{(</a><a id="852" href="Effect.Instance.Catch.Syntax.html#571" class="InductiveConstructor">`catch</a> <a id="859" href="Effect.Instance.Catch.Syntax.html#859" class="Bound">A</a><a id="860" class="Symbol">)}</a> <a id="863" class="Symbol">→</a> <a id="865" href="Data.Sum.Base.html#811" class="Function Operator">[</a> <a id="867" class="Symbol">(λ</a> <a id="870" class="Keyword">where</a> <a id="876" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="879" class="Symbol">→</a> <a id="881" href="Effect.Instance.Catch.Syntax.html#859" class="Bound">A</a><a id="882" class="Symbol">)</a> <a id="884" href="Data.Sum.Base.html#811" class="Function Operator">,</a> <a id="886" class="Symbol">(λ</a> <a id="889" class="Keyword">where</a> <a id="895" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="898" class="Symbol">→</a> <a id="900" href="Effect.Instance.Catch.Syntax.html#859" class="Bound">A</a><a id="901" class="Symbol">)</a> <a id="903" href="Data.Sum.Base.html#811" class="Function Operator">]</a>
  <a id="907" class="Symbol">}</a>

<a id="throw"></a><a id="910" href="Effect.Instance.Catch.Syntax.html#910" class="Function">throw</a> <a id="916" class="Symbol">:</a> <a id="918" class="Symbol">⦃</a> <a id="920" href="Effect.Instance.Catch.Syntax.html#602" class="Function">Catch</a> <a id="926" href="Core.Ternary.html#666" class="Field Operator">≲</a> <a id="928" href="Effect.Base.html#951" class="Generalizable">η</a> <a id="930" class="Symbol">⦄</a> <a id="932" class="Symbol">→</a> <a id="934" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="940" class="Symbol">(</a><a id="941" href="Effect.Base.html#951" class="Generalizable">η</a> <a id="943" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="944" class="Symbol">)</a> <a id="946" href="Core.Functor.html#1514" class="Generalizable">A</a>
<a id="948" href="Effect.Instance.Catch.Syntax.html#910" class="Function">throw</a> <a id="954" class="Symbol">=</a> <a id="956" href="Effect.Relation.Binary.HigherOrderInclusion.html#959" class="Function">♯ᴴ</a> <a id="959" class="Symbol">(</a><a id="960" href="Effect.Syntax.Hefty.html#497" class="InductiveConstructor">impure</a> <a id="967" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟪</a> <a id="969" href="Effect.Instance.Catch.Syntax.html#553" class="InductiveConstructor">`throw</a> <a id="976" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="978" class="Symbol">(λ())</a> <a id="984" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="986" class="Symbol">(λ())</a> <a id="992" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟫</a><a id="993" class="Symbol">)</a>

<a id="catch"></a><a id="996" href="Effect.Instance.Catch.Syntax.html#996" class="Function">catch</a> <a id="1002" class="Symbol">:</a> <a id="1004" class="Symbol">⦃</a> <a id="1006" href="Effect.Instance.Catch.Syntax.html#602" class="Function">Catch</a> <a id="1012" href="Core.Ternary.html#666" class="Field Operator">≲</a> <a id="1014" href="Effect.Base.html#951" class="Generalizable">η</a> <a id="1016" class="Symbol">⦄</a> <a id="1018" class="Symbol">→</a> <a id="1020" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="1026" class="Symbol">(</a><a id="1027" href="Effect.Base.html#951" class="Generalizable">η</a> <a id="1029" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="1030" class="Symbol">)</a> <a id="1032" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="1034" class="Symbol">→</a> <a id="1036" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="1042" class="Symbol">(</a><a id="1043" href="Effect.Base.html#951" class="Generalizable">η</a> <a id="1045" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="1046" class="Symbol">)</a> <a id="1048" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="1050" class="Symbol">→</a> <a id="1052" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="1058" class="Symbol">(</a><a id="1059" href="Effect.Base.html#951" class="Generalizable">η</a> <a id="1061" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="1062" class="Symbol">)</a> <a id="1064" href="Core.Functor.html#1514" class="Generalizable">A</a> 
<a id="1067" href="Effect.Instance.Catch.Syntax.html#996" class="Function">catch</a> <a id="1073" href="Effect.Instance.Catch.Syntax.html#1073" class="Bound">m₁</a> <a id="1076" href="Effect.Instance.Catch.Syntax.html#1076" class="Bound">m₂</a> <a id="1079" class="Symbol">=</a> <a id="1081" href="Effect.Syntax.Hefty.html#497" class="InductiveConstructor">impure</a> <a id="1088" class="Symbol">(</a><a id="1089" href="Effect.Relation.Binary.HigherOrderInclusion.html#796" class="Function">injᴴ</a> <a id="1094" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟪</a> <a id="1096" href="Effect.Instance.Catch.Syntax.html#571" class="InductiveConstructor">`catch</a> <a id="1103" class="Symbol">_</a> <a id="1105" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1107" href="Effect.Syntax.Hefty.html#454" class="InductiveConstructor">pure</a> <a id="1112" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1114" href="Data.Sum.Base.html#811" class="Function Operator">[</a> <a id="1116" href="Function.Base.html#725" class="Function">const</a> <a id="1122" href="Effect.Instance.Catch.Syntax.html#1073" class="Bound">m₁</a> <a id="1125" href="Data.Sum.Base.html#811" class="Function Operator">,</a> <a id="1127" href="Function.Base.html#725" class="Function">const</a> <a id="1133" href="Effect.Instance.Catch.Syntax.html#1076" class="Bound">m₂</a> <a id="1136" href="Data.Sum.Base.html#811" class="Function Operator">]</a> <a id="1138" href="Core.Signature.html#1004" class="InductiveConstructor Operator">⟫</a><a id="1139" class="Symbol">)</a>

   
</pre></body></html>