<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Effect.Theory.HigherOrder</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Symbol">#-}</a> 

<a id="31" class="Keyword">open</a> <a id="36" class="Keyword">import</a> <a id="43" href="Core.Functor.html" class="Module">Core.Functor</a>
<a id="56" class="Keyword">open</a> <a id="61" class="Keyword">import</a> <a id="68" href="Core.Functor.Monad.html" class="Module">Core.Functor.Monad</a>

<a id="88" class="Keyword">open</a> <a id="93" class="Keyword">import</a> <a id="100" href="Core.Signature.html" class="Module">Core.Signature</a>
<a id="115" class="Keyword">open</a> <a id="120" class="Keyword">import</a> <a id="127" href="Core.Extensionality.html" class="Module">Core.Extensionality</a>
<a id="147" class="Keyword">open</a> <a id="152" class="Keyword">import</a> <a id="159" href="Core.MonotonePredicate.html" class="Module">Core.MonotonePredicate</a> 

<a id="184" class="Keyword">open</a> <a id="189" class="Keyword">import</a> <a id="196" href="Effect.Base.html" class="Module">Effect.Base</a>
<a id="208" class="Keyword">open</a> <a id="213" class="Keyword">import</a> <a id="220" href="Effect.Theory.FirstOrder.html" class="Module">Effect.Theory.FirstOrder</a>
<a id="245" class="Keyword">open</a> <a id="250" class="Keyword">import</a> <a id="257" href="Effect.Elaborate.html" class="Module">Effect.Elaborate</a>
<a id="274" class="Keyword">open</a> <a id="279" class="Keyword">import</a> <a id="286" href="Effect.Separation.html" class="Module">Effect.Separation</a>
<a id="304" class="Keyword">open</a> <a id="309" class="Keyword">import</a> <a id="316" href="Effect.Logic.html" class="Module">Effect.Logic</a>
<a id="329" class="Keyword">open</a> <a id="334" class="Keyword">import</a> <a id="341" href="Effect.Inclusion.html" class="Module">Effect.Inclusion</a>

<a id="359" class="Keyword">open</a> <a id="364" class="Keyword">import</a> <a id="371" href="Effect.Syntax.Free.html" class="Module">Effect.Syntax.Free</a>
<a id="390" class="Keyword">open</a> <a id="395" class="Keyword">import</a> <a id="402" href="Effect.Syntax.Hefty.html" class="Module">Effect.Syntax.Hefty</a>

<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Data.List.html" class="Module">Data.List</a> <a id="445" class="Keyword">hiding</a> <a id="452" class="Symbol">(</a><a id="453" href="Data.List.Base.html#5040" class="Function Operator">[_]</a><a id="456" class="Symbol">)</a>
<a id="458" class="Keyword">open</a> <a id="463" class="Keyword">import</a> <a id="470" href="Data.List.Membership.Propositional.html" class="Module">Data.List.Membership.Propositional</a>
<a id="505" class="Keyword">open</a> <a id="510" class="Keyword">import</a> <a id="517" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a> <a id="546" class="Keyword">hiding</a> <a id="553" class="Symbol">(</a><a id="554" href="Data.List.Relation.Unary.Any.html#1643" class="Function">map</a><a id="557" class="Symbol">)</a>

<a id="560" class="Keyword">open</a> <a id="565" class="Keyword">import</a> <a id="572" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="581" class="Keyword">hiding</a> <a id="588" class="Symbol">(</a><a id="589" href="Data.Vec.Base.html#2643" class="Function">map</a> <a id="593" class="Symbol">;</a> <a id="595" href="Data.Vec.Base.html#2764" class="Function Operator">_++_</a> <a id="600" class="Symbol">;</a> <a id="602" href="Data.Vec.Base.html#6148" class="Function Operator">[_]</a><a id="605" class="Symbol">)</a>
<a id="607" class="Keyword">open</a> <a id="612" class="Keyword">import</a> <a id="619" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="628" class="Keyword">hiding</a> <a id="635" class="Symbol">(</a><a id="636" href="Data.Sum.Base.html#1362" class="Function">map</a><a id="639" class="Symbol">)</a>
<a id="641" class="Keyword">open</a> <a id="646" class="Keyword">import</a> <a id="653" href="Data.Product.html" class="Module">Data.Product</a> <a id="666" class="Keyword">hiding</a> <a id="673" class="Symbol">(</a><a id="674" href="Data.Product.html#2486" class="Function">map</a><a id="677" class="Symbol">)</a>
<a id="679" class="Keyword">open</a> <a id="684" class="Keyword">import</a> <a id="691" href="Data.Nat.html" class="Module">Data.Nat</a>

<a id="701" class="Keyword">open</a> <a id="706" class="Keyword">import</a> <a id="713" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="728" class="Keyword">hiding</a> <a id="735" class="Symbol">(</a><a id="736" href="Relation.Unary.html#1523" class="Function Operator">_∈_</a> <a id="740" class="Symbol">;</a> <a id="742" href="Relation.Unary.html#1751" class="Function Operator">_⊆_</a><a id="745" class="Symbol">)</a>
<a id="747" class="Keyword">open</a> <a id="752" class="Keyword">import</a> <a id="759" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="797" class="Keyword">using</a> <a id="803" class="Symbol">(</a><a id="804" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="808" class="Symbol">;</a> <a id="810" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="815" class="Symbol">;</a> <a id="817" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="821" class="Symbol">;</a> <a id="823" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="829" class="Symbol">;</a> <a id="831" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="836" class="Symbol">;</a> <a id="838" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a><a id="843" class="Symbol">)</a>

<a id="846" class="Keyword">open</a> <a id="851" class="Keyword">import</a> <a id="858" href="Function.html" class="Module">Function</a> 

<a id="869" class="Comment">{- Theories for higher-order effects. Built on Zhixuan Yang and Nicholas Wu&#39;s
paper, but adapted for use with Hefty algebras -}</a>

<a id="998" class="Keyword">module</a> <a id="1005" href="Effect.Theory.HigherOrder.html" class="Module">Effect.Theory.HigherOrder</a> <a id="1031" class="Keyword">where</a>

<a id="1038" class="Keyword">open</a> <a id="1043" href="Effect.Logic.html#659" class="Module">Connectives</a>

<a id="1056" class="Comment">--</a>
<a id="1059" class="Comment">-- TODO: this notion of equation seems to be too weak!!!!!!</a>
<a id="1119" class="Comment">-- </a>
<a id="1123" class="Keyword">record</a> <a id="Equationᴴ"></a><a id="1130" href="Effect.Theory.HigherOrder.html#1130" class="Record">Equationᴴ</a> <a id="1140" class="Symbol">(</a><a id="1141" href="Effect.Theory.HigherOrder.html#1141" class="Bound">ξ</a> <a id="1143" class="Symbol">:</a> <a id="1145" href="Effect.Base.html#715" class="Function">Effect</a> <a id="1152" class="Symbol">→</a> <a id="1154" href="Effect.Base.html#736" class="Function">Effectᴴ</a><a id="1161" class="Symbol">)</a> <a id="1163" class="Symbol">:</a> <a id="1165" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> <a id="1170" class="Keyword">where</a>
  <a id="1178" class="Keyword">constructor</a> <a id="_≗ᴴ_"></a><a id="1190" href="Effect.Theory.HigherOrder.html#1190" class="InductiveConstructor Operator">_≗ᴴ_</a>
  <a id="1197" class="Keyword">field</a>
    <a id="1207" class="Symbol">{</a><a id="Equationᴴ.Δ′"></a><a id="1208" href="Effect.Theory.HigherOrder.html#1208" class="Field">Δ′</a><a id="1210" class="Symbol">}</a>      <a id="1217" class="Symbol">:</a> <a id="1219" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="1225" class="Symbol">{</a><a id="Equationᴴ.Γ′"></a><a id="1226" href="Effect.Theory.HigherOrder.html#1226" class="Field">Γ′</a> <a id="Equationᴴ.R′"></a><a id="1229" href="Effect.Theory.HigherOrder.html#1229" class="Field">R′</a><a id="1231" class="Symbol">}</a>   <a id="1235" class="Symbol">:</a> <a id="1237" href="Effect.Base.html#715" class="Function">Effect</a> <a id="1244" class="Symbol">→</a> <a id="1246" href="Effect.Theory.FirstOrder.html#1406" class="Function">TypeContext</a> <a id="1258" class="Field">Δ′</a> <a id="1261" class="Symbol">→</a> <a id="1263" href="Agda.Primitive.html#388" class="Primitive">Set</a> 
    <a id="Equationᴴ.lhsᴴ"></a><a id="1272" href="Effect.Theory.HigherOrder.html#1272" class="Field">lhsᴴ</a> <a id="Equationᴴ.rhsᴴ"></a><a id="1277" href="Effect.Theory.HigherOrder.html#1277" class="Field">rhsᴴ</a> <a id="1282" class="Symbol">:</a> <a id="1284" class="Symbol">{</a><a id="1285" href="Effect.Theory.HigherOrder.html#1285" class="Bound">ε</a> <a id="1287" class="Symbol">:</a> <a id="1289" href="Effect.Base.html#715" class="Function">Effect</a><a id="1295" class="Symbol">}</a> <a id="1297" class="Symbol">→</a> <a id="1299" href="Relation.Unary.html#3360" class="Function">Π[</a> <a id="1302" class="Field">Γ′</a> <a id="1305" href="Effect.Theory.HigherOrder.html#1285" class="Bound">ε</a> <a id="1307" href="Relation.Unary.html#4490" class="Function Operator">⇒</a> <a id="1309" class="Field">R′</a> <a id="1312" href="Effect.Theory.HigherOrder.html#1285" class="Bound">ε</a> <a id="1314" href="Relation.Unary.html#5235" class="Function Operator">⊢</a> <a id="1316" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="1322" class="Symbol">(</a><a id="1323" href="Effect.Theory.HigherOrder.html#1141" class="Bound">ξ</a> <a id="1325" href="Effect.Theory.HigherOrder.html#1285" class="Bound">ε</a><a id="1326" class="Symbol">)</a> <a id="1328" href="Relation.Unary.html#3360" class="Function">]</a>

<a id="1331" class="Keyword">open</a> <a id="1336" href="Effect.Theory.HigherOrder.html#1130" class="Module">Equationᴴ</a> <a id="1346" class="Keyword">public</a>

<a id="embed-equation"></a><a id="1354" href="Effect.Theory.HigherOrder.html#1354" class="Function">embed-equation</a> <a id="1369" class="Symbol">:</a> <a id="1371" href="Effect.Theory.FirstOrder.html#1562" class="Record">Equation</a> <a id="1380" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="1382" class="Symbol">→</a> <a id="1384" href="Effect.Theory.HigherOrder.html#1130" class="Record">Equationᴴ</a> <a id="1394" class="Symbol">(</a><a id="1395" href="Function.Base.html#716" class="Function">const</a> <a id="1401" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="1403" href="Effect.Base.html#757" class="Function">↑</a> <a id="1405" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="1406" class="Symbol">)</a>
<a id="1408" href="Effect.Theory.HigherOrder.html#1354" class="Function">embed-equation</a> <a id="1423" href="Effect.Theory.HigherOrder.html#1423" class="Bound">eq</a> <a id="1426" class="Symbol">=</a> <a id="1428" class="Symbol">(</a><a id="1429" href="Effect.Base.html#1078" class="Function">embed-free</a> <a id="1440" href="Function.Base.html#1294" class="Function Operator">∘₂</a> <a id="1443" href="Effect.Theory.HigherOrder.html#1423" class="Bound">eq</a> <a id="1446" class="Symbol">.</a><a id="1447" href="Effect.Theory.FirstOrder.html#1685" class="Field">lhs</a><a id="1450" class="Symbol">)</a> <a id="1452" href="Effect.Theory.HigherOrder.html#1190" class="InductiveConstructor Operator">≗ᴴ</a> <a id="1455" class="Symbol">(</a><a id="1456" href="Effect.Base.html#1078" class="Function">embed-free</a> <a id="1467" href="Function.Base.html#1294" class="Function Operator">∘₂</a> <a id="1470" href="Effect.Theory.HigherOrder.html#1423" class="Bound">eq</a> <a id="1473" class="Symbol">.</a><a id="1474" href="Effect.Theory.FirstOrder.html#1685" class="Field">lhs</a><a id="1477" class="Symbol">)</a>

<a id="1480" class="Comment">-- Weakening of equations (for higher-order effects). That is, `Equationᴴ`</a>
<a id="1555" class="Comment">-- defines a functor over the category of h.o. effects</a>
<a id="wk-equationᴴ"></a><a id="1610" href="Effect.Theory.HigherOrder.html#1610" class="Function">wk-equationᴴ</a> <a id="1623" class="Symbol">:</a> <a id="1625" class="Symbol">⦃</a> <a id="1627" class="Symbol">∀</a> <a id="1629" class="Symbol">{</a><a id="1630" href="Effect.Theory.HigherOrder.html#1630" class="Bound">ε</a><a id="1631" class="Symbol">}</a> <a id="1633" class="Symbol">→</a> <a id="1635" href="Effect.Base.html#966" class="Generalizable">ξ₁</a> <a id="1638" href="Effect.Theory.HigherOrder.html#1630" class="Bound">ε</a> <a id="1640" href="Effect.Base.html#1229" class="Record Operator">⊑ᴴ</a> <a id="1643" href="Effect.Base.html#969" class="Generalizable">ξ₂</a> <a id="1646" href="Effect.Theory.HigherOrder.html#1630" class="Bound">ε</a> <a id="1648" class="Symbol">⦄</a> <a id="1650" class="Symbol">→</a> <a id="1652" href="Effect.Theory.HigherOrder.html#1130" class="Record">Equationᴴ</a> <a id="1662" href="Effect.Base.html#966" class="Generalizable">ξ₁</a> <a id="1665" class="Symbol">→</a> <a id="1667" href="Effect.Theory.HigherOrder.html#1130" class="Record">Equationᴴ</a> <a id="1677" href="Effect.Base.html#969" class="Generalizable">ξ₂</a> 
<a id="1681" href="Effect.Theory.HigherOrder.html#1610" class="Function">wk-equationᴴ</a> <a id="1694" href="Effect.Theory.HigherOrder.html#1694" class="Bound">eq</a> <a id="1697" class="Symbol">=</a> <a id="1699" class="Symbol">(</a><a id="1700" href="Effect.Base.html#2111" class="Function">♯ᴴ</a> <a id="1703" href="Function.Base.html#1294" class="Function Operator">∘₂</a> <a id="1706" href="Effect.Theory.HigherOrder.html#1694" class="Bound">eq</a> <a id="1709" class="Symbol">.</a><a id="1710" href="Effect.Theory.HigherOrder.html#1272" class="Field">lhsᴴ</a><a id="1714" class="Symbol">)</a> <a id="1716" href="Effect.Theory.HigherOrder.html#1190" class="InductiveConstructor Operator">≗ᴴ</a> <a id="1719" class="Symbol">(</a><a id="1720" href="Effect.Base.html#2111" class="Function">♯ᴴ</a> <a id="1723" href="Function.Base.html#1294" class="Function Operator">∘₂</a> <a id="1726" href="Effect.Theory.HigherOrder.html#1694" class="Bound">eq</a> <a id="1729" class="Symbol">.</a><a id="1730" href="Effect.Theory.HigherOrder.html#1277" class="Field">rhsᴴ</a><a id="1734" class="Symbol">)</a> 


<a id="1739" class="Comment">-- Again, an algebra respects an equation if folding lhs and rhs gives the same</a>
<a id="1819" class="Comment">-- result, where &quot;sameness&quot; is with respect a given binary relation that is kept</a>
<a id="1900" class="Comment">-- abstract here.</a>
<a id="1918" class="Comment">-- </a>
<a id="1922" class="Comment">-- We opt for this generalization (rather than using propositional equality)</a>
<a id="1999" class="Comment">-- here, because later we define correctness of elaborations as</a>
<a id="Respectsᴴ"></a><a id="2063" href="Effect.Theory.HigherOrder.html#2063" class="Function">Respectsᴴ</a> <a id="2073" class="Symbol">:</a> <a id="2075" class="Symbol">(</a><a id="2076" href="Effect.Theory.HigherOrder.html#2076" class="Bound Operator">_~_</a> <a id="2080" class="Symbol">:</a> <a id="2082" class="Symbol">∀</a> <a id="2084" class="Symbol">{</a><a id="2085" href="Effect.Theory.HigherOrder.html#2085" class="Bound">A</a><a id="2086" class="Symbol">}</a> <a id="2088" class="Symbol">→</a> <a id="2090" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="2095" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="2097" href="Effect.Theory.HigherOrder.html#2085" class="Bound">A</a> <a id="2099" class="Symbol">→</a> <a id="2101" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="2106" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="2108" href="Effect.Theory.HigherOrder.html#2085" class="Bound">A</a> <a id="2110" class="Symbol">→</a> <a id="2112" href="Agda.Primitive.html#388" class="Primitive">Set₁</a><a id="2116" class="Symbol">)</a> <a id="2118" class="Symbol">→</a> <a id="2120" href="Core.Signature.html#826" class="Record">Algebra</a> <a id="2128" class="Symbol">(</a><a id="2129" href="Effect.Base.html#964" class="Generalizable">ξ</a> <a id="2131" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="2132" class="Symbol">)</a> <a id="2134" class="Symbol">(</a><a id="2135" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="2140" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="2141" class="Symbol">)</a> <a id="2143" class="Symbol">→</a> <a id="2145" href="Effect.Theory.HigherOrder.html#1130" class="Record">Equationᴴ</a> <a id="2155" href="Effect.Base.html#964" class="Generalizable">ξ</a> <a id="2157" class="Symbol">→</a> <a id="2159" href="Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="2164" href="Effect.Theory.HigherOrder.html#2063" class="Function">Respectsᴴ</a> <a id="2174" href="Effect.Theory.HigherOrder.html#2174" class="Bound Operator">_~_</a> <a id="2178" href="Effect.Theory.HigherOrder.html#2178" class="Bound">alg</a> <a id="2182" class="Symbol">(</a><a id="2183" href="Effect.Theory.HigherOrder.html#2183" class="Bound">lhs</a> <a id="2187" href="Effect.Theory.HigherOrder.html#1190" class="InductiveConstructor Operator">≗ᴴ</a> <a id="2190" href="Effect.Theory.HigherOrder.html#2190" class="Bound">rhs</a><a id="2193" class="Symbol">)</a> <a id="2195" class="Symbol">=</a>
  <a id="2199" class="Symbol">∀</a> <a id="2201" class="Symbol">{</a><a id="2202" href="Effect.Theory.HigherOrder.html#2202" class="Bound">δ</a> <a id="2204" href="Effect.Theory.HigherOrder.html#2204" class="Bound">γ</a><a id="2205" class="Symbol">}</a> <a id="2207" class="Symbol">→</a> <a id="2209" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="2220" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="2225" href="Effect.Theory.HigherOrder.html#2178" class="Bound">alg</a> <a id="2229" class="Symbol">(</a><a id="2230" href="Effect.Theory.HigherOrder.html#2183" class="Bound">lhs</a> <a id="2234" href="Effect.Theory.HigherOrder.html#2202" class="Bound">δ</a> <a id="2236" href="Effect.Theory.HigherOrder.html#2204" class="Bound">γ</a><a id="2237" class="Symbol">)</a> <a id="2239" href="Effect.Theory.HigherOrder.html#2174" class="Bound Operator">~</a> <a id="2241" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="2252" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="2257" href="Effect.Theory.HigherOrder.html#2178" class="Bound">alg</a> <a id="2261" class="Symbol">(</a><a id="2262" href="Effect.Theory.HigherOrder.html#2190" class="Bound">rhs</a> <a id="2266" href="Effect.Theory.HigherOrder.html#2202" class="Bound">δ</a> <a id="2268" href="Effect.Theory.HigherOrder.html#2204" class="Bound">γ</a><a id="2269" class="Symbol">)</a>


<a id="2273" class="Comment">-- Theories of higher-order effects are collections of equations</a>
<a id="2338" class="Keyword">record</a> <a id="Theoryᴴ"></a><a id="2345" href="Effect.Theory.HigherOrder.html#2345" class="Record">Theoryᴴ</a> <a id="2353" class="Symbol">(</a><a id="2354" href="Effect.Theory.HigherOrder.html#2354" class="Bound">ξ</a> <a id="2356" class="Symbol">:</a> <a id="2358" href="Effect.Base.html#715" class="Function">Effect</a> <a id="2365" class="Symbol">→</a> <a id="2367" href="Effect.Base.html#736" class="Function">Effectᴴ</a><a id="2374" class="Symbol">)</a> <a id="2376" class="Symbol">:</a> <a id="2378" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> <a id="2383" class="Keyword">where</a>
  <a id="2391" class="Keyword">no-eta-equality</a>
  <a id="2409" class="Keyword">constructor</a> <a id="∥_∥ᴴ"></a><a id="2421" href="Effect.Theory.HigherOrder.html#2421" class="InductiveConstructor Operator">∥_∥ᴴ</a>
  <a id="2428" class="Keyword">field</a>
    <a id="Theoryᴴ.equationsᴴ"></a><a id="2438" href="Effect.Theory.HigherOrder.html#2438" class="Field">equationsᴴ</a> <a id="2449" class="Symbol">:</a> <a id="2451" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2456" class="Symbol">(</a><a id="2457" href="Effect.Theory.HigherOrder.html#1130" class="Record">Equationᴴ</a> <a id="2467" href="Effect.Theory.HigherOrder.html#2354" class="Bound">ξ</a><a id="2468" class="Symbol">)</a> 

<a id="2472" class="Keyword">open</a> <a id="2477" href="Effect.Theory.HigherOrder.html#2345" class="Module">Theoryᴴ</a> <a id="2485" class="Keyword">public</a>


<a id="2494" class="Keyword">variable</a> <a id="2503" href="Effect.Theory.HigherOrder.html#2503" class="Generalizable">Th</a> <a id="2506" href="Effect.Theory.HigherOrder.html#2506" class="Generalizable">Th₁</a> <a id="2510" href="Effect.Theory.HigherOrder.html#2510" class="Generalizable">Th₂</a> <a id="2514" href="Effect.Theory.HigherOrder.html#2514" class="Generalizable">Th₃</a> <a id="2518" href="Effect.Theory.HigherOrder.html#2518" class="Generalizable">Th′</a> <a id="2522" class="Symbol">:</a> <a id="2524" href="Effect.Theory.HigherOrder.html#2345" class="Record">Theoryᴴ</a> <a id="2532" href="Effect.Base.html#964" class="Generalizable">ξ</a> 

<a id="2536" class="Comment">-- A predicate asserting that a given equation is part of a theory</a>
<a id="_◃ᴴ_"></a><a id="2603" href="Effect.Theory.HigherOrder.html#2603" class="Function Operator">_◃ᴴ_</a> <a id="2608" class="Symbol">:</a> <a id="2610" href="Effect.Theory.HigherOrder.html#1130" class="Record">Equationᴴ</a> <a id="2620" href="Effect.Base.html#964" class="Generalizable">ξ</a> <a id="2622" class="Symbol">→</a> <a id="2624" href="Effect.Theory.HigherOrder.html#2345" class="Record">Theoryᴴ</a> <a id="2632" href="Effect.Base.html#964" class="Generalizable">ξ</a> <a id="2634" class="Symbol">→</a> <a id="2636" href="Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="2641" href="Effect.Theory.HigherOrder.html#2641" class="Bound">eq</a> <a id="2644" href="Effect.Theory.HigherOrder.html#2603" class="Function Operator">◃ᴴ</a> <a id="2647" href="Effect.Theory.HigherOrder.html#2647" class="Bound">Th</a> <a id="2650" class="Symbol">=</a> <a id="2652" href="Effect.Theory.HigherOrder.html#2641" class="Bound">eq</a> <a id="2655" href="Data.List.Membership.Setoid.html#887" class="Function Operator">∈</a> <a id="2657" href="Effect.Theory.HigherOrder.html#2647" class="Bound">Th</a> <a id="2660" class="Symbol">.</a><a id="2661" href="Effect.Theory.HigherOrder.html#2438" class="Field">equationsᴴ</a>

<a id="2673" class="Comment">-- Theory inclusion for higher-order theories</a>
<a id="_⊆ᴴ_"></a><a id="2719" href="Effect.Theory.HigherOrder.html#2719" class="Function Operator">_⊆ᴴ_</a> <a id="2724" class="Symbol">:</a> <a id="2726" href="Effect.Theory.HigherOrder.html#2345" class="Record">Theoryᴴ</a> <a id="2734" href="Effect.Base.html#964" class="Generalizable">ξ</a> <a id="2736" class="Symbol">→</a> <a id="2738" href="Effect.Theory.HigherOrder.html#2345" class="Record">Theoryᴴ</a> <a id="2746" href="Effect.Base.html#964" class="Generalizable">ξ</a> <a id="2748" class="Symbol">→</a> <a id="2750" href="Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="2755" href="Effect.Theory.HigherOrder.html#2755" class="Bound">Th₁</a> <a id="2759" href="Effect.Theory.HigherOrder.html#2719" class="Function Operator">⊆ᴴ</a> <a id="2762" href="Effect.Theory.HigherOrder.html#2762" class="Bound">Th₂</a> <a id="2766" class="Symbol">=</a> <a id="2768" class="Symbol">{</a><a id="2769" href="Effect.Theory.HigherOrder.html#2769" class="Bound">eq</a> <a id="2772" class="Symbol">:</a> <a id="2774" href="Effect.Theory.HigherOrder.html#1130" class="Record">Equationᴴ</a> <a id="2784" class="Symbol">_}</a> <a id="2787" class="Symbol">→</a> <a id="2789" href="Effect.Theory.HigherOrder.html#2769" class="Bound">eq</a> <a id="2792" href="Effect.Theory.HigherOrder.html#2603" class="Function Operator">◃ᴴ</a> <a id="2795" href="Effect.Theory.HigherOrder.html#2755" class="Bound">Th₁</a> <a id="2799" class="Symbol">→</a> <a id="2801" href="Effect.Theory.HigherOrder.html#2769" class="Bound">eq</a> <a id="2804" href="Effect.Theory.HigherOrder.html#2603" class="Function Operator">◃ᴴ</a> <a id="2807" href="Effect.Theory.HigherOrder.html#2762" class="Bound">Th₂</a>

<a id="embed-theory"></a><a id="2812" href="Effect.Theory.HigherOrder.html#2812" class="Function">embed-theory</a> <a id="2825" class="Symbol">:</a> <a id="2827" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="2834" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="2836" class="Symbol">→</a> <a id="2838" href="Effect.Theory.HigherOrder.html#2345" class="Record">Theoryᴴ</a> <a id="2846" class="Symbol">(</a><a id="2847" href="Function.Base.html#716" class="Function">const</a> <a id="2853" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="2855" href="Effect.Base.html#757" class="Function">↑</a> <a id="2857" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="2858" class="Symbol">)</a>
<a id="2860" href="Effect.Theory.HigherOrder.html#2812" class="Function">embed-theory</a> <a id="2873" href="Effect.Theory.HigherOrder.html#2873" class="Bound">T</a> <a id="2875" class="Symbol">.</a><a id="2876" href="Effect.Theory.HigherOrder.html#2438" class="Field">equationsᴴ</a> <a id="2887" class="Symbol">=</a> <a id="2889" href="Data.List.Base.html#1563" class="Function">map</a> <a id="2893" href="Effect.Theory.HigherOrder.html#1354" class="Function">embed-equation</a> <a id="2908" class="Symbol">(</a><a id="2909" href="Data.List.Base.html#1563" class="Function">map</a> <a id="2913" href="Effect.Logic.html#3451" class="Function">□-extract</a> <a id="2923" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="2925" href="Effect.Theory.HigherOrder.html#2873" class="Bound">T</a> <a id="2927" class="Symbol">.</a><a id="2928" href="Effect.Theory.FirstOrder.html#2799" class="Field">equations</a><a id="2937" class="Symbol">)</a>

<a id="wk-theoryᴴ"></a><a id="2940" href="Effect.Theory.HigherOrder.html#2940" class="Function">wk-theoryᴴ</a> <a id="2951" class="Symbol">:</a> <a id="2953" class="Symbol">⦃</a> <a id="2955" class="Symbol">∀</a> <a id="2957" class="Symbol">{</a><a id="2958" href="Effect.Theory.HigherOrder.html#2958" class="Bound">ε</a><a id="2959" class="Symbol">}</a> <a id="2961" class="Symbol">→</a> <a id="2963" href="Effect.Base.html#966" class="Generalizable">ξ₁</a> <a id="2966" href="Effect.Theory.HigherOrder.html#2958" class="Bound">ε</a> <a id="2968" href="Effect.Base.html#1229" class="Record Operator">⊑ᴴ</a> <a id="2971" href="Effect.Base.html#969" class="Generalizable">ξ₂</a> <a id="2974" href="Effect.Theory.HigherOrder.html#2958" class="Bound">ε</a> <a id="2976" class="Symbol">⦄</a> <a id="2978" class="Symbol">→</a> <a id="2980" href="Effect.Theory.HigherOrder.html#2345" class="Record">Theoryᴴ</a> <a id="2988" href="Effect.Base.html#966" class="Generalizable">ξ₁</a> <a id="2991" class="Symbol">→</a> <a id="2993" href="Effect.Theory.HigherOrder.html#2345" class="Record">Theoryᴴ</a> <a id="3001" href="Effect.Base.html#969" class="Generalizable">ξ₂</a> 
<a id="3005" href="Effect.Theory.HigherOrder.html#2940" class="Function">wk-theoryᴴ</a> <a id="3016" href="Effect.Theory.HigherOrder.html#3016" class="Bound">eq</a> <a id="3019" class="Symbol">=</a> <a id="3021" href="Effect.Theory.HigherOrder.html#2421" class="InductiveConstructor Operator">∥</a> <a id="3023" href="Data.List.Base.html#1563" class="Function">map</a> <a id="3027" href="Effect.Theory.HigherOrder.html#1610" class="Function">wk-equationᴴ</a> <a id="3040" class="Symbol">(</a><a id="3041" href="Effect.Theory.HigherOrder.html#3016" class="Bound">eq</a> <a id="3044" class="Symbol">.</a><a id="3045" href="Effect.Theory.HigherOrder.html#2438" class="Field">equationsᴴ</a><a id="3055" class="Symbol">)</a> <a id="3057" href="Effect.Theory.HigherOrder.html#2421" class="InductiveConstructor Operator">∥ᴴ</a>

<a id="3061" class="Comment">-- Coproduct of higher-order effect theories</a>
<a id="_⟨+⟩ᴴ_"></a><a id="3106" href="Effect.Theory.HigherOrder.html#3106" class="Function Operator">_⟨+⟩ᴴ_</a> <a id="3113" class="Symbol">:</a> <a id="3115" href="Relation.Unary.html#3498" class="Function">∀[</a> <a id="3118" href="Effect.Theory.HigherOrder.html#2345" class="Record">Theoryᴴ</a> <a id="3126" href="Relation.Unary.html#4490" class="Function Operator">⇒</a> <a id="3128" href="Effect.Theory.HigherOrder.html#2345" class="Record">Theoryᴴ</a> <a id="3136" href="Relation.Unary.html#4490" class="Function Operator">⇒</a> <a id="3138" href="Effect.Theory.HigherOrder.html#2345" class="Record">Theoryᴴ</a> <a id="3146" href="Relation.Unary.html#3498" class="Function">]</a>
<a id="3148" class="Symbol">(</a><a id="3149" href="Effect.Theory.HigherOrder.html#3149" class="Bound">Th₁</a> <a id="3153" href="Effect.Theory.HigherOrder.html#3106" class="Function Operator">⟨+⟩ᴴ</a> <a id="3158" href="Effect.Theory.HigherOrder.html#3158" class="Bound">Th₂</a><a id="3161" class="Symbol">)</a> <a id="3163" class="Symbol">.</a><a id="3164" href="Effect.Theory.HigherOrder.html#2438" class="Field">equationsᴴ</a> <a id="3175" class="Symbol">=</a> <a id="3177" href="Effect.Theory.HigherOrder.html#3149" class="Bound">Th₁</a> <a id="3181" class="Symbol">.</a><a id="3182" href="Effect.Theory.HigherOrder.html#2438" class="Field">equationsᴴ</a> <a id="3193" href="Data.List.Base.html#1825" class="Function Operator">++</a> <a id="3196" href="Effect.Theory.HigherOrder.html#3158" class="Bound">Th₂</a> <a id="3200" class="Symbol">.</a><a id="3201" href="Effect.Theory.HigherOrder.html#2438" class="Field">equationsᴴ</a>

<a id="_[+]ᴴ_"></a><a id="3213" href="Effect.Theory.HigherOrder.html#3213" class="Function Operator">_[+]ᴴ_</a> <a id="3220" class="Symbol">:</a> <a id="3222" href="Effect.Theory.HigherOrder.html#2345" class="Record">Theoryᴴ</a> <a id="3230" href="Effect.Base.html#966" class="Generalizable">ξ₁</a> <a id="3233" class="Symbol">→</a> <a id="3235" href="Effect.Theory.HigherOrder.html#2345" class="Record">Theoryᴴ</a> <a id="3243" href="Effect.Base.html#969" class="Generalizable">ξ₂</a> <a id="3246" class="Symbol">→</a> <a id="3248" href="Effect.Theory.HigherOrder.html#2345" class="Record">Theoryᴴ</a> <a id="3256" class="Symbol">(</a><a id="3257" href="Effect.Base.html#966" class="Generalizable">ξ₁</a> <a id="3260" href="Core.Signature.html#1253" class="Function Operator">·⊕</a> <a id="3263" href="Effect.Base.html#969" class="Generalizable">ξ₂</a><a id="3265" class="Symbol">)</a>
<a id="3267" href="Effect.Theory.HigherOrder.html#3267" class="Bound">Th₁</a> <a id="3271" href="Effect.Theory.HigherOrder.html#3213" class="Function Operator">[+]ᴴ</a> <a id="3276" href="Effect.Theory.HigherOrder.html#3276" class="Bound">Th₂</a> <a id="3280" class="Symbol">=</a> <a id="3282" href="Effect.Theory.HigherOrder.html#2940" class="Function">wk-theoryᴴ</a> <a id="3293" class="Symbol">⦃</a> <a id="3295" href="Effect.Base.html#2689" class="Function">⊑ᴴ-⊕-left</a> <a id="3305" class="Symbol">⦄</a> <a id="3307" href="Effect.Theory.HigherOrder.html#3267" class="Bound">Th₁</a> <a id="3311" href="Effect.Theory.HigherOrder.html#3106" class="Function Operator">⟨+⟩ᴴ</a> <a id="3316" href="Effect.Theory.HigherOrder.html#2940" class="Function">wk-theoryᴴ</a> <a id="3327" class="Symbol">⦃</a> <a id="3329" href="Effect.Base.html#2850" class="Function">⊑ᴴ-⊕-right</a> <a id="3340" class="Symbol">⦄</a> <a id="3342" href="Effect.Theory.HigherOrder.html#3276" class="Bound">Th₂</a>

<a id="3347" class="Comment">-- Syntactic equivalence of programs with higher order effects, with respect to</a>
<a id="3427" class="Comment">-- a given theory `Th`. Analagous to how we defined syntactic equivalence for</a>
<a id="3505" class="Comment">-- first-order effect trees</a>
<a id="3533" class="Keyword">infix</a> <a id="3539" class="Number">2</a> <a id="3541" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">_≅⟨_⟩_</a>
<a id="3548" class="Keyword">data</a> <a id="_≅⟨_⟩_"></a><a id="3553" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">_≅⟨_⟩_</a> <a id="3560" class="Symbol">{</a><a id="3561" href="Effect.Theory.HigherOrder.html#3561" class="Bound">ε</a><a id="3562" class="Symbol">}</a> <a id="3564" class="Symbol">{</a><a id="3565" href="Effect.Theory.HigherOrder.html#3565" class="Bound">ξ</a><a id="3566" class="Symbol">}</a> <a id="3568" class="Symbol">:</a> <a id="3570" class="Symbol">(</a><a id="3571" href="Effect.Theory.HigherOrder.html#3571" class="Bound">m₁</a> <a id="3574" class="Symbol">:</a> <a id="3576" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="3582" class="Symbol">(</a><a id="3583" href="Effect.Theory.HigherOrder.html#3565" class="Bound">ξ</a> <a id="3585" href="Effect.Theory.HigherOrder.html#3561" class="Bound">ε</a><a id="3586" class="Symbol">)</a> <a id="3588" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="3589" class="Symbol">)</a> <a id="3591" class="Symbol">→</a> <a id="3593" href="Effect.Theory.HigherOrder.html#2345" class="Record">Theoryᴴ</a> <a id="3601" href="Effect.Theory.HigherOrder.html#3565" class="Bound">ξ</a> <a id="3603" class="Symbol">→</a> <a id="3605" class="Symbol">(</a><a id="3606" href="Effect.Theory.HigherOrder.html#3606" class="Bound">m₂</a> <a id="3609" class="Symbol">:</a> <a id="3611" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="3617" class="Symbol">(</a><a id="3618" href="Effect.Theory.HigherOrder.html#3565" class="Bound">ξ</a> <a id="3620" href="Effect.Theory.HigherOrder.html#3561" class="Bound">ε</a><a id="3621" class="Symbol">)</a> <a id="3623" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="3624" class="Symbol">)</a> <a id="3626" class="Symbol">→</a> <a id="3628" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> <a id="3633" class="Keyword">where</a>

  <a id="_≅⟨_⟩_.≅-refl"></a><a id="3642" href="Effect.Theory.HigherOrder.html#3642" class="InductiveConstructor">≅-refl</a>  <a id="3650" class="Symbol">:</a> <a id="3652" class="Comment">------------</a>
            <a id="3677" href="Effect.Syntax.Hefty.html#547" class="Generalizable">m</a> <a id="3679" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">≅⟨</a> <a id="3682" href="Effect.Theory.HigherOrder.html#2503" class="Generalizable">Th</a> <a id="3685" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">⟩</a> <a id="3687" href="Effect.Syntax.Hefty.html#547" class="Generalizable">m</a>

  <a id="_≅⟨_⟩_.≅-sym"></a><a id="3692" href="Effect.Theory.HigherOrder.html#3692" class="InductiveConstructor">≅-sym</a>   <a id="3700" class="Symbol">:</a> <a id="3702" href="Effect.Syntax.Hefty.html#549" class="Generalizable">m₁</a> <a id="3705" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">≅⟨</a> <a id="3708" href="Effect.Theory.HigherOrder.html#2503" class="Generalizable">Th</a> <a id="3711" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">⟩</a> <a id="3713" href="Effect.Syntax.Hefty.html#552" class="Generalizable">m₂</a>
            <a id="3728" class="Comment">-------------</a>
          <a id="3752" class="Symbol">→</a> <a id="3754" href="Effect.Syntax.Hefty.html#552" class="Generalizable">m₂</a> <a id="3757" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">≅⟨</a> <a id="3760" href="Effect.Theory.HigherOrder.html#2503" class="Generalizable">Th</a> <a id="3763" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">⟩</a> <a id="3765" href="Effect.Syntax.Hefty.html#549" class="Generalizable">m₁</a>

  <a id="_≅⟨_⟩_.≅-trans"></a><a id="3771" href="Effect.Theory.HigherOrder.html#3771" class="InductiveConstructor">≅-trans</a> <a id="3779" class="Symbol">:</a> <a id="3781" href="Effect.Syntax.Hefty.html#549" class="Generalizable">m₁</a> <a id="3784" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">≅⟨</a> <a id="3787" href="Effect.Theory.HigherOrder.html#2503" class="Generalizable">Th</a> <a id="3790" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">⟩</a> <a id="3792" href="Effect.Syntax.Hefty.html#552" class="Generalizable">m₂</a>
          <a id="3805" class="Symbol">→</a> <a id="3807" href="Effect.Syntax.Hefty.html#552" class="Generalizable">m₂</a> <a id="3810" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">≅⟨</a> <a id="3813" href="Effect.Theory.HigherOrder.html#2503" class="Generalizable">Th</a> <a id="3816" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">⟩</a> <a id="3818" href="Effect.Syntax.Hefty.html#555" class="Generalizable">m₃</a>
            <a id="3833" class="Comment">-------------</a>
          <a id="3857" class="Symbol">→</a> <a id="3859" href="Effect.Syntax.Hefty.html#549" class="Generalizable">m₁</a> <a id="3862" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">≅⟨</a> <a id="3865" href="Effect.Theory.HigherOrder.html#2503" class="Generalizable">Th</a> <a id="3868" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">⟩</a> <a id="3870" href="Effect.Syntax.Hefty.html#555" class="Generalizable">m₃</a>

  <a id="_≅⟨_⟩_.≅-cong"></a><a id="3876" href="Effect.Theory.HigherOrder.html#3876" class="InductiveConstructor">≅-cong</a>  <a id="3884" class="Symbol">:</a> <a id="3886" class="Symbol">(</a><a id="3887" href="Effect.Theory.HigherOrder.html#3887" class="Bound">c</a> <a id="3889" class="Symbol">:</a> <a id="3891" href="Effect.Theory.HigherOrder.html#3565" class="Bound">ξ</a> <a id="3893" href="Effect.Theory.HigherOrder.html#3561" class="Bound">ε</a> <a id="3895" class="Symbol">.</a><a id="3896" href="Core.Signature.html#430" class="Field">command</a><a id="3903" class="Symbol">)</a>
          <a id="3915" class="Symbol">→</a> <a id="3917" class="Symbol">(</a><a id="3918" href="Effect.Theory.HigherOrder.html#3918" class="Bound">r₁</a> <a id="3921" href="Effect.Theory.HigherOrder.html#3921" class="Bound">r₂</a> <a id="3924" class="Symbol">:</a> <a id="3926" href="Effect.Theory.HigherOrder.html#3565" class="Bound">ξ</a> <a id="3928" href="Effect.Theory.HigherOrder.html#3561" class="Bound">ε</a> <a id="3930" class="Symbol">.</a><a id="3931" href="Core.Signature.html#449" class="Field">response</a> <a id="3940" href="Effect.Theory.HigherOrder.html#3887" class="Bound">c</a> <a id="3942" class="Symbol">→</a> <a id="3944" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="3950" class="Symbol">(</a><a id="3951" href="Effect.Theory.HigherOrder.html#3565" class="Bound">ξ</a> <a id="3953" href="Effect.Theory.HigherOrder.html#3561" class="Bound">ε</a><a id="3954" class="Symbol">)</a> <a id="3956" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="3957" class="Symbol">)</a>
          <a id="3969" class="Symbol">→</a> <a id="3971" class="Symbol">(</a><a id="3972" href="Effect.Theory.HigherOrder.html#3972" class="Bound">s₁</a> <a id="3975" href="Effect.Theory.HigherOrder.html#3975" class="Bound">s₂</a> <a id="3978" class="Symbol">:</a> <a id="3980" class="Symbol">(</a><a id="3981" href="Effect.Theory.HigherOrder.html#3981" class="Bound">ψ</a> <a id="3983" class="Symbol">:</a> <a id="3985" href="Effect.Theory.HigherOrder.html#3565" class="Bound">ξ</a> <a id="3987" href="Effect.Theory.HigherOrder.html#3561" class="Bound">ε</a> <a id="3989" class="Symbol">.</a><a id="3990" href="Core.Signature.html#479" class="Field">fork</a> <a id="3995" href="Effect.Theory.HigherOrder.html#3887" class="Bound">c</a><a id="3996" class="Symbol">)</a> <a id="3998" class="Symbol">→</a> <a id="4000" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="4006" class="Symbol">(</a><a id="4007" href="Effect.Theory.HigherOrder.html#3565" class="Bound">ξ</a> <a id="4009" href="Effect.Theory.HigherOrder.html#3561" class="Bound">ε</a><a id="4010" class="Symbol">)</a> <a id="4012" class="Symbol">(</a><a id="4013" href="Effect.Theory.HigherOrder.html#3565" class="Bound">ξ</a> <a id="4015" href="Effect.Theory.HigherOrder.html#3561" class="Bound">ε</a> <a id="4017" class="Symbol">.</a><a id="4018" href="Core.Signature.html#508" class="Field">returns</a> <a id="4026" href="Effect.Theory.HigherOrder.html#3981" class="Bound">ψ</a><a id="4027" class="Symbol">))</a>
          <a id="4040" class="Symbol">→</a> <a id="4042" class="Symbol">(∀</a> <a id="4045" class="Symbol">{</a><a id="4046" href="Effect.Theory.HigherOrder.html#4046" class="Bound">x</a><a id="4047" class="Symbol">}</a> <a id="4049" class="Symbol">→</a> <a id="4051" href="Effect.Theory.HigherOrder.html#3918" class="Bound">r₁</a> <a id="4054" href="Effect.Theory.HigherOrder.html#4046" class="Bound">x</a> <a id="4056" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">≅⟨</a> <a id="4059" href="Effect.Theory.HigherOrder.html#2503" class="Generalizable">Th</a> <a id="4062" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">⟩</a> <a id="4064" href="Effect.Theory.HigherOrder.html#3921" class="Bound">r₂</a> <a id="4067" href="Effect.Theory.HigherOrder.html#4046" class="Bound">x</a><a id="4068" class="Symbol">)</a>
          <a id="4080" class="Symbol">→</a> <a id="4082" class="Symbol">(∀</a> <a id="4085" class="Symbol">{</a><a id="4086" href="Effect.Theory.HigherOrder.html#4086" class="Bound">ψ</a><a id="4087" class="Symbol">}</a> <a id="4089" class="Symbol">→</a> <a id="4091" href="Effect.Theory.HigherOrder.html#3972" class="Bound">s₁</a> <a id="4094" href="Effect.Theory.HigherOrder.html#4086" class="Bound">ψ</a> <a id="4096" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">≅⟨</a> <a id="4099" href="Effect.Theory.HigherOrder.html#2503" class="Generalizable">Th</a> <a id="4102" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">⟩</a> <a id="4104" href="Effect.Theory.HigherOrder.html#3975" class="Bound">s₂</a> <a id="4107" href="Effect.Theory.HigherOrder.html#4086" class="Bound">ψ</a><a id="4108" class="Symbol">)</a>  
            <a id="4124" class="Comment">-----------------------------------------------------</a>
          <a id="4188" class="Symbol">→</a> <a id="4190" href="Effect.Syntax.Hefty.html#497" class="InductiveConstructor">impure</a> <a id="4197" href="Core.Signature.html#703" class="InductiveConstructor Operator">⟪</a> <a id="4199" href="Effect.Theory.HigherOrder.html#3887" class="Bound">c</a> <a id="4201" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4203" href="Effect.Theory.HigherOrder.html#3918" class="Bound">r₁</a> <a id="4206" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4208" href="Effect.Theory.HigherOrder.html#3972" class="Bound">s₁</a> <a id="4211" href="Core.Signature.html#703" class="InductiveConstructor Operator">⟫</a> <a id="4213" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">≅⟨</a> <a id="4216" href="Effect.Theory.HigherOrder.html#2503" class="Generalizable">Th</a> <a id="4219" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">⟩</a> <a id="4221" href="Effect.Syntax.Hefty.html#497" class="InductiveConstructor">impure</a> <a id="4228" href="Core.Signature.html#703" class="InductiveConstructor Operator">⟪</a> <a id="4230" href="Effect.Theory.HigherOrder.html#3887" class="Bound">c</a> <a id="4232" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4234" href="Effect.Theory.HigherOrder.html#3921" class="Bound">r₂</a> <a id="4237" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4239" href="Effect.Theory.HigherOrder.html#3975" class="Bound">s₂</a> <a id="4242" href="Core.Signature.html#703" class="InductiveConstructor Operator">⟫</a>

  <a id="_≅⟨_⟩_.≅-eq"></a><a id="4247" href="Effect.Theory.HigherOrder.html#4247" class="InductiveConstructor">≅-eq</a>    <a id="4255" class="Symbol">:</a> <a id="4257" class="Symbol">(</a><a id="4258" href="Effect.Theory.HigherOrder.html#4258" class="Bound">eq</a> <a id="4261" class="Symbol">:</a> <a id="4263" href="Effect.Theory.HigherOrder.html#1130" class="Record">Equationᴴ</a> <a id="4273" href="Effect.Theory.HigherOrder.html#3565" class="Bound">ξ</a><a id="4274" class="Symbol">)</a>
          <a id="4286" class="Symbol">→</a> <a id="4288" href="Effect.Theory.HigherOrder.html#4258" class="Bound">eq</a> <a id="4291" href="Effect.Theory.HigherOrder.html#2603" class="Function Operator">◃ᴴ</a> <a id="4294" href="Effect.Theory.HigherOrder.html#2503" class="Generalizable">Th</a>
          <a id="4307" class="Symbol">→</a> <a id="4309" class="Symbol">(</a><a id="4310" href="Effect.Theory.HigherOrder.html#4310" class="Bound">δ</a> <a id="4312" class="Symbol">:</a> <a id="4314" href="Effect.Theory.FirstOrder.html#1406" class="Function">TypeContext</a> <a id="4326" class="Symbol">(</a><a id="4327" href="Effect.Theory.HigherOrder.html#4258" class="Bound">eq</a> <a id="4330" class="Symbol">.</a><a id="4331" href="Effect.Theory.HigherOrder.html#1208" class="Field">Δ′</a><a id="4333" class="Symbol">))</a>
          <a id="4346" class="Symbol">→</a> <a id="4348" class="Symbol">(</a><a id="4349" href="Effect.Theory.HigherOrder.html#4349" class="Bound">γ</a> <a id="4351" class="Symbol">:</a> <a id="4353" href="Effect.Theory.HigherOrder.html#4258" class="Bound">eq</a> <a id="4356" class="Symbol">.</a><a id="4357" href="Effect.Theory.HigherOrder.html#1226" class="Field">Γ′</a> <a id="4360" href="Effect.Theory.HigherOrder.html#3561" class="Bound">ε</a> <a id="4362" href="Effect.Theory.HigherOrder.html#4310" class="Bound">δ</a><a id="4363" class="Symbol">)</a>
          <a id="4375" class="Symbol">→</a> <a id="4377" class="Symbol">(</a><a id="4378" href="Effect.Theory.HigherOrder.html#4378" class="Bound">k</a> <a id="4380" class="Symbol">:</a> <a id="4382" href="Effect.Theory.HigherOrder.html#4258" class="Bound">eq</a> <a id="4385" class="Symbol">.</a><a id="4386" href="Effect.Theory.HigherOrder.html#1229" class="Field">R′</a> <a id="4389" href="Effect.Theory.HigherOrder.html#3561" class="Bound">ε</a> <a id="4391" href="Effect.Theory.HigherOrder.html#4310" class="Bound">δ</a> <a id="4393" class="Symbol">→</a> <a id="4395" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="4401" class="Symbol">(</a><a id="4402" href="Effect.Theory.HigherOrder.html#3565" class="Bound">ξ</a> <a id="4404" href="Effect.Theory.HigherOrder.html#3561" class="Bound">ε</a><a id="4405" class="Symbol">)</a> <a id="4407" href="Core.Functor.html#1533" class="Generalizable">B</a><a id="4408" class="Symbol">)</a>
            <a id="4422" class="Comment">-----------------------------------------------</a>
          <a id="4480" class="Symbol">→</a> <a id="4482" href="Effect.Theory.HigherOrder.html#4258" class="Bound">eq</a> <a id="4485" class="Symbol">.</a><a id="4486" href="Effect.Theory.HigherOrder.html#1277" class="Field">rhsᴴ</a> <a id="4491" href="Effect.Theory.HigherOrder.html#4310" class="Bound">δ</a> <a id="4493" href="Effect.Theory.HigherOrder.html#4349" class="Bound">γ</a> <a id="4495" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="4499" href="Effect.Theory.HigherOrder.html#4378" class="Bound">k</a> <a id="4501" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">≅⟨</a> <a id="4504" href="Effect.Theory.HigherOrder.html#2503" class="Generalizable">Th</a> <a id="4507" href="Effect.Theory.HigherOrder.html#3553" class="Datatype Operator">⟩</a> <a id="4509" class="Symbol">(</a><a id="4510" href="Effect.Theory.HigherOrder.html#4258" class="Bound">eq</a> <a id="4513" class="Symbol">.</a><a id="4514" href="Effect.Theory.HigherOrder.html#1277" class="Field">rhsᴴ</a> <a id="4519" href="Effect.Theory.HigherOrder.html#4310" class="Bound">δ</a> <a id="4521" href="Effect.Theory.HigherOrder.html#4349" class="Bound">γ</a> <a id="4523" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="4527" href="Effect.Theory.HigherOrder.html#4378" class="Bound">k</a><a id="4528" class="Symbol">)</a>




<a id="4534" class="Comment">{- Correctness of elaborations -}</a> 
<a id="4569" class="Keyword">open</a> <a id="4574" href="Effect.Elaborate.html#990" class="Module">Elaboration</a> 

<a id="4588" class="Comment">-- We say that an elaboration is correct with respect to some higher-order</a>
<a id="4663" class="Comment">-- effect theory of its higher-order effect, and some first-order effect theory</a>
<a id="4743" class="Comment">-- of the algebraic effects it elaborates into iff the elaboration algebra</a>
<a id="4818" class="Comment">-- respects all equations of the higher-order theory modulo syntactic</a>
<a id="4888" class="Comment">-- equivalence of the resulting effect trees modulo the given first-order effect</a>
<a id="4969" class="Comment">-- theory.</a>
<a id="4980" class="Comment">--</a>
<a id="4983" class="Comment">-- Since the &quot;target&quot; effects of an elaboration are merely a lower bound, the</a>
<a id="5061" class="Comment">-- definition of correctness closes over all extensions of this lower bound,</a>
<a id="5138" class="Comment">-- weakening the given first-order effect theory T to the universally quantified</a>
<a id="5219" class="Comment">-- extension ε′</a>
<a id="5235" class="Comment">--</a>
<a id="5238" class="Comment">-- TODO: this looks remarkably similar to how we close over &quot;value extensions&quot;</a>
<a id="5317" class="Comment">-- when defining extensible langauge fragments in the OOPSLA paper. Can we</a>
<a id="5392" class="Comment">-- factor those, and the &quot;theory extensions&quot; used here into a common pattern?</a>
<a id="Correctᴴ"></a><a id="5470" href="Effect.Theory.HigherOrder.html#5470" class="Function">Correctᴴ</a> <a id="5479" class="Symbol">:</a> <a id="5481" href="Effect.Theory.HigherOrder.html#2345" class="Record">Theoryᴴ</a> <a id="5489" href="Effect.Base.html#964" class="Generalizable">ξ</a> <a id="5491" class="Symbol">→</a> <a id="5493" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="5500" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="5502" class="Symbol">→</a> <a id="5504" href="Effect.Elaborate.html#990" class="Record">Elaboration</a> <a id="5516" href="Effect.Base.html#964" class="Generalizable">ξ</a> <a id="5518" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="5520" class="Symbol">→</a> <a id="5522" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> 
<a id="5528" href="Effect.Theory.HigherOrder.html#5470" class="Function">Correctᴴ</a> <a id="5537" href="Effect.Theory.HigherOrder.html#5537" class="Bound">Th</a> <a id="5540" href="Effect.Theory.HigherOrder.html#5540" class="Bound">T</a> <a id="5542" href="Effect.Theory.HigherOrder.html#5542" class="Bound">e</a> <a id="5544" class="Symbol">=</a>
  <a id="5548" class="Symbol">∀</a> <a id="5550" class="Symbol">{</a><a id="5551" href="Effect.Theory.HigherOrder.html#5551" class="Bound">eq</a> <a id="5554" class="Symbol">:</a> <a id="5556" href="Effect.Theory.HigherOrder.html#1130" class="Record">Equationᴴ</a> <a id="5566" class="Symbol">_}</a>
  <a id="5571" class="Symbol">→</a> <a id="5573" href="Effect.Theory.HigherOrder.html#5551" class="Bound">eq</a> <a id="5576" href="Effect.Theory.HigherOrder.html#2603" class="Function Operator">◃ᴴ</a> <a id="5579" href="Effect.Theory.HigherOrder.html#5537" class="Bound">Th</a>
  <a id="5584" class="Symbol">→</a> <a id="5586" class="Symbol">∀</a> <a id="5588" class="Symbol">{</a><a id="5589" href="Effect.Theory.HigherOrder.html#5589" class="Bound">ε′</a><a id="5591" class="Symbol">}</a> <a id="5593" class="Symbol">→</a> <a id="5595" class="Symbol">⦃</a> <a id="5597" href="Effect.Theory.HigherOrder.html#5597" class="Bound">i</a> <a id="5599" class="Symbol">:</a> <a id="5601" class="Symbol">_</a> <a id="5603" href="Effect.Inclusion.html#635" class="Function Operator">≲</a> <a id="5605" href="Effect.Theory.HigherOrder.html#5589" class="Bound">ε′</a> <a id="5608" class="Symbol">⦄</a>
  <a id="5612" class="Symbol">→</a> <a id="5614" class="Symbol">(</a><a id="5615" href="Effect.Theory.HigherOrder.html#5615" class="Bound">T′</a> <a id="5618" class="Symbol">:</a> <a id="5620" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="5627" href="Effect.Theory.HigherOrder.html#5589" class="Bound">ε′</a><a id="5629" class="Symbol">)</a> <a id="5631" class="Symbol">→</a> <a id="5633" href="Effect.Theory.HigherOrder.html#5540" class="Bound">T</a> <a id="5635" href="Effect.Theory.FirstOrder.html#3690" class="Record Operator">⊆⟨</a> <a id="5638" href="Effect.Theory.HigherOrder.html#5597" class="Bound">i</a> <a id="5640" href="Effect.Theory.FirstOrder.html#3690" class="Record Operator">⟩</a> <a id="5642" href="Effect.Theory.HigherOrder.html#5615" class="Bound">T′</a> 
  <a id="5648" class="Symbol">→</a> <a id="5650" href="Effect.Theory.HigherOrder.html#2063" class="Function">Respectsᴴ</a> <a id="5660" class="Symbol">(</a><a id="5661" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">_≈⟨</a> <a id="5665" href="Effect.Theory.HigherOrder.html#5615" class="Bound">T′</a> <a id="5668" href="Effect.Theory.FirstOrder.html#8304" class="Datatype Operator">⟩_</a><a id="5670" class="Symbol">)</a> <a id="5672" class="Symbol">(</a><a id="5673" href="Effect.Logic.html#3397" class="Field Operator">□⟨</a> <a id="5676" href="Effect.Theory.HigherOrder.html#5542" class="Bound">e</a> <a id="5678" class="Symbol">.</a><a id="5679" href="Effect.Elaborate.html#1063" class="Field">elab</a> <a id="5684" href="Effect.Logic.html#3397" class="Field Operator">⟩</a> <a id="5686" href="Effect.Theory.HigherOrder.html#5597" class="Bound">i</a><a id="5687" class="Symbol">)</a> <a id="5689" href="Effect.Theory.HigherOrder.html#5551" class="Bound">eq</a> 


<a id="5695" class="Comment">-- Equations that occur in a composed theory can be found in either of the</a>
<a id="5770" class="Comment">-- argument theories</a>
<a id="[+]ᴴ-injective"></a><a id="5791" href="Effect.Theory.HigherOrder.html#5791" class="Function">[+]ᴴ-injective</a> <a id="5806" class="Symbol">:</a> <a id="5808" class="Symbol">∀</a> <a id="5810" href="Effect.Theory.HigherOrder.html#5810" class="Bound">Th₁</a> <a id="5814" href="Effect.Theory.HigherOrder.html#5814" class="Bound">Th₂</a> <a id="5818" class="Symbol">{</a><a id="5819" href="Effect.Theory.HigherOrder.html#5819" class="Bound">eq</a> <a id="5822" class="Symbol">:</a> <a id="5824" href="Effect.Theory.HigherOrder.html#1130" class="Record">Equationᴴ</a> <a id="5834" class="Symbol">(</a><a id="5835" href="Effect.Base.html#966" class="Generalizable">ξ₁</a> <a id="5838" href="Core.Signature.html#1253" class="Function Operator">·⊕</a> <a id="5841" href="Effect.Base.html#969" class="Generalizable">ξ₂</a><a id="5843" class="Symbol">)}</a>
         <a id="5855" class="Symbol">→</a> <a id="5857" href="Effect.Theory.HigherOrder.html#5819" class="Bound">eq</a> <a id="5860" href="Effect.Theory.HigherOrder.html#2603" class="Function Operator">◃ᴴ</a> <a id="5863" class="Symbol">(</a><a id="5864" href="Effect.Theory.HigherOrder.html#5810" class="Bound">Th₁</a> <a id="5868" href="Effect.Theory.HigherOrder.html#3213" class="Function Operator">[+]ᴴ</a> <a id="5873" href="Effect.Theory.HigherOrder.html#5814" class="Bound">Th₂</a><a id="5876" class="Symbol">)</a>
         <a id="5887" class="Symbol">→</a>   <a id="5891" class="Symbol">(</a><a id="5892" href="Effect.Theory.HigherOrder.html#5819" class="Bound">eq</a> <a id="5895" href="Effect.Theory.HigherOrder.html#2603" class="Function Operator">◃ᴴ</a> <a id="5898" href="Effect.Theory.HigherOrder.html#2940" class="Function">wk-theoryᴴ</a> <a id="5909" class="Symbol">⦃</a> <a id="5911" href="Effect.Base.html#2689" class="Function">⊑ᴴ-⊕-left</a>  <a id="5922" class="Symbol">⦄</a> <a id="5924" href="Effect.Theory.HigherOrder.html#5810" class="Bound">Th₁</a> <a id="5928" class="Symbol">)</a>
           <a id="5941" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="5943" class="Symbol">(</a><a id="5944" href="Effect.Theory.HigherOrder.html#5819" class="Bound">eq</a> <a id="5947" href="Effect.Theory.HigherOrder.html#2603" class="Function Operator">◃ᴴ</a> <a id="5950" href="Effect.Theory.HigherOrder.html#2940" class="Function">wk-theoryᴴ</a> <a id="5961" class="Symbol">⦃</a> <a id="5963" href="Effect.Base.html#2850" class="Function">⊑ᴴ-⊕-right</a> <a id="5974" class="Symbol">⦄</a> <a id="5976" href="Effect.Theory.HigherOrder.html#5814" class="Bound">Th₂</a> <a id="5980" class="Symbol">)</a>
<a id="5982" href="Effect.Theory.HigherOrder.html#5791" class="Function">[+]ᴴ-injective</a> <a id="5997" href="Effect.Theory.HigherOrder.html#5997" class="Bound">Th₁</a> <a id="6001" href="Effect.Theory.HigherOrder.html#6001" class="Bound">Th₂</a> <a id="6005" class="Symbol">{</a><a id="6006" href="Effect.Theory.HigherOrder.html#6006" class="Bound">eq</a><a id="6008" class="Symbol">}</a> <a id="6010" href="Effect.Theory.HigherOrder.html#6010" class="Bound">px</a> <a id="6013" class="Keyword">with</a> <a id="6018" href="Effect.Theory.HigherOrder.html#5997" class="Bound">Th₁</a> <a id="6022" class="Symbol">.</a><a id="6023" href="Effect.Theory.HigherOrder.html#2438" class="Field">equationsᴴ</a>
<a id="6034" class="Symbol">...</a> <a id="6038" class="Symbol">|</a> <a id="6040" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>      <a id="6048" class="Symbol">=</a> <a id="6050" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="6055" class="Bound">px</a>
<a id="6058" class="Symbol">...</a> <a id="6062" class="Symbol">|</a> <a id="6064" href="Effect.Theory.HigherOrder.html#6064" class="Bound">x</a> <a id="6066" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6068" href="Effect.Theory.HigherOrder.html#6068" class="Bound">eqs</a> <a id="6072" class="Symbol">=</a>
  <a id="6076" href="Function.Base.html#3973" class="Function Operator">case</a> <a id="6081" class="Bound">px</a> <a id="6084" href="Function.Base.html#3973" class="Function Operator">of</a>
    <a id="6091" class="Symbol">λ</a> <a id="6093" class="Keyword">where</a> <a id="6099" class="Symbol">(</a><a id="6100" href="Data.List.Relation.Unary.Any.html#1219" class="InductiveConstructor">here</a> <a id="6105" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="6109" class="Symbol">)</a> <a id="6111" class="Symbol">→</a> <a id="6113" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="6118" class="Symbol">(</a><a id="6119" href="Data.List.Relation.Unary.Any.html#1219" class="InductiveConstructor">here</a> <a id="6124" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="6128" class="Symbol">)</a>
            <a id="6142" class="Symbol">(</a><a id="6143" href="Data.List.Relation.Unary.Any.html#1272" class="InductiveConstructor">there</a> <a id="6149" href="Effect.Theory.HigherOrder.html#6149" class="Bound">px′</a><a id="6152" class="Symbol">)</a> <a id="6154" class="Symbol">→</a>
              <a id="6170" href="Data.Sum.Base.html#920" class="Function Operator">[</a> <a id="6172" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="6177" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="6179" class="InductiveConstructor">there</a>
              <a id="6199" href="Data.Sum.Base.html#920" class="Function Operator">,</a> <a id="6201" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a>
              <a id="6220" href="Data.Sum.Base.html#920" class="Function Operator">]</a> <a id="6222" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="6224" href="Effect.Theory.HigherOrder.html#5791" class="Function">[+]ᴴ-injective</a> <a id="6239" class="Symbol">(λ</a> <a id="6242" class="Keyword">where</a> <a id="6248" class="Symbol">.</a><a id="6249" href="Effect.Theory.HigherOrder.html#2438" class="Field">equationsᴴ</a> <a id="6260" class="Symbol">→</a> <a id="6262" href="Effect.Theory.HigherOrder.html#6068" class="Bound">eqs</a><a id="6265" class="Symbol">)</a> <a id="6267" class="Bound">Th₂</a> <a id="6271" href="Effect.Theory.HigherOrder.html#6149" class="Bound">px′</a>

<a id="6276" class="Comment">-- Equations of a weakened theory are themselves weakened equations </a>
<a id="◃ᴴ-weaken-lemma"></a><a id="6345" href="Effect.Theory.HigherOrder.html#6345" class="Function">◃ᴴ-weaken-lemma</a> <a id="6361" class="Symbol">:</a> <a id="6363" class="Symbol">∀</a> <a id="6365" href="Effect.Theory.HigherOrder.html#6365" class="Bound">Th</a> <a id="6368" class="Symbol">(</a><a id="6369" href="Effect.Theory.HigherOrder.html#6369" class="Bound">w</a> <a id="6371" class="Symbol">:</a> <a id="6373" class="Symbol">∀</a> <a id="6375" class="Symbol">{</a><a id="6376" href="Effect.Theory.HigherOrder.html#6376" class="Bound">ε</a><a id="6377" class="Symbol">}</a> <a id="6379" class="Symbol">→</a> <a id="6381" href="Effect.Base.html#966" class="Generalizable">ξ₁</a> <a id="6384" href="Effect.Theory.HigherOrder.html#6376" class="Bound">ε</a> <a id="6386" href="Effect.Base.html#1229" class="Record Operator">⊑ᴴ</a> <a id="6389" href="Effect.Base.html#969" class="Generalizable">ξ₂</a> <a id="6392" href="Effect.Theory.HigherOrder.html#6376" class="Bound">ε</a><a id="6393" class="Symbol">)</a>
       <a id="6402" class="Symbol">→</a> <a id="6404" class="Symbol">(</a><a id="6405" href="Effect.Theory.HigherOrder.html#6405" class="Bound">eq</a> <a id="6408" class="Symbol">:</a> <a id="6410" href="Effect.Theory.HigherOrder.html#1130" class="Record">Equationᴴ</a> <a id="6420" href="Effect.Base.html#969" class="Generalizable">ξ₂</a><a id="6422" class="Symbol">)</a>
       <a id="6431" class="Symbol">→</a> <a id="6433" href="Effect.Theory.HigherOrder.html#6405" class="Bound">eq</a> <a id="6436" href="Effect.Theory.HigherOrder.html#2603" class="Function Operator">◃ᴴ</a> <a id="6439" href="Effect.Theory.HigherOrder.html#2940" class="Function">wk-theoryᴴ</a> <a id="6450" class="Symbol">⦃</a> <a id="6452" href="Effect.Theory.HigherOrder.html#6369" class="Bound">w</a> <a id="6454" class="Symbol">⦄</a> <a id="6456" href="Effect.Theory.HigherOrder.html#6365" class="Bound">Th</a>
       <a id="6466" class="Symbol">→</a> <a id="6468" href="Data.Product.html#1369" class="Function">∃</a> <a id="6470" class="Symbol">λ</a> <a id="6472" class="Symbol">(</a><a id="6473" href="Effect.Theory.HigherOrder.html#6473" class="Bound">eq′</a> <a id="6477" class="Symbol">:</a> <a id="6479" href="Effect.Theory.HigherOrder.html#1130" class="Record">Equationᴴ</a> <a id="6489" href="Effect.Base.html#966" class="Generalizable">ξ₁</a><a id="6491" class="Symbol">)</a> <a id="6493" class="Symbol">→</a> <a id="6495" href="Effect.Theory.HigherOrder.html#6473" class="Bound">eq′</a> <a id="6499" href="Effect.Theory.HigherOrder.html#2603" class="Function Operator">◃ᴴ</a> <a id="6502" href="Effect.Theory.HigherOrder.html#6365" class="Bound">Th</a> <a id="6505" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6507" href="Effect.Theory.HigherOrder.html#6405" class="Bound">eq</a> <a id="6510" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6512" href="Effect.Theory.HigherOrder.html#1610" class="Function">wk-equationᴴ</a> <a id="6525" class="Symbol">⦃</a> <a id="6527" href="Effect.Theory.HigherOrder.html#6369" class="Bound">w</a> <a id="6529" class="Symbol">⦄</a> <a id="6531" href="Effect.Theory.HigherOrder.html#6473" class="Bound">eq′</a> 
<a id="6536" href="Effect.Theory.HigherOrder.html#6345" class="Function">◃ᴴ-weaken-lemma</a> <a id="6552" href="Effect.Theory.HigherOrder.html#6552" class="Bound">Th</a> <a id="6555" href="Effect.Theory.HigherOrder.html#6555" class="Bound">w</a> <a id="6557" href="Effect.Theory.HigherOrder.html#6557" class="Bound">eq</a> <a id="6560" href="Effect.Theory.HigherOrder.html#6560" class="Bound">px</a> <a id="6563" class="Keyword">with</a> <a id="6568" href="Effect.Theory.HigherOrder.html#6552" class="Bound">Th</a> <a id="6571" class="Symbol">.</a><a id="6572" href="Effect.Theory.HigherOrder.html#2438" class="Field">equationsᴴ</a>
<a id="6583" class="Symbol">...</a> <a id="6587" class="Symbol">|</a> <a id="6589" href="Effect.Theory.HigherOrder.html#6589" class="Bound">eq′</a> <a id="6593" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6595" href="Effect.Theory.HigherOrder.html#6595" class="Bound">eqs</a> <a id="6599" class="Symbol">=</a>
  <a id="6603" href="Function.Base.html#3973" class="Function Operator">case</a> <a id="6608" class="Bound">px</a> <a id="6611" href="Function.Base.html#3973" class="Function Operator">of</a>
    <a id="6618" class="Symbol">λ</a> <a id="6620" class="Keyword">where</a> <a id="6626" class="Symbol">(</a><a id="6627" href="Data.List.Relation.Unary.Any.html#1219" class="InductiveConstructor">here</a> <a id="6632" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="6636" class="Symbol">)</a> <a id="6638" class="Symbol">→</a> <a id="6640" class="Symbol">_</a> <a id="6642" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6644" href="Data.List.Relation.Unary.Any.html#1219" class="InductiveConstructor">here</a> <a id="6649" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6654" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6656" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
            <a id="6673" class="Symbol">(</a><a id="6674" href="Data.List.Relation.Unary.Any.html#1272" class="InductiveConstructor">there</a> <a id="6680" href="Effect.Theory.HigherOrder.html#6680" class="Bound">px′</a><a id="6683" class="Symbol">)</a> <a id="6685" class="Symbol">→</a>
              <a id="6701" href="Function.Base.html#3973" class="Function Operator">case</a> <a id="6706" href="Effect.Theory.HigherOrder.html#6345" class="Function">◃ᴴ-weaken-lemma</a> <a id="6722" class="Symbol">(λ</a> <a id="6725" class="Keyword">where</a> <a id="6731" class="Symbol">.</a><a id="6732" href="Effect.Theory.HigherOrder.html#2438" class="Field">equationsᴴ</a> <a id="6743" class="Symbol">→</a> <a id="6745" href="Effect.Theory.HigherOrder.html#6595" class="Bound">eqs</a><a id="6748" class="Symbol">)</a> <a id="6750" class="Bound">w</a> <a id="6752" class="Bound">eq</a> <a id="6755" href="Effect.Theory.HigherOrder.html#6680" class="Bound">px′</a> <a id="6759" href="Function.Base.html#3973" class="Function Operator">of</a>
                <a id="6778" class="Symbol">λ</a> <a id="6780" class="Keyword">where</a> <a id="6786" class="Symbol">(</a><a id="6787" href="Effect.Theory.HigherOrder.html#6787" class="Bound">a</a> <a id="6789" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6791" href="Effect.Theory.HigherOrder.html#6791" class="Bound">px′′</a> <a id="6796" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6798" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="6802" class="Symbol">)</a> <a id="6804" class="Symbol">→</a> <a id="6806" href="Effect.Theory.HigherOrder.html#6787" class="Bound">a</a> <a id="6808" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6810" href="Data.List.Relation.Unary.Any.html#1272" class="InductiveConstructor">there</a> <a id="6816" href="Effect.Theory.HigherOrder.html#6791" class="Bound">px′′</a> <a id="6821" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6823" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> 

<a id="map-id"></a><a id="6830" href="Effect.Theory.HigherOrder.html#6830" class="Function">map-id</a> <a id="6837" class="Symbol">:</a> <a id="6839" class="Symbol">(</a><a id="6840" href="Effect.Theory.HigherOrder.html#6840" class="Bound">m</a> <a id="6842" class="Symbol">:</a> <a id="6844" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="6850" href="Effect.Base.html#931" class="Generalizable">η</a> <a id="6852" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="6853" class="Symbol">)</a> <a id="6855" class="Symbol">→</a> <a id="6857" href="Effect.Syntax.Hefty.html#1071" class="Function">map-hefty</a> <a id="6867" href="Function.Base.html#695" class="Function">id</a> <a id="6870" href="Effect.Theory.HigherOrder.html#6840" class="Bound">m</a> <a id="6872" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6874" href="Effect.Theory.HigherOrder.html#6840" class="Bound">m</a>
<a id="6876" href="Effect.Theory.HigherOrder.html#6830" class="Function">map-id</a> <a id="6883" class="Symbol">(</a><a id="6884" href="Effect.Syntax.Hefty.html#454" class="InductiveConstructor">pure</a> <a id="6889" href="Effect.Theory.HigherOrder.html#6889" class="Bound">x</a><a id="6890" class="Symbol">)</a>               <a id="6906" class="Symbol">=</a> <a id="6908" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="6913" href="Effect.Theory.HigherOrder.html#6830" class="Function">map-id</a> <a id="6920" class="Symbol">(</a><a id="6921" href="Effect.Syntax.Hefty.html#497" class="InductiveConstructor">impure</a> <a id="6928" href="Core.Signature.html#703" class="InductiveConstructor Operator">⟪</a> <a id="6930" href="Effect.Theory.HigherOrder.html#6930" class="Bound">c</a> <a id="6932" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6934" href="Effect.Theory.HigherOrder.html#6934" class="Bound">r</a> <a id="6936" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6938" href="Effect.Theory.HigherOrder.html#6938" class="Bound">s</a> <a id="6940" href="Core.Signature.html#703" class="InductiveConstructor Operator">⟫</a><a id="6941" class="Symbol">)</a> <a id="6943" class="Symbol">=</a>
  <a id="6947" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a>
    <a id="6957" class="Symbol">(λ</a> <a id="6960" href="Effect.Theory.HigherOrder.html#6960" class="Bound">□₁</a> <a id="6963" href="Effect.Theory.HigherOrder.html#6963" class="Bound">□₂</a> <a id="6966" class="Symbol">→</a> <a id="6968" href="Effect.Syntax.Hefty.html#497" class="InductiveConstructor">impure</a> <a id="6975" href="Core.Signature.html#703" class="InductiveConstructor Operator">⟪</a> <a id="6977" href="Effect.Theory.HigherOrder.html#6930" class="Bound">c</a> <a id="6979" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6981" href="Effect.Theory.HigherOrder.html#6960" class="Bound">□₁</a> <a id="6984" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6986" href="Effect.Theory.HigherOrder.html#6963" class="Bound">□₂</a> <a id="6989" href="Core.Signature.html#703" class="InductiveConstructor Operator">⟫</a><a id="6990" class="Symbol">)</a>
    <a id="6996" class="Symbol">(</a><a id="6997" href="Core.Extensionality.html#199" class="Function">extensionality</a> <a id="7012" class="Symbol">(</a><a id="7013" href="Effect.Theory.HigherOrder.html#6830" class="Function">map-id</a> <a id="7020" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="7022" href="Effect.Theory.HigherOrder.html#6934" class="Bound">r</a><a id="7023" class="Symbol">))</a>
    <a id="7030" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="⟨⊕⟩-fold-left"></a><a id="7036" href="Effect.Theory.HigherOrder.html#7036" class="Function">⟨⊕⟩-fold-left</a> <a id="7050" class="Symbol">:</a> <a id="7052" class="Symbol">∀</a> <a id="7054" class="Symbol">(</a><a id="7055" href="Effect.Theory.HigherOrder.html#7055" class="Bound">m</a> <a id="7057" class="Symbol">:</a> <a id="7059" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="7065" href="Effect.Base.html#931" class="Generalizable">η</a> <a id="7067" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="7068" class="Symbol">)</a>
                  <a id="7088" class="Symbol">{</a><a id="7089" href="Effect.Theory.HigherOrder.html#7089" class="Bound">f</a> <a id="7091" class="Symbol">:</a> <a id="7093" href="Core.Signature.html#826" class="Record">Algebra</a> <a id="7101" href="Effect.Base.html#931" class="Generalizable">η</a> <a id="7103" href="Core.Functor.html#1552" class="Generalizable">F</a><a id="7104" class="Symbol">}</a> <a id="7106" class="Symbol">{</a><a id="7107" href="Effect.Theory.HigherOrder.html#7107" class="Bound">g</a> <a id="7109" class="Symbol">:</a> <a id="7111" href="Core.Signature.html#826" class="Record">Algebra</a> <a id="7119" href="Effect.Base.html#942" class="Generalizable">η′</a> <a id="7122" href="Core.Functor.html#1552" class="Generalizable">F</a><a id="7123" class="Symbol">}</a>
                  <a id="7143" class="Symbol">{</a><a id="7144" href="Effect.Theory.HigherOrder.html#7144" class="Bound">k</a> <a id="7146" class="Symbol">:</a> <a id="7148" href="Relation.Unary.html#3498" class="Function">∀[</a> <a id="7151" href="Function.Base.html#695" class="Function">id</a> <a id="7154" href="Relation.Unary.html#4490" class="Function Operator">⇒</a> <a id="7156" href="Core.Functor.html#1552" class="Generalizable">F</a> <a id="7158" href="Relation.Unary.html#3498" class="Function">]</a><a id="7159" class="Symbol">}</a>
                <a id="7177" class="Symbol">→</a>   <a id="7181" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="7192" href="Effect.Theory.HigherOrder.html#7144" class="Bound">k</a> <a id="7194" href="Effect.Theory.HigherOrder.html#7089" class="Bound">f</a> <a id="7196" href="Effect.Theory.HigherOrder.html#7055" class="Bound">m</a>
                  <a id="7216" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7218" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="7229" href="Effect.Theory.HigherOrder.html#7144" class="Bound">k</a> <a id="7231" class="Symbol">(</a><a id="7232" href="Effect.Theory.HigherOrder.html#7089" class="Bound">f</a> <a id="7234" href="Core.Signature.html#1336" class="Function Operator">⟨⊕⟩</a> <a id="7238" href="Effect.Theory.HigherOrder.html#7107" class="Bound">g</a><a id="7239" class="Symbol">)</a> <a id="7241" class="Symbol">(</a><a id="7242" href="Effect.Base.html#2111" class="Function">♯ᴴ</a> <a id="7245" class="Symbol">⦃</a> <a id="7247" href="Effect.Base.html#2689" class="Function">⊑ᴴ-⊕-left</a> <a id="7257" class="Symbol">⦄</a> <a id="7259" href="Effect.Theory.HigherOrder.html#7055" class="Bound">m</a><a id="7260" class="Symbol">)</a>
<a id="7262" href="Effect.Theory.HigherOrder.html#7036" class="Function">⟨⊕⟩-fold-left</a> <a id="7276" class="Symbol">(</a><a id="7277" href="Effect.Syntax.Hefty.html#454" class="InductiveConstructor">pure</a> <a id="7282" class="Symbol">_)</a>                           <a id="7311" class="Symbol">=</a> <a id="7313" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="7318" href="Effect.Theory.HigherOrder.html#7036" class="Function">⟨⊕⟩-fold-left</a> <a id="7332" class="Symbol">(</a><a id="7333" href="Effect.Syntax.Hefty.html#497" class="InductiveConstructor">impure</a> <a id="7340" href="Core.Signature.html#703" class="InductiveConstructor Operator">⟪</a> <a id="7342" href="Effect.Theory.HigherOrder.html#7342" class="Bound">c</a> <a id="7344" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7346" href="Effect.Theory.HigherOrder.html#7346" class="Bound">r</a> <a id="7348" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7350" href="Effect.Theory.HigherOrder.html#7350" class="Bound">s</a> <a id="7352" href="Core.Signature.html#703" class="InductiveConstructor Operator">⟫</a><a id="7353" class="Symbol">)</a> <a id="7355" class="Symbol">{</a><a id="7356" href="Effect.Theory.HigherOrder.html#7356" class="Bound">f</a><a id="7357" class="Symbol">}</a> <a id="7359" class="Symbol">{</a><a id="7360" href="Effect.Theory.HigherOrder.html#7360" class="Bound">g</a><a id="7361" class="Symbol">}</a> <a id="7363" class="Symbol">{</a><a id="7364" href="Effect.Theory.HigherOrder.html#7364" class="Bound">k</a><a id="7365" class="Symbol">}</a> <a id="7367" class="Symbol">=</a>
  <a id="7371" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a>
    <a id="7381" class="Symbol">(λ</a> <a id="7384" href="Effect.Theory.HigherOrder.html#7384" class="Bound">□₁</a> <a id="7387" href="Effect.Theory.HigherOrder.html#7387" class="Bound">□₂</a> <a id="7390" class="Symbol">→</a> <a id="7392" href="Effect.Theory.HigherOrder.html#7356" class="Bound">f</a> <a id="7394" class="Symbol">.</a><a id="7395" href="Core.Signature.html#873" class="Field">α</a> <a id="7397" href="Core.Signature.html#703" class="InductiveConstructor Operator">⟪</a> <a id="7399" href="Effect.Theory.HigherOrder.html#7342" class="Bound">c</a> <a id="7401" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7403" href="Effect.Theory.HigherOrder.html#7384" class="Bound">□₁</a> <a id="7406" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7408" href="Effect.Theory.HigherOrder.html#7387" class="Bound">□₂</a> <a id="7411" href="Core.Signature.html#703" class="InductiveConstructor Operator">⟫</a><a id="7412" class="Symbol">)</a>
    <a id="7418" class="Symbol">(</a> <a id="7420" href="Core.Extensionality.html#199" class="Function">extensionality</a> <a id="7435" class="Symbol">λ</a> <a id="7437" href="Effect.Theory.HigherOrder.html#7437" class="Bound">x</a> <a id="7439" class="Symbol">→</a> <a id="7441" href="Effect.Theory.HigherOrder.html#7036" class="Function">⟨⊕⟩-fold-left</a> <a id="7455" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="7457" href="Effect.Theory.HigherOrder.html#7346" class="Bound">r</a> <a id="7459" href="Effect.Theory.HigherOrder.html#7437" class="Bound">x</a> <a id="7461" class="Symbol">)</a>
    <a id="7467" class="Symbol">(</a> <a id="7469" href="Core.Extensionality.html#199" class="Function">extensionality</a> <a id="7484" class="Symbol">λ</a> <a id="7486" href="Effect.Theory.HigherOrder.html#7486" class="Bound">x</a> <a id="7488" class="Symbol">→</a>
        <a id="7498" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a>
          <a id="7514" class="Symbol">(</a> <a id="7516" href="Effect.Theory.HigherOrder.html#7036" class="Function">⟨⊕⟩-fold-left</a> <a id="7530" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="7532" href="Effect.Theory.HigherOrder.html#7350" class="Bound">s</a> <a id="7534" href="Effect.Theory.HigherOrder.html#7486" class="Bound">x</a> <a id="7536" class="Symbol">)</a>
          <a id="7548" class="Symbol">(</a> <a id="7550" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a>
              <a id="7569" class="Symbol">(λ</a> <a id="7572" href="Effect.Theory.HigherOrder.html#7572" class="Bound">□</a> <a id="7574" class="Symbol">→</a> <a id="7576" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="7587" href="Effect.Theory.HigherOrder.html#7364" class="Bound">k</a> <a id="7589" class="Symbol">(</a><a id="7590" href="Effect.Theory.HigherOrder.html#7356" class="Bound">f</a> <a id="7592" href="Core.Signature.html#1336" class="Function Operator">⟨⊕⟩</a> <a id="7596" href="Effect.Theory.HigherOrder.html#7360" class="Bound">g</a><a id="7597" class="Symbol">)</a> <a id="7599" href="Effect.Theory.HigherOrder.html#7572" class="Bound">□</a><a id="7600" class="Symbol">)</a>
              <a id="7616" class="Symbol">(</a><a id="7617" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="7621" class="Symbol">(</a><a id="7622" href="Effect.Theory.HigherOrder.html#6830" class="Function">map-id</a> <a id="7629" class="Symbol">(</a><a id="7630" href="Effect.Base.html#2111" class="Function">♯ᴴ</a> <a id="7633" class="Symbol">⦃</a> <a id="7635" href="Effect.Base.html#2689" class="Function">⊑ᴴ-⊕-left</a> <a id="7645" class="Symbol">⦄</a> <a id="7647" class="Symbol">(</a><a id="7648" href="Effect.Theory.HigherOrder.html#7350" class="Bound">s</a> <a id="7650" href="Effect.Theory.HigherOrder.html#7486" class="Bound">x</a><a id="7651" class="Symbol">)))</a>
              <a id="7669" class="Symbol">))</a>
    <a id="7676" class="Symbol">)</a>

<a id="⟨⊕⟩-fold-right"></a><a id="7679" href="Effect.Theory.HigherOrder.html#7679" class="Function">⟨⊕⟩-fold-right</a> <a id="7694" class="Symbol">:</a> <a id="7696" class="Symbol">∀</a> <a id="7698" class="Symbol">(</a><a id="7699" href="Effect.Theory.HigherOrder.html#7699" class="Bound">m</a> <a id="7701" class="Symbol">:</a> <a id="7703" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="7709" href="Effect.Base.html#931" class="Generalizable">η</a> <a id="7711" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="7712" class="Symbol">)</a>
                  <a id="7732" class="Symbol">{</a><a id="7733" href="Effect.Theory.HigherOrder.html#7733" class="Bound">f</a> <a id="7735" class="Symbol">:</a> <a id="7737" href="Core.Signature.html#826" class="Record">Algebra</a> <a id="7745" href="Effect.Base.html#942" class="Generalizable">η′</a> <a id="7748" href="Core.Functor.html#1552" class="Generalizable">F</a><a id="7749" class="Symbol">}</a> <a id="7751" class="Symbol">{</a><a id="7752" href="Effect.Theory.HigherOrder.html#7752" class="Bound">g</a> <a id="7754" class="Symbol">:</a> <a id="7756" href="Core.Signature.html#826" class="Record">Algebra</a> <a id="7764" href="Effect.Base.html#931" class="Generalizable">η</a> <a id="7766" href="Core.Functor.html#1552" class="Generalizable">F</a><a id="7767" class="Symbol">}</a>
                  <a id="7787" class="Symbol">{</a><a id="7788" href="Effect.Theory.HigherOrder.html#7788" class="Bound">k</a> <a id="7790" class="Symbol">:</a> <a id="7792" href="Relation.Unary.html#3498" class="Function">∀[</a> <a id="7795" href="Function.Base.html#695" class="Function">id</a> <a id="7798" href="Relation.Unary.html#4490" class="Function Operator">⇒</a> <a id="7800" href="Core.Functor.html#1552" class="Generalizable">F</a> <a id="7802" href="Relation.Unary.html#3498" class="Function">]</a><a id="7803" class="Symbol">}</a>
                <a id="7821" class="Symbol">→</a>   <a id="7825" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="7836" href="Effect.Theory.HigherOrder.html#7788" class="Bound">k</a> <a id="7838" href="Effect.Theory.HigherOrder.html#7752" class="Bound">g</a> <a id="7840" href="Effect.Theory.HigherOrder.html#7699" class="Bound">m</a>
                  <a id="7860" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7862" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="7873" href="Effect.Theory.HigherOrder.html#7788" class="Bound">k</a> <a id="7875" class="Symbol">(</a><a id="7876" href="Effect.Theory.HigherOrder.html#7733" class="Bound">f</a> <a id="7878" href="Core.Signature.html#1336" class="Function Operator">⟨⊕⟩</a> <a id="7882" href="Effect.Theory.HigherOrder.html#7752" class="Bound">g</a><a id="7883" class="Symbol">)</a> <a id="7885" class="Symbol">(</a><a id="7886" href="Effect.Base.html#2111" class="Function">♯ᴴ</a> <a id="7889" class="Symbol">⦃</a> <a id="7891" href="Effect.Base.html#2850" class="Function">⊑ᴴ-⊕-right</a> <a id="7902" class="Symbol">⦄</a> <a id="7904" href="Effect.Theory.HigherOrder.html#7699" class="Bound">m</a><a id="7905" class="Symbol">)</a>
<a id="7907" href="Effect.Theory.HigherOrder.html#7679" class="Function">⟨⊕⟩-fold-right</a> <a id="7922" class="Symbol">(</a><a id="7923" href="Effect.Syntax.Hefty.html#454" class="InductiveConstructor">pure</a> <a id="7928" class="Symbol">_)</a>                           <a id="7957" class="Symbol">=</a> <a id="7959" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="7964" href="Effect.Theory.HigherOrder.html#7679" class="Function">⟨⊕⟩-fold-right</a> <a id="7979" class="Symbol">(</a><a id="7980" href="Effect.Syntax.Hefty.html#497" class="InductiveConstructor">impure</a> <a id="7987" href="Core.Signature.html#703" class="InductiveConstructor Operator">⟪</a> <a id="7989" href="Effect.Theory.HigherOrder.html#7989" class="Bound">c</a> <a id="7991" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7993" href="Effect.Theory.HigherOrder.html#7993" class="Bound">r</a> <a id="7995" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7997" href="Effect.Theory.HigherOrder.html#7997" class="Bound">s</a> <a id="7999" href="Core.Signature.html#703" class="InductiveConstructor Operator">⟫</a><a id="8000" class="Symbol">)</a> <a id="8002" class="Symbol">{</a><a id="8003" href="Effect.Theory.HigherOrder.html#8003" class="Bound">f</a><a id="8004" class="Symbol">}</a> <a id="8006" class="Symbol">{</a><a id="8007" href="Effect.Theory.HigherOrder.html#8007" class="Bound">g</a><a id="8008" class="Symbol">}</a> <a id="8010" class="Symbol">{</a><a id="8011" href="Effect.Theory.HigherOrder.html#8011" class="Bound">k</a><a id="8012" class="Symbol">}</a> <a id="8014" class="Symbol">=</a>
  <a id="8018" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a>
    <a id="8028" class="Symbol">(λ</a> <a id="8031" href="Effect.Theory.HigherOrder.html#8031" class="Bound">□₁</a> <a id="8034" href="Effect.Theory.HigherOrder.html#8034" class="Bound">□₂</a> <a id="8037" class="Symbol">→</a> <a id="8039" href="Effect.Theory.HigherOrder.html#8007" class="Bound">g</a> <a id="8041" class="Symbol">.</a><a id="8042" href="Core.Signature.html#873" class="Field">α</a> <a id="8044" href="Core.Signature.html#703" class="InductiveConstructor Operator">⟪</a> <a id="8046" href="Effect.Theory.HigherOrder.html#7989" class="Bound">c</a> <a id="8048" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8050" href="Effect.Theory.HigherOrder.html#8031" class="Bound">□₁</a> <a id="8053" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8055" href="Effect.Theory.HigherOrder.html#8034" class="Bound">□₂</a> <a id="8058" href="Core.Signature.html#703" class="InductiveConstructor Operator">⟫</a><a id="8059" class="Symbol">)</a>
    <a id="8065" class="Symbol">(</a> <a id="8067" href="Core.Extensionality.html#199" class="Function">extensionality</a> <a id="8082" class="Symbol">λ</a> <a id="8084" href="Effect.Theory.HigherOrder.html#8084" class="Bound">x</a> <a id="8086" class="Symbol">→</a> <a id="8088" href="Effect.Theory.HigherOrder.html#7679" class="Function">⟨⊕⟩-fold-right</a> <a id="8103" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="8105" href="Effect.Theory.HigherOrder.html#7993" class="Bound">r</a> <a id="8107" href="Effect.Theory.HigherOrder.html#8084" class="Bound">x</a> <a id="8109" class="Symbol">)</a>
    <a id="8115" class="Symbol">(</a> <a id="8117" href="Core.Extensionality.html#199" class="Function">extensionality</a> <a id="8132" class="Symbol">λ</a> <a id="8134" href="Effect.Theory.HigherOrder.html#8134" class="Bound">x</a> <a id="8136" class="Symbol">→</a>
        <a id="8146" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a>
          <a id="8162" class="Symbol">(</a> <a id="8164" href="Effect.Theory.HigherOrder.html#7679" class="Function">⟨⊕⟩-fold-right</a> <a id="8179" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="8181" href="Effect.Theory.HigherOrder.html#7997" class="Bound">s</a> <a id="8183" href="Effect.Theory.HigherOrder.html#8134" class="Bound">x</a> <a id="8185" class="Symbol">)</a>
          <a id="8197" class="Symbol">(</a> <a id="8199" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a>
              <a id="8218" class="Symbol">(λ</a> <a id="8221" href="Effect.Theory.HigherOrder.html#8221" class="Bound">□</a> <a id="8223" class="Symbol">→</a> <a id="8225" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="8236" href="Effect.Theory.HigherOrder.html#8011" class="Bound">k</a> <a id="8238" class="Symbol">(</a><a id="8239" href="Effect.Theory.HigherOrder.html#8003" class="Bound">f</a> <a id="8241" href="Core.Signature.html#1336" class="Function Operator">⟨⊕⟩</a> <a id="8245" href="Effect.Theory.HigherOrder.html#8007" class="Bound">g</a><a id="8246" class="Symbol">)</a> <a id="8248" href="Effect.Theory.HigherOrder.html#8221" class="Bound">□</a><a id="8249" class="Symbol">)</a>
              <a id="8265" class="Symbol">(</a><a id="8266" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="8270" class="Symbol">(</a><a id="8271" href="Effect.Theory.HigherOrder.html#6830" class="Function">map-id</a> <a id="8278" class="Symbol">(</a><a id="8279" href="Effect.Base.html#2111" class="Function">♯ᴴ</a> <a id="8282" class="Symbol">⦃</a> <a id="8284" href="Effect.Base.html#2850" class="Function">⊑ᴴ-⊕-right</a> <a id="8295" class="Symbol">⦄</a> <a id="8297" class="Symbol">(</a><a id="8298" href="Effect.Theory.HigherOrder.html#7997" class="Bound">s</a> <a id="8300" href="Effect.Theory.HigherOrder.html#8134" class="Bound">x</a><a id="8301" class="Symbol">)))</a>
              <a id="8319" class="Symbol">))</a>
    <a id="8326" class="Symbol">)</a>


<a id="8330" class="Keyword">module</a> <a id="8337" href="Effect.Theory.HigherOrder.html#8337" class="Module">_</a> <a id="8339" class="Symbol">{</a><a id="8340" href="Effect.Theory.HigherOrder.html#8340" class="Bound">T</a> <a id="8342" class="Symbol">:</a> <a id="8344" href="Effect.Theory.FirstOrder.html#2718" class="Record">Theory</a> <a id="8351" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="8352" class="Symbol">}</a> <a id="8354" class="Keyword">where</a>

  <a id="8363" class="Comment">-- &quot;Homogeneous&quot; composition of correctness proofs for h.o. effect theories.</a>
  <a id="8442" class="Comment">--</a>
  <a id="8447" class="Comment">-- This theorem establishes that correctness of composed elaborations follows</a>
  <a id="8527" class="Comment">-- from correctness of their components, provided they assume the same lower</a>
  <a id="8606" class="Comment">-- bound on the algebraic effects for elaboration, and establish correctness</a>
  <a id="8685" class="Comment">-- w.r.t. the same first-order effect theory.</a>
  <a id="8733" href="Effect.Theory.HigherOrder.html#8733" class="Function">⟪⊕⟫-correct</a>
    <a id="8749" class="Symbol">:</a> <a id="8751" class="Symbol">∀</a> <a id="8753" class="Symbol">{</a><a id="8754" href="Effect.Theory.HigherOrder.html#8754" class="Bound">e₁</a> <a id="8757" href="Effect.Theory.HigherOrder.html#8757" class="Bound">e₂</a><a id="8759" class="Symbol">}</a> 
      <a id="8768" class="Symbol">→</a> <a id="8770" href="Effect.Theory.HigherOrder.html#5470" class="Function">Correctᴴ</a> <a id="8779" href="Effect.Theory.HigherOrder.html#2506" class="Generalizable">Th₁</a> <a id="8783" href="Effect.Theory.HigherOrder.html#8340" class="Bound">T</a> <a id="8785" href="Effect.Theory.HigherOrder.html#8754" class="Bound">e₁</a>
      <a id="8794" class="Symbol">→</a> <a id="8796" href="Effect.Theory.HigherOrder.html#5470" class="Function">Correctᴴ</a> <a id="8805" href="Effect.Theory.HigherOrder.html#2510" class="Generalizable">Th₂</a> <a id="8809" href="Effect.Theory.HigherOrder.html#8340" class="Bound">T</a> <a id="8811" href="Effect.Theory.HigherOrder.html#8757" class="Bound">e₂</a>
        <a id="8822" class="Comment">-------------------------------------</a>
      <a id="8866" class="Symbol">→</a> <a id="8868" href="Effect.Theory.HigherOrder.html#5470" class="Function">Correctᴴ</a> <a id="8877" class="Symbol">(</a><a id="8878" href="Effect.Theory.HigherOrder.html#2506" class="Generalizable">Th₁</a> <a id="8882" href="Effect.Theory.HigherOrder.html#3213" class="Function Operator">[+]ᴴ</a> <a id="8887" href="Effect.Theory.HigherOrder.html#2510" class="Generalizable">Th₂</a><a id="8890" class="Symbol">)</a> <a id="8892" href="Effect.Theory.HigherOrder.html#8340" class="Bound">T</a> <a id="8894" class="Symbol">(</a><a id="8895" href="Effect.Theory.HigherOrder.html#8754" class="Bound">e₁</a> <a id="8898" href="Effect.Elaborate.html#6126" class="Function Operator">⟪⊕⟫</a> <a id="8902" href="Effect.Theory.HigherOrder.html#8757" class="Bound">e₂</a><a id="8904" class="Symbol">)</a>

  <a id="8909" href="Effect.Theory.HigherOrder.html#8733" class="Function">⟪⊕⟫-correct</a> <a id="8921" class="Symbol">{</a><a id="8922" class="Argument">Th₁</a> <a id="8926" class="Symbol">=</a> <a id="8928" href="Effect.Theory.HigherOrder.html#8928" class="Bound">Th₁</a><a id="8931" class="Symbol">}</a> <a id="8933" class="Symbol">{</a><a id="8934" class="Argument">Th₂</a> <a id="8938" class="Symbol">=</a> <a id="8940" href="Effect.Theory.HigherOrder.html#8940" class="Bound">Th₂</a><a id="8943" class="Symbol">}</a> <a id="8945" class="Symbol">{</a><a id="8946" class="Argument">e₁</a> <a id="8949" class="Symbol">=</a> <a id="8951" href="Effect.Theory.HigherOrder.html#8951" class="Bound">e₁</a><a id="8953" class="Symbol">}</a> <a id="8955" class="Symbol">{</a><a id="8956" class="Argument">e₂</a> <a id="8959" class="Symbol">=</a> <a id="8961" href="Effect.Theory.HigherOrder.html#8961" class="Bound">e₂</a><a id="8963" class="Symbol">}</a> <a id="8965" href="Effect.Theory.HigherOrder.html#8965" class="Bound">c₁</a> <a id="8968" href="Effect.Theory.HigherOrder.html#8968" class="Bound">c₂</a> <a id="8971" href="Effect.Theory.HigherOrder.html#8971" class="Bound">px</a> <a id="8974" class="Symbol">⦃</a> <a id="8976" href="Effect.Theory.HigherOrder.html#8976" class="Bound">i</a> <a id="8978" class="Symbol">⦄</a> <a id="8980" href="Effect.Theory.HigherOrder.html#8980" class="Bound">T′</a> <a id="8983" href="Effect.Theory.HigherOrder.html#8983" class="Bound">it</a>
    <a id="8990" class="Keyword">with</a> <a id="8995" href="Effect.Theory.HigherOrder.html#5791" class="Function">[+]ᴴ-injective</a> <a id="9010" href="Effect.Theory.HigherOrder.html#8928" class="Bound">Th₁</a> <a id="9014" href="Effect.Theory.HigherOrder.html#8940" class="Bound">Th₂</a> <a id="9018" href="Effect.Theory.HigherOrder.html#8971" class="Bound">px</a>
  <a id="9023" href="Effect.Theory.HigherOrder.html#8733" class="Function">⟪⊕⟫-correct</a> <a id="9035" class="Symbol">{</a><a id="9036" class="Argument">Th₁</a> <a id="9040" class="Symbol">=</a> <a id="9042" href="Effect.Theory.HigherOrder.html#9042" class="Bound">Th₁</a><a id="9045" class="Symbol">}</a> <a id="9047" class="Symbol">{</a><a id="9048" class="Argument">Th₂</a> <a id="9052" class="Symbol">=</a> <a id="9054" href="Effect.Theory.HigherOrder.html#9054" class="Bound">Th₂</a><a id="9057" class="Symbol">}</a> <a id="9059" class="Symbol">{</a><a id="9060" class="Argument">e₁</a> <a id="9063" class="Symbol">=</a> <a id="9065" href="Effect.Theory.HigherOrder.html#9065" class="Bound">e₁</a><a id="9067" class="Symbol">}</a> <a id="9069" class="Symbol">{</a><a id="9070" class="Argument">e₂</a> <a id="9073" class="Symbol">=</a> <a id="9075" href="Effect.Theory.HigherOrder.html#9075" class="Bound">e₂</a><a id="9077" class="Symbol">}</a> <a id="9079" href="Effect.Theory.HigherOrder.html#9079" class="Bound">c₁</a> <a id="9082" href="Effect.Theory.HigherOrder.html#9082" class="Bound">c₂</a> <a id="9085" href="Effect.Theory.HigherOrder.html#9085" class="Bound">px</a> <a id="9088" class="Symbol">⦃</a> <a id="9090" href="Effect.Theory.HigherOrder.html#9090" class="Bound">i</a> <a id="9092" class="Symbol">⦄</a> <a id="9094" href="Effect.Theory.HigherOrder.html#9094" class="Bound">T′</a> <a id="9097" href="Effect.Theory.HigherOrder.html#9097" class="Bound">it</a>
    <a id="9104" class="Symbol">|</a> <a id="9106" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="9111" href="Effect.Theory.HigherOrder.html#9111" class="Bound">px′</a> <a id="9115" class="Keyword">with</a> <a id="9120" href="Effect.Theory.HigherOrder.html#6345" class="Function">◃ᴴ-weaken-lemma</a> <a id="9136" href="Effect.Theory.HigherOrder.html#9042" class="Bound">Th₁</a> <a id="9140" href="Effect.Base.html#2689" class="Function">⊑ᴴ-⊕-left</a> <a id="9150" class="Symbol">_</a> <a id="9152" href="Effect.Theory.HigherOrder.html#9111" class="Bound">px′</a>
  <a id="9158" class="Symbol">...</a> <a id="9162" class="Symbol">|</a> <a id="9164" href="Effect.Theory.HigherOrder.html#9164" class="Bound">eq′</a> <a id="9168" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9170" href="Effect.Theory.HigherOrder.html#9170" class="Bound">px′′</a> <a id="9175" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9177" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9182" class="Symbol">=</a> <a id="9184" href="Effect.Theory.FirstOrder.html#10645" class="Function Operator">begin</a>
      <a id="9196" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="9207" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="9212" class="Symbol">((</a><a id="9214" href="Effect.Logic.html#3397" class="Field Operator">□⟨</a> <a id="9217" class="Bound">e₁</a> <a id="9220" class="Symbol">.</a><a id="9221" href="Effect.Elaborate.html#1063" class="Field">elab</a> <a id="9226" href="Effect.Logic.html#3397" class="Field Operator">⟩</a> <a id="9228" class="Bound">i</a><a id="9229" class="Symbol">)</a> <a id="9231" href="Core.Signature.html#1336" class="Function Operator">⟨⊕⟩</a> <a id="9235" class="Symbol">(</a><a id="9236" href="Effect.Logic.html#3397" class="Field Operator">□⟨</a> <a id="9239" class="Bound">e₂</a> <a id="9242" class="Symbol">.</a><a id="9243" href="Effect.Elaborate.html#1063" class="Field">elab</a> <a id="9248" href="Effect.Logic.html#3397" class="Field Operator">⟩</a> <a id="9250" class="Bound">i</a><a id="9251" class="Symbol">))</a>
        <a id="9262" class="Symbol">(</a><a id="9263" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="9274" href="Effect.Syntax.Hefty.html#454" class="InductiveConstructor">pure</a> <a id="9279" class="Symbol">(</a><a id="9280" href="Effect.Base.html#2030" class="Function">injectᴴ</a> <a id="9288" class="Symbol">⦃</a> <a id="9290" href="Effect.Base.html#2689" class="Function">⊑ᴴ-⊕-left</a> <a id="9300" class="Symbol">⦄)</a> <a id="9303" class="Symbol">(</a><a id="9304" href="Effect.Theory.HigherOrder.html#9164" class="Bound">eq′</a> <a id="9308" class="Symbol">.</a><a id="9309" href="Effect.Theory.HigherOrder.html#1272" class="Field">lhsᴴ</a> <a id="9314" class="Symbol">_</a> <a id="9316" class="Symbol">_))</a>
    <a id="9324" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">≈⟪</a> <a id="9327" href="Effect.Theory.FirstOrder.html#9287" class="Function">≡-to-≈</a> <a id="9334" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="9336" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="9340" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="9342" href="Effect.Theory.HigherOrder.html#7036" class="Function">⟨⊕⟩-fold-left</a> <a id="9356" class="Symbol">(</a><a id="9357" href="Effect.Theory.HigherOrder.html#9164" class="Bound">eq′</a> <a id="9361" class="Symbol">.</a><a id="9362" href="Effect.Theory.HigherOrder.html#1272" class="Field">lhsᴴ</a> <a id="9367" class="Symbol">_</a> <a id="9369" class="Symbol">_)</a> <a id="9372" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">⟫</a>
      <a id="9380" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="9391" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="9396" class="Symbol">(</a><a id="9397" href="Effect.Logic.html#3397" class="Field Operator">□⟨</a> <a id="9400" class="Bound">e₁</a> <a id="9403" class="Symbol">.</a><a id="9404" href="Effect.Elaborate.html#1063" class="Field">elab</a> <a id="9409" href="Effect.Logic.html#3397" class="Field Operator">⟩</a> <a id="9411" class="Bound">i</a><a id="9412" class="Symbol">)</a> <a id="9414" class="Symbol">(</a><a id="9415" href="Effect.Theory.HigherOrder.html#9164" class="Bound">eq′</a> <a id="9419" class="Symbol">.</a><a id="9420" href="Effect.Theory.HigherOrder.html#1272" class="Field">lhsᴴ</a> <a id="9425" class="Symbol">_</a> <a id="9427" class="Symbol">_)</a>
    <a id="9434" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">≈⟪</a> <a id="9437" class="Bound">c₁</a> <a id="9440" href="Effect.Theory.HigherOrder.html#9170" class="Bound">px′′</a> <a id="9445" class="Symbol">⦃</a> <a id="9447" class="Bound">i</a> <a id="9449" class="Symbol">⦄</a> <a id="9451" class="Bound">T′</a> <a id="9454" class="Bound">it</a> <a id="9457" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">⟫</a>
      <a id="9465" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="9476" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="9481" class="Symbol">(</a><a id="9482" href="Effect.Logic.html#3397" class="Field Operator">□⟨</a> <a id="9485" class="Bound">e₁</a> <a id="9488" class="Symbol">.</a><a id="9489" href="Effect.Elaborate.html#1063" class="Field">elab</a> <a id="9494" href="Effect.Logic.html#3397" class="Field Operator">⟩</a> <a id="9496" class="Bound">i</a><a id="9497" class="Symbol">)</a> <a id="9499" class="Symbol">(</a><a id="9500" href="Effect.Theory.HigherOrder.html#9164" class="Bound">eq′</a> <a id="9504" class="Symbol">.</a><a id="9505" href="Effect.Theory.HigherOrder.html#1277" class="Field">rhsᴴ</a> <a id="9510" class="Symbol">_</a> <a id="9512" class="Symbol">_)</a> 
    <a id="9520" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">≈⟪</a> <a id="9523" href="Effect.Theory.FirstOrder.html#9287" class="Function">≡-to-≈</a> <a id="9530" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="9532" href="Effect.Theory.HigherOrder.html#7036" class="Function">⟨⊕⟩-fold-left</a> <a id="9546" class="Symbol">(</a><a id="9547" href="Effect.Theory.HigherOrder.html#9164" class="Bound">eq′</a> <a id="9551" class="Symbol">.</a><a id="9552" href="Effect.Theory.HigherOrder.html#1277" class="Field">rhsᴴ</a> <a id="9557" class="Symbol">_</a> <a id="9559" class="Symbol">_)</a> <a id="9562" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">⟫</a> 
      <a id="9571" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="9582" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="9587" class="Symbol">((</a><a id="9589" href="Effect.Logic.html#3397" class="Field Operator">□⟨</a> <a id="9592" class="Bound">e₁</a> <a id="9595" class="Symbol">.</a><a id="9596" href="Effect.Elaborate.html#1063" class="Field">elab</a> <a id="9601" href="Effect.Logic.html#3397" class="Field Operator">⟩</a> <a id="9603" class="Bound">i</a><a id="9604" class="Symbol">)</a> <a id="9606" href="Core.Signature.html#1336" class="Function Operator">⟨⊕⟩</a> <a id="9610" class="Symbol">(</a><a id="9611" href="Effect.Logic.html#3397" class="Field Operator">□⟨</a> <a id="9614" class="Bound">e₂</a> <a id="9617" class="Symbol">.</a><a id="9618" href="Effect.Elaborate.html#1063" class="Field">elab</a> <a id="9623" href="Effect.Logic.html#3397" class="Field Operator">⟩</a> <a id="9625" class="Bound">i</a><a id="9626" class="Symbol">))</a>
        <a id="9637" class="Symbol">(</a><a id="9638" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="9649" href="Effect.Syntax.Hefty.html#454" class="InductiveConstructor">pure</a> <a id="9654" class="Symbol">(</a><a id="9655" href="Effect.Base.html#2030" class="Function">injectᴴ</a> <a id="9663" class="Symbol">⦃</a> <a id="9665" href="Effect.Base.html#2689" class="Function">⊑ᴴ-⊕-left</a> <a id="9675" class="Symbol">⦄)</a> <a id="9678" class="Symbol">(</a><a id="9679" href="Effect.Theory.HigherOrder.html#9164" class="Bound">eq′</a> <a id="9683" class="Symbol">.</a><a id="9684" href="Effect.Theory.HigherOrder.html#1277" class="Field">rhsᴴ</a> <a id="9689" class="Symbol">_</a> <a id="9691" class="Symbol">_))</a>
    <a id="9699" href="Effect.Theory.FirstOrder.html#10714" class="Function Operator">∎</a>
    <a id="9705" class="Keyword">where</a> <a id="9711" class="Keyword">open</a> <a id="9716" href="Effect.Theory.FirstOrder.html#10534" class="Module">≈-Reasoning</a> <a id="9728" class="Bound">T′</a>
  <a id="9733" href="Effect.Theory.HigherOrder.html#8733" class="Function">⟪⊕⟫-correct</a> <a id="9745" class="Symbol">{</a><a id="9746" class="Argument">Th₁</a> <a id="9750" class="Symbol">=</a> <a id="9752" href="Effect.Theory.HigherOrder.html#9752" class="Bound">Th₁</a><a id="9755" class="Symbol">}</a> <a id="9757" class="Symbol">{</a><a id="9758" class="Argument">Th₂</a> <a id="9762" class="Symbol">=</a> <a id="9764" href="Effect.Theory.HigherOrder.html#9764" class="Bound">Th₂</a><a id="9767" class="Symbol">}</a> <a id="9769" class="Symbol">{</a><a id="9770" class="Argument">e₁</a> <a id="9773" class="Symbol">=</a> <a id="9775" href="Effect.Theory.HigherOrder.html#9775" class="Bound">e₁</a><a id="9777" class="Symbol">}</a> <a id="9779" class="Symbol">{</a><a id="9780" class="Argument">e₂</a> <a id="9783" class="Symbol">=</a> <a id="9785" href="Effect.Theory.HigherOrder.html#9785" class="Bound">e₂</a><a id="9787" class="Symbol">}</a> <a id="9789" href="Effect.Theory.HigherOrder.html#9789" class="Bound">c₁</a> <a id="9792" href="Effect.Theory.HigherOrder.html#9792" class="Bound">c₂</a> <a id="9795" href="Effect.Theory.HigherOrder.html#9795" class="Bound">px</a> <a id="9798" class="Symbol">⦃</a> <a id="9800" href="Effect.Theory.HigherOrder.html#9800" class="Bound">i</a> <a id="9802" class="Symbol">⦄</a> <a id="9804" href="Effect.Theory.HigherOrder.html#9804" class="Bound">T′</a> <a id="9807" href="Effect.Theory.HigherOrder.html#9807" class="Bound">it</a>
    <a id="9814" class="Symbol">|</a> <a id="9816" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="9821" href="Effect.Theory.HigherOrder.html#9821" class="Bound">px′</a> <a id="9825" class="Keyword">with</a> <a id="9830" href="Effect.Theory.HigherOrder.html#6345" class="Function">◃ᴴ-weaken-lemma</a> <a id="9846" href="Effect.Theory.HigherOrder.html#9764" class="Bound">Th₂</a> <a id="9850" href="Effect.Base.html#2850" class="Function">⊑ᴴ-⊕-right</a> <a id="9861" class="Symbol">_</a> <a id="9863" href="Effect.Theory.HigherOrder.html#9821" class="Bound">px′</a>
  <a id="9869" class="Symbol">...</a> <a id="9873" class="Symbol">|</a> <a id="9875" href="Effect.Theory.HigherOrder.html#9875" class="Bound">eq′</a> <a id="9879" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9881" href="Effect.Theory.HigherOrder.html#9881" class="Bound">px′′</a> <a id="9886" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9888" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9893" class="Symbol">=</a> <a id="9895" href="Effect.Theory.FirstOrder.html#10645" class="Function Operator">begin</a>
      <a id="9907" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="9918" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="9923" class="Symbol">((</a><a id="9925" href="Effect.Logic.html#3397" class="Field Operator">□⟨</a> <a id="9928" class="Bound">e₁</a> <a id="9931" class="Symbol">.</a><a id="9932" href="Effect.Elaborate.html#1063" class="Field">elab</a> <a id="9937" href="Effect.Logic.html#3397" class="Field Operator">⟩</a> <a id="9939" class="Bound">i</a><a id="9940" class="Symbol">)</a> <a id="9942" href="Core.Signature.html#1336" class="Function Operator">⟨⊕⟩</a> <a id="9946" class="Symbol">(</a><a id="9947" href="Effect.Logic.html#3397" class="Field Operator">□⟨</a> <a id="9950" class="Bound">e₂</a> <a id="9953" class="Symbol">.</a><a id="9954" href="Effect.Elaborate.html#1063" class="Field">elab</a> <a id="9959" href="Effect.Logic.html#3397" class="Field Operator">⟩</a> <a id="9961" class="Bound">i</a><a id="9962" class="Symbol">))</a>
        <a id="9973" class="Symbol">(</a><a id="9974" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="9985" href="Effect.Syntax.Hefty.html#454" class="InductiveConstructor">pure</a> <a id="9990" class="Symbol">(</a><a id="9991" href="Effect.Base.html#2030" class="Function">injectᴴ</a> <a id="9999" class="Symbol">⦃</a> <a id="10001" href="Effect.Base.html#2850" class="Function">⊑ᴴ-⊕-right</a> <a id="10012" class="Symbol">⦄)</a> <a id="10015" class="Symbol">(</a><a id="10016" href="Effect.Theory.HigherOrder.html#9875" class="Bound">eq′</a> <a id="10020" class="Symbol">.</a><a id="10021" href="Effect.Theory.HigherOrder.html#1272" class="Field">lhsᴴ</a> <a id="10026" class="Symbol">_</a> <a id="10028" class="Symbol">_))</a>
    <a id="10036" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">≈⟪</a> <a id="10039" href="Effect.Theory.FirstOrder.html#9287" class="Function">≡-to-≈</a> <a id="10046" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="10048" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="10052" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="10054" href="Effect.Theory.HigherOrder.html#7679" class="Function">⟨⊕⟩-fold-right</a> <a id="10069" class="Symbol">(</a><a id="10070" href="Effect.Theory.HigherOrder.html#9875" class="Bound">eq′</a> <a id="10074" class="Symbol">.</a><a id="10075" href="Effect.Theory.HigherOrder.html#1272" class="Field">lhsᴴ</a> <a id="10080" class="Symbol">_</a> <a id="10082" class="Symbol">_)</a> <a id="10085" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">⟫</a>
      <a id="10093" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="10104" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="10109" class="Symbol">(</a><a id="10110" href="Effect.Logic.html#3397" class="Field Operator">□⟨</a> <a id="10113" class="Bound">e₂</a> <a id="10116" class="Symbol">.</a><a id="10117" href="Effect.Elaborate.html#1063" class="Field">elab</a> <a id="10122" href="Effect.Logic.html#3397" class="Field Operator">⟩</a> <a id="10124" class="Bound">i</a><a id="10125" class="Symbol">)</a> <a id="10127" class="Symbol">(</a><a id="10128" href="Effect.Theory.HigherOrder.html#9875" class="Bound">eq′</a> <a id="10132" class="Symbol">.</a><a id="10133" href="Effect.Theory.HigherOrder.html#1272" class="Field">lhsᴴ</a> <a id="10138" class="Symbol">_</a> <a id="10140" class="Symbol">_)</a>
    <a id="10147" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">≈⟪</a> <a id="10150" class="Bound">c₂</a> <a id="10153" href="Effect.Theory.HigherOrder.html#9881" class="Bound">px′′</a> <a id="10158" class="Symbol">⦃</a> <a id="10160" class="Bound">i</a> <a id="10162" class="Symbol">⦄</a> <a id="10164" class="Bound">T′</a> <a id="10167" class="Bound">it</a> <a id="10170" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">⟫</a> 
      <a id="10179" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="10190" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="10195" class="Symbol">(</a><a id="10196" href="Effect.Logic.html#3397" class="Field Operator">□⟨</a> <a id="10199" class="Bound">e₂</a> <a id="10202" class="Symbol">.</a><a id="10203" href="Effect.Elaborate.html#1063" class="Field">elab</a> <a id="10208" href="Effect.Logic.html#3397" class="Field Operator">⟩</a> <a id="10210" class="Bound">i</a><a id="10211" class="Symbol">)</a> <a id="10213" class="Symbol">(</a><a id="10214" href="Effect.Theory.HigherOrder.html#9875" class="Bound">eq′</a> <a id="10218" class="Symbol">.</a><a id="10219" href="Effect.Theory.HigherOrder.html#1277" class="Field">rhsᴴ</a> <a id="10224" class="Symbol">_</a> <a id="10226" class="Symbol">_)</a> 
    <a id="10234" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">≈⟪</a> <a id="10237" href="Effect.Theory.FirstOrder.html#9287" class="Function">≡-to-≈</a> <a id="10244" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="10246" href="Effect.Theory.HigherOrder.html#7679" class="Function">⟨⊕⟩-fold-right</a> <a id="10261" class="Symbol">(</a><a id="10262" href="Effect.Theory.HigherOrder.html#9875" class="Bound">eq′</a> <a id="10266" class="Symbol">.</a><a id="10267" href="Effect.Theory.HigherOrder.html#1277" class="Field">rhsᴴ</a> <a id="10272" class="Symbol">_</a> <a id="10274" class="Symbol">_)</a> <a id="10277" href="Effect.Theory.FirstOrder.html#10842" class="Function Operator">⟫</a>
      <a id="10285" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="10296" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="10301" class="Symbol">((</a><a id="10303" href="Effect.Logic.html#3397" class="Field Operator">□⟨</a> <a id="10306" class="Bound">e₁</a> <a id="10309" class="Symbol">.</a><a id="10310" href="Effect.Elaborate.html#1063" class="Field">elab</a> <a id="10315" href="Effect.Logic.html#3397" class="Field Operator">⟩</a> <a id="10317" class="Bound">i</a><a id="10318" class="Symbol">)</a> <a id="10320" href="Core.Signature.html#1336" class="Function Operator">⟨⊕⟩</a> <a id="10324" class="Symbol">(</a><a id="10325" href="Effect.Logic.html#3397" class="Field Operator">□⟨</a> <a id="10328" class="Bound">e₂</a> <a id="10331" class="Symbol">.</a><a id="10332" href="Effect.Elaborate.html#1063" class="Field">elab</a> <a id="10337" href="Effect.Logic.html#3397" class="Field Operator">⟩</a> <a id="10339" class="Bound">i</a><a id="10340" class="Symbol">))</a>
        <a id="10351" class="Symbol">(</a><a id="10352" href="Effect.Syntax.Hefty.html#664" class="Function">fold-hefty</a> <a id="10363" href="Effect.Syntax.Hefty.html#454" class="InductiveConstructor">pure</a> <a id="10368" class="Symbol">(</a><a id="10369" href="Effect.Base.html#2030" class="Function">injectᴴ</a> <a id="10377" class="Symbol">⦃</a> <a id="10379" href="Effect.Base.html#2850" class="Function">⊑ᴴ-⊕-right</a> <a id="10390" class="Symbol">⦄)</a> <a id="10393" class="Symbol">(</a><a id="10394" href="Effect.Theory.HigherOrder.html#9875" class="Bound">eq′</a> <a id="10398" class="Symbol">.</a><a id="10399" href="Effect.Theory.HigherOrder.html#1277" class="Field">rhsᴴ</a> <a id="10404" class="Symbol">_</a> <a id="10406" class="Symbol">_))</a>
    <a id="10414" href="Effect.Theory.FirstOrder.html#10714" class="Function Operator">∎</a>
    <a id="10420" class="Keyword">where</a> <a id="10426" class="Keyword">open</a> <a id="10431" href="Effect.Theory.FirstOrder.html#10534" class="Module">≈-Reasoning</a> <a id="10443" class="Bound">T′</a> 


<a id="weaken-correct"></a><a id="10449" href="Effect.Theory.HigherOrder.html#10449" class="Function">weaken-correct</a> <a id="10464" class="Symbol">:</a>
  <a id="10468" class="Symbol">∀</a> <a id="10470" href="Effect.Theory.HigherOrder.html#10470" class="Bound">e</a> <a id="10472" class="Symbol">(</a><a id="10473" href="Effect.Theory.HigherOrder.html#10473" class="Bound">i</a> <a id="10475" class="Symbol">:</a> <a id="10477" href="Effect.Base.html#901" class="Generalizable">ε₁</a> <a id="10480" href="Effect.Inclusion.html#635" class="Function Operator">≲</a> <a id="10482" href="Effect.Base.html#904" class="Generalizable">ε₂</a><a id="10484" class="Symbol">)</a> <a id="10486" class="Symbol">(</a><a id="10487" href="Effect.Theory.HigherOrder.html#10487" class="Bound">Th</a> <a id="10490" class="Symbol">:</a> <a id="10492" href="Effect.Theory.HigherOrder.html#2345" class="Record">Theoryᴴ</a> <a id="10500" href="Effect.Base.html#964" class="Generalizable">ξ</a><a id="10501" class="Symbol">)</a> <a id="10503" href="Effect.Theory.HigherOrder.html#10503" class="Bound">T′</a>
  <a id="10508" class="Symbol">→</a> <a id="10510" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="10512" href="Effect.Theory.FirstOrder.html#3690" class="Record Operator">⊆⟨</a> <a id="10515" href="Effect.Theory.HigherOrder.html#10473" class="Bound">i</a> <a id="10517" href="Effect.Theory.FirstOrder.html#3690" class="Record Operator">⟩</a> <a id="10519" href="Effect.Theory.HigherOrder.html#10503" class="Bound">T′</a>
  <a id="10524" class="Symbol">→</a> <a id="10526" href="Effect.Theory.HigherOrder.html#5470" class="Function">Correctᴴ</a> <a id="10535" href="Effect.Theory.HigherOrder.html#10487" class="Bound">Th</a> <a id="10538" href="Effect.Theory.FirstOrder.html#8118" class="Generalizable">T</a> <a id="10540" href="Effect.Theory.HigherOrder.html#10470" class="Bound">e</a>
    <a id="10546" class="Comment">---------------------------</a>
  <a id="10576" class="Symbol">→</a> <a id="10578" href="Effect.Theory.HigherOrder.html#5470" class="Function">Correctᴴ</a> <a id="10587" href="Effect.Theory.HigherOrder.html#10487" class="Bound">Th</a> <a id="10590" href="Effect.Theory.HigherOrder.html#10503" class="Bound">T′</a> <a id="10593" class="Symbol">(</a><a id="10594" href="Core.MonotonePredicate.html#1535" class="Field">weaken</a> <a id="10601" href="Effect.Theory.HigherOrder.html#10473" class="Bound">i</a> <a id="10603" href="Effect.Theory.HigherOrder.html#10470" class="Bound">e</a><a id="10604" class="Symbol">)</a>
  
<a id="10609" href="Effect.Theory.HigherOrder.html#10449" class="Function">weaken-correct</a> <a id="10624" href="Effect.Theory.HigherOrder.html#10624" class="Bound">e</a> <a id="10626" href="Effect.Theory.HigherOrder.html#10626" class="Bound">i</a> <a id="10628" href="Effect.Theory.HigherOrder.html#10628" class="Bound">Th</a> <a id="10631" href="Effect.Theory.HigherOrder.html#10631" class="Bound">T′</a> <a id="10634" href="Effect.Theory.HigherOrder.html#10634" class="Bound">sub₁</a> <a id="10639" href="Effect.Theory.HigherOrder.html#10639" class="Bound">c</a> <a id="10641" href="Effect.Theory.HigherOrder.html#10641" class="Bound">px</a> <a id="10644" class="Symbol">⦃</a> <a id="10646" class="Argument">i</a> <a id="10648" class="Symbol">=</a> <a id="10650" href="Effect.Theory.HigherOrder.html#10650" class="Bound">i′</a> <a id="10653" class="Symbol">⦄</a> <a id="10655" href="Effect.Theory.HigherOrder.html#10655" class="Bound">T′′</a> <a id="10659" href="Effect.Theory.HigherOrder.html#10659" class="Bound">sub₂</a>
  <a id="10666" class="Symbol">=</a> <a id="10668" href="Effect.Theory.HigherOrder.html#10639" class="Bound">c</a> <a id="10670" href="Effect.Theory.HigherOrder.html#10641" class="Bound">px</a> <a id="10673" class="Symbol">⦃</a> <a id="10675" href="Effect.Inclusion.html#720" class="Function">≲-trans</a> <a id="10683" href="Effect.Theory.HigherOrder.html#10626" class="Bound">i</a> <a id="10685" href="Effect.Theory.HigherOrder.html#10650" class="Bound">i′</a> <a id="10688" class="Symbol">⦄</a> <a id="10690" href="Effect.Theory.HigherOrder.html#10655" class="Bound">T′′</a> <a id="10694" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="10696" href="Effect.Theory.FirstOrder.html#4663" class="Postulate">⟨⊆⟩-trans</a> <a id="10706" href="Effect.Theory.HigherOrder.html#10634" class="Bound">sub₁</a> <a id="10711" href="Effect.Theory.HigherOrder.html#10659" class="Bound">sub₂</a> 

<a id="compose-elab-correct"></a><a id="10718" href="Effect.Theory.HigherOrder.html#10718" class="Function">compose-elab-correct</a>
  <a id="10741" class="Symbol">:</a> <a id="10743" class="Symbol">∀</a> <a id="10745" class="Symbol">(</a><a id="10746" href="Effect.Theory.HigherOrder.html#10746" class="Bound">e₁</a> <a id="10749" class="Symbol">:</a> <a id="10751" href="Effect.Elaborate.html#990" class="Record">Elaboration</a> <a id="10763" href="Effect.Base.html#966" class="Generalizable">ξ₁</a> <a id="10766" href="Effect.Base.html#901" class="Generalizable">ε₁</a><a id="10768" class="Symbol">)</a> <a id="10770" class="Symbol">(</a><a id="10771" href="Effect.Theory.HigherOrder.html#10771" class="Bound">e₂</a> <a id="10774" class="Symbol">:</a> <a id="10776" href="Effect.Elaborate.html#990" class="Record">Elaboration</a> <a id="10788" href="Effect.Base.html#969" class="Generalizable">ξ₂</a> <a id="10791" href="Effect.Base.html#904" class="Generalizable">ε₂</a><a id="10793" class="Symbol">)</a>
    <a id="10799" class="Symbol">→</a> <a id="10801" href="Effect.Theory.HigherOrder.html#5470" class="Function">Correctᴴ</a> <a id="10810" href="Effect.Theory.HigherOrder.html#2506" class="Generalizable">Th₁</a> <a id="10814" href="Effect.Theory.FirstOrder.html#8120" class="Generalizable">T₁</a> <a id="10817" href="Effect.Theory.HigherOrder.html#10746" class="Bound">e₁</a>
    <a id="10824" class="Symbol">→</a> <a id="10826" href="Effect.Theory.HigherOrder.html#5470" class="Function">Correctᴴ</a> <a id="10835" href="Effect.Theory.HigherOrder.html#2510" class="Generalizable">Th₂</a> <a id="10839" href="Effect.Theory.FirstOrder.html#8123" class="Generalizable">T₂</a> <a id="10842" href="Effect.Theory.HigherOrder.html#10771" class="Bound">e₂</a>
    <a id="10849" class="Symbol">→</a> <a id="10851" class="Symbol">(</a><a id="10852" href="Effect.Theory.HigherOrder.html#10852" class="Bound">σ</a> <a id="10854" class="Symbol">:</a> <a id="10856" href="Effect.Base.html#901" class="Generalizable">ε₁</a> <a id="10859" href="Effect.Separation.html#1325" class="Function Operator">∙</a> <a id="10861" href="Effect.Base.html#904" class="Generalizable">ε₂</a> <a id="10864" href="Effect.Separation.html#1325" class="Function Operator">≈</a> <a id="10866" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="10867" class="Symbol">)</a>
      <a id="10875" class="Comment">-------------------------------------------------------------------------------------</a>
    <a id="10965" class="Symbol">→</a> <a id="10967" href="Effect.Theory.HigherOrder.html#5470" class="Function">Correctᴴ</a> <a id="10976" class="Symbol">(</a><a id="10977" href="Effect.Theory.HigherOrder.html#2506" class="Generalizable">Th₁</a> <a id="10981" href="Effect.Theory.HigherOrder.html#3213" class="Function Operator">[+]ᴴ</a> <a id="10986" href="Effect.Theory.HigherOrder.html#2510" class="Generalizable">Th₂</a><a id="10989" class="Symbol">)</a> <a id="10991" class="Symbol">(</a><a id="10992" href="Effect.Theory.FirstOrder.html#7223" class="Function">compose-theory</a> <a id="11007" class="Symbol">(</a><a id="11008" href="Effect.Theory.FirstOrder.html#8120" class="Generalizable">T₁</a> <a id="11011" href="Effect.Logic.html#800" class="InductiveConstructor Operator">✴⟨</a> <a id="11014" href="Effect.Theory.HigherOrder.html#10852" class="Bound">σ</a> <a id="11016" href="Effect.Logic.html#800" class="InductiveConstructor Operator">⟩</a> <a id="11018" href="Effect.Theory.FirstOrder.html#8123" class="Generalizable">T₂</a><a id="11020" class="Symbol">))</a> <a id="11023" class="Symbol">(</a><a id="11024" href="Effect.Elaborate.html#6716" class="Function">compose-elab</a> <a id="11037" class="Symbol">(</a><a id="11038" href="Effect.Theory.HigherOrder.html#10746" class="Bound">e₁</a> <a id="11041" href="Effect.Logic.html#800" class="InductiveConstructor Operator">✴⟨</a> <a id="11044" href="Effect.Theory.HigherOrder.html#10852" class="Bound">σ</a> <a id="11046" href="Effect.Logic.html#800" class="InductiveConstructor Operator">⟩</a> <a id="11048" href="Effect.Theory.HigherOrder.html#10771" class="Bound">e₂</a><a id="11050" class="Symbol">))</a>
    
<a id="11058" href="Effect.Theory.HigherOrder.html#10718" class="Function">compose-elab-correct</a> <a id="11079" class="Symbol">{</a><a id="11080" class="Argument">Th₁</a> <a id="11084" class="Symbol">=</a> <a id="11086" href="Effect.Theory.HigherOrder.html#11086" class="Bound">Th₁</a><a id="11089" class="Symbol">}</a> <a id="11091" class="Symbol">{</a><a id="11092" class="Argument">T₁</a> <a id="11095" class="Symbol">=</a> <a id="11097" href="Effect.Theory.HigherOrder.html#11097" class="Bound">T₁</a><a id="11099" class="Symbol">}</a> <a id="11101" class="Symbol">{</a><a id="11102" href="Effect.Theory.HigherOrder.html#11102" class="Bound">Th₂</a><a id="11105" class="Symbol">}</a> <a id="11107" class="Symbol">{</a><a id="11108" class="Argument">T₂</a> <a id="11111" class="Symbol">=</a> <a id="11113" href="Effect.Theory.HigherOrder.html#11113" class="Bound">T₂</a><a id="11115" class="Symbol">}</a> <a id="11117" href="Effect.Theory.HigherOrder.html#11117" class="Bound">e₁</a> <a id="11120" href="Effect.Theory.HigherOrder.html#11120" class="Bound">e₂</a> <a id="11123" href="Effect.Theory.HigherOrder.html#11123" class="Bound">c₁</a> <a id="11126" href="Effect.Theory.HigherOrder.html#11126" class="Bound">c₂</a> <a id="11129" href="Effect.Theory.HigherOrder.html#11129" class="Bound">σ</a> <a id="11131" class="Symbol">=</a>
  <a id="11135" href="Effect.Theory.HigherOrder.html#8733" class="Function">⟪⊕⟫-correct</a>
    <a id="11151" class="Symbol">{</a><a id="11152" class="Argument">T</a> <a id="11154" class="Symbol">=</a> <a id="11156" href="Effect.Theory.FirstOrder.html#7223" class="Function">compose-theory</a> <a id="11171" class="Symbol">(</a><a id="11172" href="Effect.Theory.HigherOrder.html#11097" class="Bound">T₁</a> <a id="11175" href="Effect.Logic.html#800" class="InductiveConstructor Operator">✴⟨</a> <a id="11178" href="Effect.Theory.HigherOrder.html#11129" class="Bound">σ</a> <a id="11180" href="Effect.Logic.html#800" class="InductiveConstructor Operator">⟩</a> <a id="11182" href="Effect.Theory.HigherOrder.html#11113" class="Bound">T₂</a><a id="11184" class="Symbol">)}</a> <a id="11187" class="Symbol">{</a><a id="11188" class="Argument">Th₁</a> <a id="11192" class="Symbol">=</a> <a id="11194" href="Effect.Theory.HigherOrder.html#11086" class="Bound">Th₁</a><a id="11197" class="Symbol">}</a> <a id="11199" class="Symbol">{</a><a id="11200" class="Argument">Th₂</a> <a id="11204" class="Symbol">=</a> <a id="11206" href="Effect.Theory.HigherOrder.html#11102" class="Bound">Th₂</a><a id="11209" class="Symbol">}</a>
    <a id="11215" class="Symbol">{</a><a id="11216" class="Argument">e₁</a> <a id="11219" class="Symbol">=</a> <a id="11221" href="Core.MonotonePredicate.html#1535" class="Field">weaken</a> <a id="11228" class="Symbol">(</a><a id="11229" href="Effect.Inclusion.html#1091" class="Function">≲-∙-left</a> <a id="11238" href="Effect.Theory.HigherOrder.html#11129" class="Bound">σ</a><a id="11239" class="Symbol">)</a> <a id="11241" href="Effect.Theory.HigherOrder.html#11117" class="Bound">e₁</a><a id="11243" class="Symbol">}</a>
    <a id="11249" class="Symbol">{</a><a id="11250" class="Argument">e₂</a> <a id="11253" class="Symbol">=</a> <a id="11255" href="Core.MonotonePredicate.html#1535" class="Field">weaken</a> <a id="11262" class="Symbol">(</a><a id="11263" href="Effect.Inclusion.html#1146" class="Function">≲-∙-right</a> <a id="11273" href="Effect.Theory.HigherOrder.html#11129" class="Bound">σ</a><a id="11274" class="Symbol">)</a> <a id="11276" href="Effect.Theory.HigherOrder.html#11120" class="Bound">e₂</a><a id="11278" class="Symbol">}</a>
    <a id="11284" class="Symbol">(</a> <a id="11286" href="Effect.Theory.HigherOrder.html#10449" class="Function">weaken-correct</a> <a id="11301" class="Symbol">{</a><a id="11302" class="Argument">T</a> <a id="11304" class="Symbol">=</a> <a id="11306" href="Effect.Theory.HigherOrder.html#11097" class="Bound">T₁</a><a id="11308" class="Symbol">}</a> <a id="11310" href="Effect.Theory.HigherOrder.html#11117" class="Bound">e₁</a> <a id="11313" class="Symbol">(</a><a id="11314" href="Effect.Inclusion.html#1091" class="Function">≲-∙-left</a> <a id="11323" href="Effect.Theory.HigherOrder.html#11129" class="Bound">σ</a><a id="11324" class="Symbol">)</a> <a id="11326" href="Effect.Theory.HigherOrder.html#11086" class="Bound">Th₁</a>
        <a id="11338" class="Symbol">(</a> <a id="11340" href="Effect.Theory.FirstOrder.html#7223" class="Function">compose-theory</a> <a id="11355" class="Symbol">(</a><a id="11356" href="Effect.Theory.HigherOrder.html#11097" class="Bound">T₁</a> <a id="11359" href="Effect.Logic.html#800" class="InductiveConstructor Operator">✴⟨</a> <a id="11362" href="Effect.Theory.HigherOrder.html#11129" class="Bound">σ</a> <a id="11364" href="Effect.Logic.html#800" class="InductiveConstructor Operator">⟩</a> <a id="11366" href="Effect.Theory.HigherOrder.html#11113" class="Bound">T₂</a><a id="11368" class="Symbol">)</a> <a id="11370" class="Symbol">)</a>
        <a id="11380" class="Symbol">(</a> <a id="11382" href="Effect.Theory.FirstOrder.html#7444" class="Function">⟨⊆⟩-compose-left</a>  <a id="11400" href="Effect.Theory.HigherOrder.html#11097" class="Bound">T₁</a> <a id="11403" href="Effect.Theory.HigherOrder.html#11113" class="Bound">T₂</a> <a id="11406" href="Effect.Theory.HigherOrder.html#11129" class="Bound">σ</a> <a id="11408" class="Symbol">)</a>
      <a id="11416" href="Effect.Theory.HigherOrder.html#11123" class="Bound">c₁</a> <a id="11419" class="Symbol">)</a>
    <a id="11425" class="Symbol">(</a> <a id="11427" href="Effect.Theory.HigherOrder.html#10449" class="Function">weaken-correct</a> <a id="11442" class="Symbol">{</a><a id="11443" class="Argument">T</a> <a id="11445" class="Symbol">=</a> <a id="11447" href="Effect.Theory.HigherOrder.html#11113" class="Bound">T₂</a><a id="11449" class="Symbol">}</a> <a id="11451" href="Effect.Theory.HigherOrder.html#11120" class="Bound">e₂</a> <a id="11454" class="Symbol">(</a><a id="11455" href="Effect.Inclusion.html#1146" class="Function">≲-∙-right</a> <a id="11465" href="Effect.Theory.HigherOrder.html#11129" class="Bound">σ</a><a id="11466" class="Symbol">)</a> <a id="11468" href="Effect.Theory.HigherOrder.html#11102" class="Bound">Th₂</a>
        <a id="11480" class="Symbol">(</a> <a id="11482" href="Effect.Theory.FirstOrder.html#7223" class="Function">compose-theory</a> <a id="11497" class="Symbol">(</a><a id="11498" href="Effect.Theory.HigherOrder.html#11097" class="Bound">T₁</a> <a id="11501" href="Effect.Logic.html#800" class="InductiveConstructor Operator">✴⟨</a> <a id="11504" href="Effect.Theory.HigherOrder.html#11129" class="Bound">σ</a> <a id="11506" href="Effect.Logic.html#800" class="InductiveConstructor Operator">⟩</a> <a id="11508" href="Effect.Theory.HigherOrder.html#11113" class="Bound">T₂</a><a id="11510" class="Symbol">)</a> <a id="11512" class="Symbol">)</a>
        <a id="11522" class="Symbol">(</a> <a id="11524" href="Effect.Theory.FirstOrder.html#7774" class="Function">⟨⊆⟩-compose-right</a> <a id="11542" href="Effect.Theory.HigherOrder.html#11097" class="Bound">T₁</a> <a id="11545" href="Effect.Theory.HigherOrder.html#11113" class="Bound">T₂</a> <a id="11548" href="Effect.Theory.HigherOrder.html#11129" class="Bound">σ</a><a id="11549" class="Symbol">)</a>
      <a id="11557" href="Effect.Theory.HigherOrder.html#11126" class="Bound">c₂</a> <a id="11560" class="Symbol">)</a> 

</pre></body></html>