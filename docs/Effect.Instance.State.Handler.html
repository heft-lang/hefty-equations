<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Effect.Instance.State.Handler</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Symbol">#-}</a> 

<a id="31" class="Keyword">open</a> <a id="36" class="Keyword">import</a> <a id="43" href="Core.Functor.html" class="Module">Core.Functor</a>
<a id="56" class="Keyword">open</a> <a id="61" class="Keyword">import</a> <a id="68" href="Core.Functor.Monad.html" class="Module">Core.Functor.Monad</a>
<a id="87" class="Keyword">open</a> <a id="92" class="Keyword">import</a> <a id="99" href="Core.Functor.NaturalTransformation.html" class="Module">Core.Functor.NaturalTransformation</a>
<a id="134" class="Keyword">open</a> <a id="139" class="Keyword">import</a> <a id="146" href="Core.Container.html" class="Module">Core.Container</a>
<a id="161" class="Keyword">open</a> <a id="166" class="Keyword">import</a> <a id="173" href="Core.Extensionality.html" class="Module">Core.Extensionality</a>

<a id="194" class="Keyword">open</a> <a id="199" class="Keyword">import</a> <a id="206" href="Effect.Base.html" class="Module">Effect.Base</a>
<a id="218" class="Keyword">open</a> <a id="223" class="Keyword">import</a> <a id="230" href="Effect.Separation.html" class="Module">Effect.Separation</a>
<a id="248" class="Keyword">open</a> <a id="253" class="Keyword">import</a> <a id="260" href="Effect.Syntax.Free.html" class="Module">Effect.Syntax.Free</a>

<a id="280" class="Keyword">open</a> <a id="285" class="Keyword">import</a> <a id="292" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="302" class="Keyword">open</a> <a id="307" class="Keyword">import</a> <a id="314" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="325" class="Keyword">hiding</a> <a id="332" class="Symbol">(</a><a id="333" href="Data.Maybe.Base.html#2227" class="Function Operator">_&gt;&gt;=_</a><a id="338" class="Symbol">)</a>
<a id="340" class="Keyword">open</a> <a id="345" class="Keyword">import</a> <a id="352" href="Data.Product.html" class="Module">Data.Product</a> <a id="365" class="Keyword">renaming</a> <a id="374" class="Symbol">(</a><a id="375" href="Data.Product.html#2486" class="Function">map</a> <a id="379" class="Symbol">to</a> <a id="382" class="Function">pmap</a><a id="386" class="Symbol">)</a>
<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Data.Vec.html" class="Module">Data.Vec</a>

<a id="410" class="Keyword">open</a> <a id="415" class="Keyword">import</a> <a id="422" href="Function.html" class="Module">Function</a> 

<a id="433" class="Keyword">open</a> <a id="438" class="Keyword">import</a> <a id="445" href="Effect.Handle.html" class="Module">Effect.Handle</a>
<a id="459" class="Keyword">open</a> <a id="464" class="Keyword">import</a> <a id="471" href="Effect.Theory.FirstOrder.html" class="Module">Effect.Theory.FirstOrder</a>

<a id="497" class="Keyword">open</a> <a id="502" class="Keyword">import</a> <a id="509" href="Effect.Instance.State.Syntax.html" class="Module">Effect.Instance.State.Syntax</a>
<a id="538" class="Keyword">open</a> <a id="543" class="Keyword">import</a> <a id="550" href="Effect.Instance.State.Theory.html" class="Module">Effect.Instance.State.Theory</a>

<a id="580" class="Keyword">open</a> <a id="585" class="Keyword">import</a> <a id="592" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a>
<a id="621" class="Keyword">open</a> <a id="626" class="Keyword">import</a> <a id="633" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="671" class="Keyword">open</a> <a id="676" class="Keyword">import</a> <a id="683" href="Relation.Unary.html" class="Module">Relation.Unary</a>

<a id="699" class="Keyword">open</a> <a id="704" class="Keyword">import</a> <a id="711" href="Level.html" class="Module">Level</a>

<a id="718" class="Keyword">module</a> <a id="725" href="Effect.Instance.State.Handler.html" class="Module">Effect.Instance.State.Handler</a> <a id="755" class="Keyword">where</a> 

<a id="763" class="Keyword">module</a> <a id="770" href="Effect.Instance.State.Handler.html#770" class="Module">_</a> <a id="772" class="Keyword">where</a>

  <a id="781" class="Keyword">open</a> <a id="786" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a> 

  <a id="802" href="Effect.Instance.State.Handler.html#802" class="Function">×-functor</a> <a id="812" class="Symbol">:</a> <a id="814" href="Core.Functor.html#424" class="Record">Functor</a> <a id="822" class="Symbol">{</a><a id="823" class="Argument">a</a> <a id="825" class="Symbol">=</a> <a id="827" href="Level.html#512" class="Function">0ℓ</a><a id="829" class="Symbol">}</a> <a id="831" class="Symbol">(</a><a id="832" href="Effect.Instance.State.Syntax.html#275" class="Generalizable">S</a> <a id="834" href="Data.Product.html#1167" class="Function Operator">×_</a><a id="836" class="Symbol">)</a>
  <a id="840" href="Effect.Instance.State.Handler.html#802" class="Function">×-functor</a> <a id="850" class="Symbol">=</a> <a id="852" class="Keyword">record</a>
    <a id="863" class="Symbol">{</a> <a id="865" href="Core.Functor.html#495" class="Field">fmap</a>    <a id="873" class="Symbol">=</a> <a id="875" class="Symbol">λ</a> <a id="877" href="Effect.Instance.State.Handler.html#877" class="Bound">f</a> <a id="879" class="Symbol">→</a> <a id="881" href="Effect.Instance.State.Handler.html#382" class="Function">pmap</a> <a id="886" href="Function.Base.html#695" class="Function">id</a> <a id="889" href="Effect.Instance.State.Handler.html#877" class="Bound">f</a>
    <a id="895" class="Symbol">;</a> <a id="897" href="Core.Functor.html#567" class="Field">fmap-id</a> <a id="905" class="Symbol">=</a> <a id="907" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="916" class="Symbol">;</a> <a id="918" href="Core.Functor.html#660" class="Field">fmap-∘</a>  <a id="926" class="Symbol">=</a> <a id="928" class="Symbol">λ</a> <a id="930" href="Effect.Instance.State.Handler.html#930" class="Bound">_</a> <a id="932" href="Effect.Instance.State.Handler.html#932" class="Bound">_</a> <a id="934" class="Symbol">→</a> <a id="936" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="945" class="Symbol">}</a> 

  <a id="951" class="Keyword">instance</a> <a id="960" href="Effect.Instance.State.Handler.html#960" class="Function">stateT-functor</a> <a id="975" class="Symbol">:</a> <a id="977" href="Core.Functor.html#424" class="Record">Functor</a> <a id="985" class="Symbol">(</a><a id="986" href="Function.Base.html#716" class="Function">const</a> <a id="992" href="Effect.Instance.State.Syntax.html#275" class="Generalizable">S</a> <a id="994" href="Relation.Unary.html#4490" class="Function Operator">⇒</a> <a id="996" class="Symbol">(</a><a id="997" href="Effect.Instance.State.Syntax.html#275" class="Generalizable">S</a> <a id="999" href="Data.Product.html#1167" class="Function Operator">×_</a><a id="1001" class="Symbol">)</a> <a id="1003" href="Relation.Unary.html#5235" class="Function Operator">⊢</a> <a id="1005" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="1010" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="1011" class="Symbol">)</a>
  <a id="1015" href="Effect.Instance.State.Handler.html#960" class="Function">stateT-functor</a> <a id="1030" class="Symbol">=</a> <a id="1032" class="Keyword">record</a>
    <a id="1043" class="Symbol">{</a> <a id="1045" href="Core.Functor.html#495" class="Field">fmap</a>    <a id="1053" class="Symbol">=</a> <a id="1055" class="Symbol">λ</a> <a id="1057" href="Effect.Instance.State.Handler.html#1057" class="Bound">f</a> <a id="1059" href="Effect.Instance.State.Handler.html#1059" class="Bound">m</a> <a id="1061" href="Effect.Instance.State.Handler.html#1061" class="Bound">s</a> <a id="1063" class="Symbol">→</a> <a id="1065" href="Core.Functor.html#495" class="Field">fmap</a> <a id="1070" class="Symbol">(</a><a id="1071" href="Effect.Instance.State.Handler.html#382" class="Function">pmap</a> <a id="1076" href="Function.Base.html#695" class="Function">id</a> <a id="1079" href="Effect.Instance.State.Handler.html#1057" class="Bound">f</a><a id="1080" class="Symbol">)</a> <a id="1082" class="Symbol">(</a><a id="1083" href="Effect.Instance.State.Handler.html#1059" class="Bound">m</a> <a id="1085" href="Effect.Instance.State.Handler.html#1061" class="Bound">s</a><a id="1086" class="Symbol">)</a>
    <a id="1092" class="Symbol">;</a> <a id="1094" href="Core.Functor.html#567" class="Field">fmap-id</a> <a id="1102" class="Symbol">=</a> <a id="1104" href="Core.Extensionality.html#199" class="Function">extensionality</a>
        <a id="1127" class="Symbol">λ</a> <a id="1129" href="Effect.Instance.State.Handler.html#1129" class="Bound">m</a> <a id="1131" class="Symbol">→</a> <a id="1133" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1138" class="Symbol">(λ</a> <a id="1141" href="Effect.Instance.State.Handler.html#1141" class="Bound">○</a> <a id="1143" href="Effect.Instance.State.Handler.html#1143" class="Bound">s</a> <a id="1145" class="Symbol">→</a> <a id="1147" href="Effect.Instance.State.Handler.html#1141" class="Bound">○</a> <a id="1149" class="Symbol">(</a><a id="1150" href="Effect.Instance.State.Handler.html#1129" class="Bound">m</a> <a id="1152" href="Effect.Instance.State.Handler.html#1143" class="Bound">s</a><a id="1153" class="Symbol">))</a> <a id="1156" class="Symbol">(</a><a id="1157" href="Core.Functor.html#567" class="Field">fmap-id</a> <a id="1165" class="Symbol">{</a><a id="1166" class="Argument">F</a> <a id="1168" class="Symbol">=</a> <a id="1170" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="1175" class="Symbol">_})</a>
    <a id="1183" class="Symbol">;</a> <a id="1185" href="Core.Functor.html#660" class="Field">fmap-∘</a>  <a id="1193" class="Symbol">=</a> <a id="1195" class="Symbol">λ</a> <a id="1197" href="Effect.Instance.State.Handler.html#1197" class="Bound">f</a> <a id="1199" href="Effect.Instance.State.Handler.html#1199" class="Bound">g</a> <a id="1201" class="Symbol">→</a> <a id="1203" href="Core.Extensionality.html#199" class="Function">extensionality</a>
        <a id="1226" class="Symbol">λ</a> <a id="1228" href="Effect.Instance.State.Handler.html#1228" class="Bound">m</a> <a id="1230" class="Symbol">→</a> <a id="1232" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1237" class="Symbol">(</a><a id="1238" href="Function.Base.html#1106" class="Function Operator">_∘</a> <a id="1241" href="Effect.Instance.State.Handler.html#1228" class="Bound">m</a><a id="1242" class="Symbol">)</a> <a id="1244" class="Symbol">(</a><a id="1245" href="Core.Functor.html#660" class="Field">fmap-∘</a> <a id="1252" class="Symbol">(</a><a id="1253" href="Effect.Instance.State.Handler.html#382" class="Function">pmap</a> <a id="1258" href="Function.Base.html#695" class="Function">id</a> <a id="1261" href="Effect.Instance.State.Handler.html#1197" class="Bound">f</a><a id="1262" class="Symbol">)</a> <a id="1264" class="Symbol">(</a><a id="1265" href="Effect.Instance.State.Handler.html#382" class="Function">pmap</a> <a id="1270" href="Function.Base.html#695" class="Function">id</a> <a id="1273" href="Effect.Instance.State.Handler.html#1199" class="Bound">g</a><a id="1274" class="Symbol">))</a>
    <a id="1281" class="Symbol">}</a>

  <a id="1286" class="Keyword">instance</a> <a id="1295" href="Effect.Instance.State.Handler.html#1295" class="Function">stateT-monad</a> <a id="1308" class="Symbol">:</a> <a id="1310" href="Core.Functor.Monad.html#268" class="Record">Monad</a> <a id="1316" class="Symbol">(</a><a id="1317" href="Function.Base.html#716" class="Function">const</a> <a id="1323" href="Effect.Instance.State.Syntax.html#275" class="Generalizable">S</a> <a id="1325" href="Relation.Unary.html#4490" class="Function Operator">⇒</a> <a id="1327" class="Symbol">(</a><a id="1328" href="Effect.Instance.State.Syntax.html#275" class="Generalizable">S</a> <a id="1330" href="Data.Product.html#1167" class="Function Operator">×_</a><a id="1332" class="Symbol">)</a> <a id="1334" href="Relation.Unary.html#5235" class="Function Operator">⊢</a> <a id="1336" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="1341" href="Effect.Base.html#899" class="Generalizable">ε</a><a id="1342" class="Symbol">)</a>
  <a id="1346" href="Effect.Instance.State.Handler.html#1295" class="Function">stateT-monad</a> <a id="1359" class="Symbol">=</a> <a id="1361" class="Keyword">record</a>
    <a id="1372" class="Symbol">{</a> <a id="1374" href="Core.Functor.Monad.html#348" class="Field">return</a>         <a id="1389" class="Symbol">=</a> <a id="1391" href="Data.Product.html#3265" class="Function">curry</a> <a id="1397" class="Symbol">(</a><a id="1398" href="Effect.Syntax.Free.html#529" class="InductiveConstructor">pure</a> <a id="1403" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="1405" href="Data.Product.html#5367" class="Function">swap</a><a id="1409" class="Symbol">)</a>
    <a id="1415" class="Symbol">;</a> <a id="1417" href="Core.Functor.Monad.html#369" class="Field Operator">_∗</a>             <a id="1432" class="Symbol">=</a> <a id="1434" class="Symbol">λ</a> <a id="1436" href="Effect.Instance.State.Handler.html#1436" class="Bound">k</a> <a id="1438" href="Effect.Instance.State.Handler.html#1438" class="Bound">m</a> <a id="1440" href="Effect.Instance.State.Handler.html#1440" class="Bound">s</a> <a id="1442" class="Symbol">→</a> <a id="1444" href="Effect.Instance.State.Handler.html#1438" class="Bound">m</a> <a id="1446" href="Effect.Instance.State.Handler.html#1440" class="Bound">s</a> <a id="1448" href="Core.Functor.Monad.html#423" class="Function Operator">&gt;&gt;=</a> <a id="1452" href="Data.Product.html#3422" class="Function">uncurry</a> <a id="1460" href="Effect.Instance.State.Handler.html#1436" class="Bound">k</a> <a id="1462" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="1464" href="Data.Product.html#5367" class="Function">swap</a>
    <a id="1473" class="Symbol">;</a> <a id="1475" href="Core.Functor.Monad.html#669" class="Field">&gt;&gt;=-idˡ</a>        <a id="1490" class="Symbol">=</a> <a id="1492" class="Symbol">λ</a> <a id="1494" href="Effect.Instance.State.Handler.html#1494" class="Bound">_</a> <a id="1496" href="Effect.Instance.State.Handler.html#1496" class="Bound">_</a> <a id="1498" class="Symbol">→</a> <a id="1500" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="1509" class="Symbol">;</a> <a id="1511" href="Core.Functor.Monad.html#797" class="Field">&gt;&gt;=-idʳ</a>        <a id="1526" class="Symbol">=</a>
        <a id="1536" class="Symbol">λ</a> <a id="1538" href="Effect.Instance.State.Handler.html#1538" class="Bound">m</a> <a id="1540" class="Symbol">→</a> <a id="1542" href="Core.Extensionality.html#199" class="Function">extensionality</a> <a id="1557" class="Symbol">λ</a> <a id="1559" href="Effect.Instance.State.Handler.html#1559" class="Bound">s</a> <a id="1561" class="Symbol">→</a> <a id="1563" href="Core.Functor.Monad.html#797" class="Field">&gt;&gt;=-idʳ</a> <a id="1571" class="Symbol">(</a><a id="1572" href="Effect.Instance.State.Handler.html#1538" class="Bound">m</a> <a id="1574" href="Effect.Instance.State.Handler.html#1559" class="Bound">s</a><a id="1575" class="Symbol">)</a>
    <a id="1581" class="Symbol">;</a> <a id="1583" href="Core.Functor.Monad.html#904" class="Field">&gt;&gt;=-assoc</a>      <a id="1598" class="Symbol">=</a>
        <a id="1608" class="Symbol">λ</a> <a id="1610" href="Effect.Instance.State.Handler.html#1610" class="Bound">k₁</a> <a id="1613" href="Effect.Instance.State.Handler.html#1613" class="Bound">k₂</a> <a id="1616" href="Effect.Instance.State.Handler.html#1616" class="Bound">m</a>
          <a id="1628" class="Symbol">→</a> <a id="1630" href="Core.Extensionality.html#199" class="Function">extensionality</a> <a id="1645" class="Symbol">λ</a> <a id="1647" href="Effect.Instance.State.Handler.html#1647" class="Bound">s</a> <a id="1649" class="Symbol">→</a>
              <a id="1665" href="Core.Functor.Monad.html#904" class="Field">&gt;&gt;=-assoc</a>
                <a id="1691" class="Symbol">(</a><a id="1692" href="Data.Product.html#3422" class="Function">uncurry</a> <a id="1700" href="Effect.Instance.State.Handler.html#1610" class="Bound">k₁</a> <a id="1703" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="1705" href="Data.Product.html#5367" class="Function">swap</a><a id="1709" class="Symbol">)</a>
                <a id="1727" class="Symbol">(</a><a id="1728" href="Data.Product.html#3422" class="Function">uncurry</a> <a id="1736" href="Effect.Instance.State.Handler.html#1613" class="Bound">k₂</a> <a id="1739" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="1741" href="Data.Product.html#5367" class="Function">swap</a><a id="1745" class="Symbol">)</a>
                <a id="1763" class="Symbol">(</a><a id="1764" href="Effect.Instance.State.Handler.html#1616" class="Bound">m</a> <a id="1766" href="Effect.Instance.State.Handler.html#1647" class="Bound">s</a><a id="1767" class="Symbol">)</a>
    <a id="1773" class="Symbol">;</a> <a id="1775" href="Core.Functor.Monad.html#1123" class="Field">return-natural</a> <a id="1790" class="Symbol">=</a> <a id="1792" class="Symbol">λ</a> <a id="1794" class="Keyword">where</a>
        <a id="1808" class="Symbol">.</a><a id="1809" href="Core.Functor.NaturalTransformation.html#590" class="Field">commute</a> <a id="1817" class="Symbol">{</a><a id="1818" class="Argument">f</a> <a id="1820" class="Symbol">=</a> <a id="1822" href="Effect.Instance.State.Handler.html#1822" class="Bound">f</a><a id="1823" class="Symbol">}</a> <a id="1825" href="Effect.Instance.State.Handler.html#1825" class="Bound">x</a> <a id="1827" class="Symbol">→</a>
          <a id="1839" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1844" class="Symbol">(λ</a> <a id="1847" href="Effect.Instance.State.Handler.html#1847" class="Bound">○</a> <a id="1849" href="Effect.Instance.State.Handler.html#1849" class="Bound">s</a> <a id="1851" class="Symbol">→</a> <a id="1853" href="Core.Functor.html#495" class="Field">fmap</a> <a id="1858" class="Symbol">(</a><a id="1859" href="Effect.Instance.State.Handler.html#1849" class="Bound">s</a> <a id="1861" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="1863" class="Symbol">)</a> <a id="1865" href="Effect.Instance.State.Handler.html#1847" class="Bound">○</a><a id="1866" class="Symbol">)</a>
            <a id="1880" class="Symbol">(</a><a id="1881" href="Core.Functor.Monad.html#1123" class="Field">return-natural</a> <a id="1896" class="Symbol">⦃</a> <a id="1898" href="Effect.Syntax.Free.html#2030" class="Function">free-monad</a> <a id="1909" class="Symbol">⦄</a> <a id="1911" class="Symbol">.</a><a id="1912" href="Core.Functor.NaturalTransformation.html#590" class="Field">commute</a> <a id="1920" class="Symbol">{</a><a id="1921" class="Argument">f</a> <a id="1923" class="Symbol">=</a> <a id="1925" href="Effect.Instance.State.Handler.html#1822" class="Bound">f</a><a id="1926" class="Symbol">}</a> <a id="1928" href="Effect.Instance.State.Handler.html#1825" class="Bound">x</a><a id="1929" class="Symbol">)</a> 
    <a id="1936" class="Symbol">}</a> 

  <a id="1942" href="Effect.Instance.State.Handler.html#1942" class="Function">StateHandler</a> <a id="1955" class="Symbol">:</a> <a id="1957" href="Effect.Handle.html#4054" class="Record">Handler</a> <a id="1965" class="Symbol">(</a><a id="1966" href="Effect.Instance.State.Syntax.html#360" class="Function">State</a> <a id="1972" href="Effect.Instance.State.Syntax.html#275" class="Generalizable">S</a><a id="1973" class="Symbol">)</a> <a id="1975" href="Effect.Instance.State.Syntax.html#275" class="Generalizable">S</a> <a id="1977" class="Symbol">(</a><a id="1978" href="Effect.Instance.State.Syntax.html#275" class="Generalizable">S</a> <a id="1980" href="Data.Product.html#1167" class="Function Operator">×_</a><a id="1982" class="Symbol">)</a>
  <a id="1986" href="Effect.Handle.html#4186" class="Field">Handler.F-functor</a>   <a id="2006" href="Effect.Instance.State.Handler.html#1942" class="Function">StateHandler</a> <a id="2019" class="Symbol">=</a> <a id="2021" href="Effect.Instance.State.Handler.html#802" class="Function">×-functor</a>
  <a id="2033" href="Effect.Handle.html#4218" class="Field">Handler.M-monad</a>     <a id="2053" href="Effect.Instance.State.Handler.html#1942" class="Function">StateHandler</a> <a id="2066" class="Symbol">=</a> <a id="2068" href="Effect.Instance.State.Handler.html#1295" class="Function">stateT-monad</a>
  
  <a id="2086" href="Effect.Handle.html#4253" class="Field">Handler.hdl</a>         <a id="2106" href="Effect.Instance.State.Handler.html#1942" class="Function">StateHandler</a> <a id="2119" class="Symbol">.</a><a id="2120" href="Core.Container.html#844" class="Field">αᶜ</a> <a id="2123" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="2125" href="Effect.Instance.State.Syntax.html#321" class="InductiveConstructor">`get</a> <a id="2130" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2132" href="Effect.Instance.State.Handler.html#2132" class="Bound">k</a> <a id="2134" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a>    <a id="2139" class="Symbol">=</a> <a id="2141" class="Symbol">λ</a> <a id="2143" href="Effect.Instance.State.Handler.html#2143" class="Bound">s</a> <a id="2145" class="Symbol">→</a> <a id="2147" href="Effect.Instance.State.Handler.html#2132" class="Bound">k</a> <a id="2149" href="Effect.Instance.State.Handler.html#2143" class="Bound">s</a> <a id="2151" href="Effect.Instance.State.Handler.html#2143" class="Bound">s</a>
  <a id="2155" href="Effect.Handle.html#4253" class="Field">Handler.hdl</a>         <a id="2175" href="Effect.Instance.State.Handler.html#1942" class="Function">StateHandler</a> <a id="2188" class="Symbol">.</a><a id="2189" href="Core.Container.html#844" class="Field">αᶜ</a> <a id="2192" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="2194" href="Effect.Instance.State.Syntax.html#339" class="InductiveConstructor">`put</a> <a id="2199" href="Effect.Instance.State.Handler.html#2199" class="Bound">s′</a> <a id="2202" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2204" href="Effect.Instance.State.Handler.html#2204" class="Bound">k</a> <a id="2206" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a> <a id="2208" class="Symbol">=</a> <a id="2210" class="Symbol">λ</a> <a id="2212" href="Effect.Instance.State.Handler.html#2212" class="Bound">_</a> <a id="2214" class="Symbol">→</a> <a id="2216" href="Effect.Instance.State.Handler.html#2204" class="Bound">k</a> <a id="2218" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="2221" href="Effect.Instance.State.Handler.html#2199" class="Bound">s′</a>
  
  <a id="2229" href="Effect.Handle.html#4377" class="Field">Handler.M-apply</a>     <a id="2249" href="Effect.Instance.State.Handler.html#1942" class="Function">StateHandler</a>                  <a id="2279" class="Symbol">=</a> <a id="2281" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2288" href="Effect.Handle.html#4572" class="Field">Handler.hdl-commute</a> <a id="2308" href="Effect.Instance.State.Handler.html#1942" class="Function">StateHandler</a> <a id="2321" href="Effect.Instance.State.Handler.html#2321" class="Bound">f</a> <a id="2323" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="2325" href="Effect.Instance.State.Syntax.html#321" class="InductiveConstructor">`get</a>   <a id="2332" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2334" href="Effect.Instance.State.Handler.html#2334" class="Bound">k</a> <a id="2336" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a> <a id="2338" class="Symbol">=</a> <a id="2340" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2347" href="Effect.Handle.html#4572" class="Field">Handler.hdl-commute</a> <a id="2367" href="Effect.Instance.State.Handler.html#1942" class="Function">StateHandler</a> <a id="2380" href="Effect.Instance.State.Handler.html#2380" class="Bound">f</a> <a id="2382" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="2384" href="Effect.Instance.State.Syntax.html#339" class="InductiveConstructor">`put</a> <a id="2389" class="Symbol">_</a> <a id="2391" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2393" href="Effect.Instance.State.Handler.html#2393" class="Bound">k</a> <a id="2395" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a> <a id="2397" class="Symbol">=</a> <a id="2399" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>


<a id="2406" class="Keyword">open</a> <a id="2411" href="Effect.Handle.html#4054" class="Module">Handler</a>

<a id="handleState"></a><a id="2420" href="Effect.Instance.State.Handler.html#2420" class="Function">handleState</a> <a id="2432" class="Symbol">:</a> <a id="2434" href="Effect.Instance.State.Syntax.html#360" class="Function">State</a> <a id="2440" href="Effect.Instance.State.Syntax.html#275" class="Generalizable">S</a> <a id="2442" href="Effect.Separation.html#1325" class="Function Operator">∙</a> <a id="2444" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="2446" href="Effect.Separation.html#1325" class="Function Operator">≈</a> <a id="2448" href="Effect.Base.html#910" class="Generalizable">ε′</a> <a id="2451" class="Symbol">→</a> <a id="2453" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="2458" href="Effect.Base.html#910" class="Generalizable">ε′</a> <a id="2461" href="Core.Functor.html#1514" class="Generalizable">A</a> <a id="2463" class="Symbol">→</a> <a id="2465" href="Effect.Instance.State.Syntax.html#275" class="Generalizable">S</a> <a id="2467" class="Symbol">→</a> <a id="2469" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="2474" href="Effect.Base.html#899" class="Generalizable">ε</a> <a id="2476" class="Symbol">(</a><a id="2477" href="Effect.Instance.State.Syntax.html#275" class="Generalizable">S</a> <a id="2479" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2481" href="Core.Functor.html#1514" class="Generalizable">A</a><a id="2482" class="Symbol">)</a>
<a id="2484" href="Effect.Instance.State.Handler.html#2420" class="Function">handleState</a> <a id="2496" href="Effect.Instance.State.Handler.html#2496" class="Bound">σ</a> <a id="2498" href="Effect.Instance.State.Handler.html#2498" class="Bound">m</a> <a id="2500" href="Effect.Instance.State.Handler.html#2500" class="Bound">s</a> <a id="2502" class="Symbol">=</a> <a id="2504" href="Effect.Handle.html#6069" class="Function">handle</a> <a id="2511" href="Effect.Instance.State.Handler.html#1942" class="Function">StateHandler</a> <a id="2524" href="Effect.Instance.State.Handler.html#2496" class="Bound">σ</a> <a id="2526" href="Effect.Instance.State.Handler.html#2498" class="Bound">m</a> <a id="2528" href="Effect.Instance.State.Handler.html#2500" class="Bound">s</a> 

<a id="2532" class="Keyword">module</a> <a id="Properties"></a><a id="2539" href="Effect.Instance.State.Handler.html#2539" class="Module">Properties</a> <a id="2550" class="Keyword">where</a> 

  <a id="Properties.correct"></a><a id="2560" href="Effect.Instance.State.Handler.html#2560" class="Function">correct</a> <a id="2568" class="Symbol">:</a> <a id="2570" href="Effect.Theory.FirstOrder.html#10325" class="Function">Correct</a> <a id="2578" href="Effect.Instance.State.Theory.html#1794" class="Function">StateTheory</a> <a id="2590" class="Symbol">(</a><a id="2591" href="Effect.Instance.State.Handler.html#1942" class="Function">StateHandler</a> <a id="2604" class="Symbol">{</a><a id="2605" class="Argument">S</a> <a id="2607" class="Symbol">=</a> <a id="2609" href="Effect.Instance.State.Syntax.html#275" class="Generalizable">S</a><a id="2610" class="Symbol">})</a>
  <a id="2615" href="Effect.Instance.State.Handler.html#2560" class="Function">correct</a> <a id="2623" class="Symbol">(</a><a id="2624" href="Data.List.Relation.Unary.Any.html#1219" class="InductiveConstructor">here</a> <a id="2629" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2633" class="Symbol">)</a>                              <a id="2664" class="Symbol">=</a> <a id="2666" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2673" href="Effect.Instance.State.Handler.html#2560" class="Function">correct</a> <a id="2681" class="Symbol">(</a><a id="2682" href="Data.List.Relation.Unary.Any.html#1272" class="InductiveConstructor">there</a> <a id="2688" class="Symbol">(</a><a id="2689" href="Data.List.Relation.Unary.Any.html#1219" class="InductiveConstructor">here</a> <a id="2694" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2698" class="Symbol">))</a>                      <a id="2722" class="Symbol">=</a> <a id="2724" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2731" href="Effect.Instance.State.Handler.html#2560" class="Function">correct</a> <a id="2739" class="Symbol">(</a><a id="2740" href="Data.List.Relation.Unary.Any.html#1272" class="InductiveConstructor">there</a> <a id="2746" class="Symbol">(</a><a id="2747" href="Data.List.Relation.Unary.Any.html#1272" class="InductiveConstructor">there</a> <a id="2753" class="Symbol">(</a><a id="2754" href="Data.List.Relation.Unary.Any.html#1219" class="InductiveConstructor">here</a> <a id="2759" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2763" class="Symbol">)))</a>              <a id="2780" class="Symbol">=</a> <a id="2782" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2789" href="Effect.Instance.State.Handler.html#2560" class="Function">correct</a> <a id="2797" class="Symbol">(</a><a id="2798" href="Data.List.Relation.Unary.Any.html#1272" class="InductiveConstructor">there</a> <a id="2804" class="Symbol">(</a><a id="2805" href="Data.List.Relation.Unary.Any.html#1272" class="InductiveConstructor">there</a> <a id="2811" class="Symbol">(</a><a id="2812" href="Data.List.Relation.Unary.Any.html#1272" class="InductiveConstructor">there</a> <a id="2818" class="Symbol">(</a><a id="2819" href="Data.List.Relation.Unary.Any.html#1219" class="InductiveConstructor">here</a> <a id="2824" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2828" class="Symbol">))))</a>      <a id="2838" class="Symbol">=</a> <a id="2840" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

</pre></body></html>