<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Effect.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Symbol">#-}</a> 

<a id="31" class="Keyword">open</a> <a id="36" class="Keyword">import</a> <a id="43" href="Relation.Unary.html" class="Module">Relation.Unary</a>

<a id="59" class="Keyword">open</a> <a id="64" class="Keyword">import</a> <a id="71" href="Core.Functor.html" class="Module">Core.Functor</a>
<a id="84" class="Keyword">open</a> <a id="89" class="Keyword">import</a> <a id="96" href="Core.Container.html" class="Module">Core.Container</a>
<a id="111" class="Keyword">open</a> <a id="116" class="Keyword">import</a> <a id="123" href="Core.Signature.html" class="Module">Core.Signature</a>

<a id="139" class="Keyword">open</a> <a id="144" class="Keyword">import</a> <a id="151" href="Effect.Syntax.Free.html" class="Module">Effect.Syntax.Free</a>
<a id="170" class="Keyword">open</a> <a id="175" class="Keyword">import</a> <a id="182" href="Effect.Syntax.Hefty.html" class="Module">Effect.Syntax.Hefty</a>

<a id="203" class="Keyword">open</a> <a id="208" class="Keyword">import</a> <a id="215" href="Data.Empty.html" class="Module">Data.Empty</a> 
<a id="227" class="Keyword">open</a> <a id="232" class="Keyword">import</a> <a id="239" href="Data.Product.html" class="Module">Data.Product</a>
<a id="252" class="Keyword">open</a> <a id="257" class="Keyword">import</a> <a id="264" href="Data.Sum.html" class="Module">Data.Sum</a>

<a id="274" class="Keyword">open</a> <a id="279" class="Keyword">import</a> <a id="286" href="Function.html" class="Module">Function</a> <a id="295" class="Keyword">hiding</a> <a id="302" class="Symbol">(</a><a id="303" href="Function.Bundles.html#12400" class="Function Operator">_⇔_</a><a id="306" class="Symbol">)</a>
<a id="308" class="Keyword">open</a> <a id="313" class="Keyword">import</a> <a id="320" href="Function.Construct.Identity.html" class="Module">Function.Construct.Identity</a> <a id="348" class="Keyword">using</a> <a id="354" class="Symbol">(</a><a id="355" href="Function.Construct.Identity.html#4415" class="Function">↔-id</a><a id="359" class="Symbol">)</a>
<a id="361" class="Keyword">open</a> <a id="366" class="Keyword">import</a> <a id="373" href="Function.Construct.Symmetry.html" class="Module">Function.Construct.Symmetry</a> <a id="401" class="Keyword">using</a> <a id="407" class="Symbol">(</a><a id="408" href="Function.Construct.Symmetry.html#6879" class="Function">↔-sym</a><a id="413" class="Symbol">)</a>
<a id="415" class="Keyword">open</a> <a id="420" class="Keyword">import</a> <a id="427" href="Function.Construct.Composition.html" class="Module">Function.Construct.Composition</a> <a id="458" class="Keyword">using</a> <a id="464" class="Symbol">(</a><a id="465" href="Function.Construct.Composition.html#8703" class="Function Operator">_↔-∘_</a><a id="470" class="Symbol">)</a>

<a id="473" class="Keyword">open</a> <a id="478" class="Keyword">import</a> <a id="485" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="501" class="Keyword">using</a> <a id="507" class="Symbol">(</a><a id="508" href="Relation.Binary.Bundles.html#2136" class="Record">Preorder</a><a id="516" class="Symbol">)</a>
<a id="518" class="Keyword">open</a> <a id="523" class="Keyword">import</a> <a id="530" href="Relation.Binary.Definitions.html" class="Module">Relation.Binary.Definitions</a>
<a id="558" class="Keyword">open</a> <a id="563" class="Keyword">import</a> <a id="570" href="Relation.Binary.Structures.html" class="Module">Relation.Binary.Structures</a>
<a id="597" class="Keyword">open</a> <a id="602" class="Keyword">import</a> <a id="609" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="647" class="Keyword">using</a> <a id="653" class="Symbol">(</a><a id="654" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="659" class="Symbol">;</a> <a id="661" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="665" class="Symbol">;</a> <a id="667" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="673" class="Symbol">;</a> <a id="675" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="679" class="Symbol">;</a> <a id="681" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">trans</a><a id="686" class="Symbol">)</a>

<a id="689" class="Keyword">open</a> <a id="694" class="Keyword">import</a> <a id="701" href="Level.html" class="Module">Level</a>

<a id="708" class="Keyword">module</a> <a id="715" href="Effect.Base.html" class="Module">Effect.Base</a> <a id="727" class="Keyword">where</a> 

<a id="Effect"></a><a id="735" href="Effect.Base.html#735" class="Function">Effect</a>  <a id="743" class="Symbol">=</a> <a id="745" href="Core.Container.html#556" class="Record">Container</a> 
<a id="Effectᴴ"></a><a id="756" href="Effect.Base.html#756" class="Function">Effectᴴ</a> <a id="764" class="Symbol">=</a> <a id="766" href="Effect.Base.html#735" class="Function">Effect</a> <a id="773" class="Symbol">→</a> <a id="775" href="Core.Signature.html#678" class="Record">Signature</a>

<a id="↑"></a><a id="786" href="Effect.Base.html#786" class="Function">↑</a> <a id="788" class="Symbol">:</a> <a id="790" href="Effect.Base.html#756" class="Function">Effectᴴ</a>
<a id="798" href="Effect.Base.html#786" class="Function">↑</a> <a id="800" href="Effect.Base.html#800" class="Bound">ε</a> <a id="802" class="Symbol">=</a> <a id="804" class="Keyword">record</a>
  <a id="813" class="Symbol">{</a> <a id="815" href="Core.Signature.html#731" class="Field">command</a>  <a id="824" class="Symbol">=</a> <a id="826" href="Effect.Base.html#800" class="Bound">ε</a> <a id="828" class="Symbol">.</a><a id="829" href="Core.Container.html#605" class="Field">shape</a>
  <a id="837" class="Symbol">;</a> <a id="839" href="Core.Signature.html#750" class="Field">response</a> <a id="848" class="Symbol">=</a> <a id="850" href="Effect.Base.html#800" class="Bound">ε</a> <a id="852" class="Symbol">.</a><a id="853" href="Core.Container.html#628" class="Field">position</a>
  <a id="864" class="Symbol">;</a> <a id="866" href="Core.Signature.html#780" class="Field">fork</a>     <a id="875" class="Symbol">=</a> <a id="877" class="Symbol">λ</a> <a id="879" href="Effect.Base.html#879" class="Bound">_</a> <a id="881" class="Symbol">→</a> <a id="883" href="Data.Empty.html#914" class="Function">⊥</a> 
  <a id="888" class="Symbol">;</a> <a id="890" href="Core.Signature.html#809" class="Field">returns</a>  <a id="899" class="Symbol">=</a> <a id="901" class="Symbol">λ()</a>
  <a id="907" class="Symbol">}</a>

<a id="910" class="Keyword">variable</a> <a id="919" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="921" href="Effect.Base.html#921" class="Generalizable">ε₁</a> <a id="924" href="Effect.Base.html#924" class="Generalizable">ε₂</a> <a id="927" href="Effect.Base.html#927" class="Generalizable">ε₃</a> <a id="930" href="Effect.Base.html#930" class="Generalizable">ε′</a> <a id="933" class="Symbol">:</a> <a id="935" href="Effect.Base.html#735" class="Function">Effect</a>
         <a id="951" href="Effect.Base.html#951" class="Generalizable">η</a> <a id="953" href="Effect.Base.html#953" class="Generalizable">η₁</a> <a id="956" href="Effect.Base.html#956" class="Generalizable">η₂</a> <a id="959" href="Effect.Base.html#959" class="Generalizable">η₃</a> <a id="962" href="Effect.Base.html#962" class="Generalizable">η′</a> <a id="965" class="Symbol">:</a> <a id="967" href="Effect.Base.html#756" class="Function">Effectᴴ</a>

<a id="embed"></a><a id="976" href="Effect.Base.html#976" class="Function">embed</a> <a id="982" class="Symbol">:</a> <a id="984" href="Relation.Unary.html#3793" class="Function">∀[</a> <a id="987" href="Core.Functor.html#1552" class="Generalizable">F</a> <a id="989" href="Relation.Unary.html#5784" class="Function Operator">⊢</a> <a id="991" href="Core.Container.html#676" class="Record Operator">⟦</a> <a id="993" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="995" href="Core.Container.html#676" class="Record Operator">⟧ᶜ</a> <a id="998" href="Relation.Unary.html#5039" class="Function Operator">⇒</a> <a id="1000" href="Core.Signature.html#946" class="Record Operator">⟦</a> <a id="1002" href="Effect.Base.html#786" class="Function">↑</a> <a id="1004" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="1006" href="Core.Signature.html#946" class="Record Operator">⟧</a> <a id="1008" href="Core.Functor.html#1552" class="Generalizable">F</a> <a id="1010" href="Relation.Unary.html#3793" class="Function">]</a>
<a id="1012" href="Effect.Base.html#976" class="Function">embed</a> <a id="1018" href="Core.Container.html#719" class="InductiveConstructor Operator">⟨</a> <a id="1020" href="Effect.Base.html#1020" class="Bound">s</a> <a id="1022" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1024" href="Effect.Base.html#1024" class="Bound">p</a> <a id="1026" href="Core.Container.html#719" class="InductiveConstructor Operator">⟩</a> <a id="1028" class="Symbol">.</a><a id="1029" href="Core.Signature.html#1019" class="Field">reflect</a> <a id="1037" class="Symbol">=</a> <a id="1039" href="Effect.Base.html#1020" class="Bound">s</a> <a id="1041" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1043" href="Effect.Base.html#1024" class="Bound">p</a> <a id="1045" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1047" class="Symbol">λ()</a>

<a id="embed-free"></a><a id="1052" href="Effect.Base.html#1052" class="Function">embed-free</a> <a id="1063" class="Symbol">:</a> <a id="1065" href="Relation.Unary.html#3793" class="Function">∀[</a> <a id="1068" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="1073" href="Effect.Base.html#919" class="Generalizable">ε</a> <a id="1075" href="Relation.Unary.html#5039" class="Function Operator">⇒</a> <a id="1077" href="Effect.Syntax.Hefty.html#408" class="Datatype">Hefty</a> <a id="1083" class="Symbol">(</a><a id="1084" href="Effect.Base.html#786" class="Function">↑</a> <a id="1086" href="Effect.Base.html#919" class="Generalizable">ε</a><a id="1087" class="Symbol">)</a> <a id="1089" href="Relation.Unary.html#3793" class="Function">]</a>
<a id="1091" href="Effect.Base.html#1052" class="Function">embed-free</a> <a id="1102" class="Symbol">=</a> <a id="1104" href="Effect.Syntax.Free.html#946" class="Function">fold-free</a> <a id="1114" href="Effect.Syntax.Hefty.html#454" class="InductiveConstructor">pure</a> <a id="1119" class="Symbol">λ</a> <a id="1121" class="Keyword">where</a> <a id="1127" class="Symbol">.</a><a id="1128" href="Core.Container.html#844" class="Field">αᶜ</a> <a id="1131" href="Effect.Base.html#1131" class="Bound">x</a> <a id="1133" class="Symbol">→</a> <a id="1135" href="Effect.Syntax.Hefty.html#497" class="InductiveConstructor">impure</a> <a id="1142" class="Symbol">(</a><a id="1143" href="Effect.Base.html#976" class="Function">embed</a> <a id="1149" href="Effect.Base.html#1131" class="Bound">x</a><a id="1150" class="Symbol">)</a>

<a id="1153" class="Comment">-- Signature/highe-order effect morphisms</a>
<a id="free-resp-⇿"></a><a id="1195" href="Effect.Base.html#1195" class="Function">free-resp-⇿</a> <a id="1207" class="Symbol">:</a> <a id="1209" href="Effect.Base.html#921" class="Generalizable">ε₁</a> <a id="1212" href="Core.Container.html#1725" class="Record Operator">⇿</a> <a id="1214" href="Effect.Base.html#924" class="Generalizable">ε₂</a> <a id="1217" class="Symbol">→</a> <a id="1219" href="Relation.Unary.html#3793" class="Function">∀[</a> <a id="1222" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="1227" href="Effect.Base.html#921" class="Generalizable">ε₁</a> <a id="1230" href="Relation.Unary.html#5039" class="Function Operator">⇒</a> <a id="1232" href="Effect.Syntax.Free.html#483" class="Datatype">Free</a> <a id="1237" href="Effect.Base.html#924" class="Generalizable">ε₂</a> <a id="1240" href="Relation.Unary.html#3793" class="Function">]</a>
<a id="1242" href="Effect.Base.html#1195" class="Function">free-resp-⇿</a> <a id="1254" href="Effect.Base.html#1254" class="Bound">eq</a> <a id="1257" class="Symbol">=</a> <a id="1259" href="Effect.Syntax.Free.html#1715" class="Function">hmap-free</a> <a id="1269" class="Symbol">(</a><a id="1270" href="Effect.Base.html#1254" class="Bound">eq</a> <a id="1273" class="Symbol">.</a><a id="1274" href="Core.Container.html#1779" class="Field">equivalence</a> <a id="1286" class="Symbol">_</a> <a id="1288" class="Symbol">.</a><a id="1289" href="Function.Bundles.html#7394" class="Field">Inverse.to</a><a id="1299" class="Symbol">)</a> 


</pre></body></html>